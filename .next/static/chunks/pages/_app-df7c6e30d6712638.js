(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{92:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6069)}])},166:(e,t,r)=>{"use strict";r.d(t,{UU:()=>rT});let n=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,785)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)};class i extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class s extends i{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends i{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends i{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));var l,u,c,d,h,p,f,m,g,v,y,b=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};class w{constructor(e,{headers:t={},customFetch:r,region:i=l.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=n(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return b(this,void 0,void 0,function*(){try{let n,i,{headers:l,method:u,body:c,signal:d}=t,h={},{region:p}=t;p||(p=this.region);let f=new URL(`${this.url}/${e}`);p&&"any"!==p&&(h["x-region"]=p,f.searchParams.set("forceFunctionRegion",p)),c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&("undefined"!=typeof Blob&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",n=c):"string"==typeof c?(h["Content-Type"]="text/plain",n=c):"undefined"!=typeof FormData&&c instanceof FormData?n=c:(h["Content-Type"]="application/json",n=JSON.stringify(c)));let m=yield this.fetch(f.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:n,signal:d}).catch(e=>{if("AbortError"===e.name)throw e;throw new s(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new o(m);if(!m.ok)throw new a(m);let v=(null!=(r=m.headers.get("Content-Type"))?r:"text/plain").split(";")[0].trim();return{data:i="application/json"===v?yield m.json():"application/octet-stream"===v?yield m.blob():"text/event-stream"===v?m:"multipart/form-data"===v?yield m.formData():yield m.text(),error:null,response:m}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return{data:null,error:new s(e)};return{data:null,error:e,response:e instanceof a||e instanceof o?e.context:void 0}}})}}let{PostgrestClient:k,PostgrestQueryBuilder:S,PostgrestFilterBuilder:x,PostgrestTransformBuilder:_,PostgrestBuilder:E,PostgrestError:C}=r(9503);var T=r(5364);class j{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==r.g&&void 0!==r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(e=navigator.userAgent)?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(void 0!==T){let e=T.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}let O=j,A="2.15.5",I=`realtime-js/${A}`,P="1.0.0",R=1e4,$=1e3,M=100;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(u||(u={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(c||(c={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(d||(d={})),function(e){e.websocket="websocket"}(h||(h={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(p||(p={}));class L{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=r.decode(e.slice(s,s+n));s+=n;let a=r.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class N{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(f||(f={}));let B=(e,t,r={})=>{var n;let i=null!=(n=r.skipTypes)?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=U(n,e,t,i),r),{})},U=(e,t,r,n)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=r[e];return s&&!n.includes(s)?D(s,o):q(o)},D=(e,t)=>{if("_"===e.charAt(0))return V(t,e.slice(1,e.length));switch(e){case f.bool:return F(t);case f.float4:case f.float8:case f.int2:case f.int4:case f.int8:case f.numeric:case f.oid:return z(t);case f.json:case f.jsonb:return W(t);case f.timestamp:return H(t);case f.abstime:case f.date:case f.daterange:case f.int4range:case f.int8range:case f.money:case f.reltime:case f.text:case f.time:case f.timestamptz:case f.timetz:case f.tsrange:case f.tstzrange:default:return q(t)}},q=e=>e,F=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},z=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},W=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},V=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n,i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>D(t,e))}return e},H=e=>"string"==typeof e?e.replace(" ","T"):e,K=e=>{let t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"};class J{constructor(e,t,r={},n=R){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null==(r=this.receivedResp)?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(m||(m={}));class Y{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Y.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Y.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Y.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let s=null!=(i=e[t])?i:[];if(e[t]=this.cloneDeep(n),s.length>0){let r=e[t].map(e=>e.presence_ref),n=s.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let i=e[t];if(!i)return;let s=r.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(g||(g={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(v||(v={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(y||(y={}));class G{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=c.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new J(this,d.join,this.params,this.timeout),this.rejoinTimer=new N(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=c.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=c.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this._on(d.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Y(this),this.broadcastEndpointURL=K(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==c.closed){let{config:{broadcast:s,presence:o,private:a}}=this.params,l=null!=(n=null==(r=this.bindings.postgres_changes)?void 0:r.map(e=>e.filter))?n:[],u=!!this.bindings[v.PRESENCE]&&this.bindings[v.PRESENCE].length>0||(null==(i=this.params.config.presence)?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(y.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(y.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0===t){null==e||e(y.SUBSCRIBED);return}{let n=this.bindings.postgres_changes,i=null!=(r=null==n?void 0:n.length)?r:0,s=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:a,table:l,filter:u}}=i,d=t&&t[r];if(d&&d.event===o&&d.schema===a&&d.table===l&&d.filter===u)s.push(Object.assign(Object.assign({},i),{id:d.id}));else{this.unsubscribe(),this.state=c.errored,null==e||e(y.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e(y.SUBSCRIBED);return}}).receive("error",t=>{this.state=c.errored,null==e||e(y.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(y.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===c.joined&&e===v.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(s=null==(i=null==(n=this.params)?void 0:n.config)?void 0:i.broadcast)?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{let{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!=(r=t.timeout)?r:this.timeout);return await (null==(n=e.body)?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=c.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(d.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{(r=new J(this,d.leave,{},e)).receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=c.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let n=new AbortController,i=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new J(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>M){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:u}=d,c=[o,a,l,u];if(r&&c.indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null==(n=this.bindings.postgres_changes)||n.filter(e=>{var t,r,n;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(n=null==(r=e.filter)?void 0:r.event)?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(h,r)):null==(i=this.bindings[s])||i.filter(e=>{var r,n,i,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null==(r=e.filter)?void 0:r.event;return s&&(null==(n=t.ids)?void 0:n.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null==(i=t.data)?void 0:i.type.toLocaleLowerCase()))}{let r=null==(a=null==(o=null==e?void 0:e.filter)?void 0:o.event)?void 0:a.toLocaleLowerCase();return"*"===r||r===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof h&&"ids"in h){let e=h.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:s}=e;h=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(h,r)})}_isClosed(){return this.state===c.closed}_isJoined(){return this.state===c.joined}_isJoining(){return this.state===c.joining}_isLeaving(){return this.state===c.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null==(n=e.type)?void 0:n.toLocaleLowerCase())===r&&G.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(d.close,{},e)}_onError(e){this._on(d.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=c.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=B(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=B(e.columns,e.old_record)),t}}let Q=()=>{},X={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Z=[1e3,2e3,5e3,1e4],ee=1e4,et=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class er{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R,this.transport=null,this.heartbeatIntervalMs=X.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q,this.ref=0,this.reconnectTimer=null,this.logger=Q,this.conn=null,this.sendBuffer=[],this.serializer=new L,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,785)).then(({default:t})=>t(...e)).catch(e=>{throw Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null==(n=null==t?void 0:t.params)?void 0:n.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${h.websocket}`,this.httpEndpoint=K(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case u.connecting:return p.Connecting;case u.open:return p.Open;case u.closing:return p.Closing;default:return p.Closed}}isConnected(){return this.connectionState()===p.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{let r=new G(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close($,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},X.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(e){this.log("error","error in heartbeat callback",e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:r,payload:n,ref:i}=e,s=i?`(${i})`:"",o=n.status||"";this.log("receive",`${o} ${t} ${r} ${s}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(d.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([et],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let r={access_token:t,version:I};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(d.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new N(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},X.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,i,s,o,a,l,u;if(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(r=null==e?void 0:e.timeout)?r:R,this.heartbeatIntervalMs=null!=(n=null==e?void 0:e.heartbeatIntervalMs)?n:X.HEARTBEAT_INTERVAL,this.worker=null!=(i=null==e?void 0:e.worker)&&i,this.accessToken=null!=(s=null==e?void 0:e.accessToken)?s:null,this.heartbeatCallback=null!=(o=null==e?void 0:e.heartbeatCallback)?o:Q,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(a=null==e?void 0:e.reconnectAfterMs)?a:e=>Z[e-1]||ee,this.encode=null!=(l=null==e?void 0:e.encode)?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(u=null==e?void 0:e.decode)?u:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class en extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ei(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class es extends en{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eo extends en{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ea=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};let el=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,785)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},eu=()=>ea(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,785))).Response:Response}),ec=e=>{if(Array.isArray(e))return e.map(e=>ec(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=ec(r)}),t},ed=e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var eh=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ep=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ef=(e,t,r)=>eh(void 0,void 0,void 0,function*(){e instanceof(yield eu())&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{let n=e.status||500,i=(null==r?void 0:r.statusCode)||n+"";t(new es(ep(r),n,i))}).catch(e=>{t(new eo(ep(e),e))}):t(new eo(ep(e),e))}),em=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?(ed(n)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r)):i};function eg(e,t,r,n,i,s){return eh(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,em(t,n,i,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>ef(e,a,n))})})}function ev(e,t,r,n){return eh(this,void 0,void 0,function*(){return eg(e,"GET",t,r,n)})}function ey(e,t,r,n,i){return eh(this,void 0,void 0,function*(){return eg(e,"POST",t,n,i,r)})}function eb(e,t,r,n,i){return eh(this,void 0,void 0,function*(){return eg(e,"PUT",t,n,i,r)})}function ew(e,t,r,n){return eh(this,void 0,void 0,function*(){return eg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ek(e,t,r,n,i){return eh(this,void 0,void 0,function*(){return eg(e,"DELETE",t,n,i,r)})}var eS=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};class ex{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return eS(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}}var e_=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};class eE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new ex(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return e_(this,void 0,void 0,function*(){try{let e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}}var eC=r(2909).hp,eT=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eA{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=el(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,n){return eT(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},eO),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)}),a=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?((i=r).append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield("PUT"==e?eb:ey)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:c.Id,fullPath:c.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}upload(e,t,r){return eT(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return eT(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e,t=Object.assign({upsert:eO.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);let a=yield eb(this.fetch,o.toString(),e,{headers:s});return{data:{path:i,fullPath:a.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return eT(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");let i=yield ey(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new en("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}update(e,t,r){return eT(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return eT(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}copy(e,t,r){return eT(this,void 0,void 0,function*(){try{return{data:{path:(yield ey(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return eT(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ey(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return eT(this,void 0,void 0,function*(){try{let n=yield ey(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}download(e,t){let r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(e);return new eE(()=>ev(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return eT(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield ev(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ec(e),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}exists(e){return eT(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield ew(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e)&&e instanceof eo){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}remove(e){return eT(this,void 0,void 0,function*(){try{return{data:yield ek(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}list(e,t,r){return eT(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},ej),t),{prefix:e||""});return{data:yield ey(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}listV2(e,t){return eT(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield ey(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==eC?eC.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eI="2.12.2",eP={"X-Client-Info":`storage-js/${eI}`};var eR=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};class e${constructor(e,t={},r,n){this.shouldThrowOnError=!1;let i=new URL(e);(null==n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},eP),t),this.fetch=el(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return eR(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}getBucket(e){return eR(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return eR(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return eR(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}emptyBucket(e){return eR(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}deleteBucket(e){return eR(this,void 0,void 0,function*(){try{return{data:yield ek(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ei(e))return{data:null,error:e};throw e}})}}class eM extends e${constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new eA(this.url,this.headers,e,this.fetch)}}let eL="2.58.0",eN="";eN="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let eB={headers:{"X-Client-Info":`supabase-js-${eN}/${eL}`}},eU={schema:"public"},eD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eq={};var eF=r(785),ez=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};let eW=e=>{let t;return t=e||("undefined"==typeof fetch?eF.default:fetch),(...e)=>t(...e)},eV=()=>"undefined"==typeof Headers?eF.Headers:Headers,eH=(e,t,r)=>{let n=eW(r),i=eV();return(r,s)=>ez(void 0,void 0,void 0,function*(){var o;let a=null!=(o=yield t())?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var eK=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};function eJ(e){return e.endsWith("/")?e:e+"/"}function eY(e,t){var r,n;let{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!=(r=null==d?void 0:d.headers)?r:{}),null!=(n=null==a?void 0:a.headers)?n:{})}),accessToken:()=>eK(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function eG(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eJ(t))}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}let eQ="2.72.0",eX=3e4,eZ=3,e0=9e4,e1="http://localhost:9999",e2="supabase.auth.token",e5={"X-Client-Info":`gotrue-js/${eQ}`},e3="X-Supabase-Api-Version",e6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e8=6e5;class e9 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function e7(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class te extends e9{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function tt(e){return e7(e)&&"AuthApiError"===e.name}class tr extends e9{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class tn extends e9{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class ti extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ts(e){return e7(e)&&"AuthSessionMissingError"===e.name}class to extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ta extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tl extends tn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tu(e){return e7(e)&&"AuthImplicitGrantRedirectError"===e.name}class tc extends tn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class td extends tn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function th(e){return e7(e)&&"AuthRetryableFetchError"===e.name}class tp extends tn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class tf extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tg=" 	\n\r=".split(""),tv=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tg.length;t+=1)e[tg[t].charCodeAt(0)]=-2;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=t;return e})();function ty(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(tm[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(tm[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function tb(e,t,r){let n=tv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function tw(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=e=>{tx(e,n,r)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),i,s);return t.join("")}function tk(e,t){if(e<=127)return void t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}tk(n,t)}}function tx(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}function t_(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),r,n);return new Uint8Array(t)}function tE(e){let t=[];return tS(e,e=>t.push(e)),new Uint8Array(t)}function tC(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>ty(e,r,n)),ty(null,r,n),t.join("")}function tT(e){return Math.round(Date.now()/1e3)+e}function tj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}let tO=()=>"undefined"!=typeof window&&"undefined"!=typeof document,tA={tested:!1,writable:!1},tI=()=>{if(!tO())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(tA.tested)return tA.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tA.tested=!0,tA.writable=!0}catch(e){tA.tested=!0,tA.writable=!1}return tA.writable};function tP(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}let tR=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,785)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},t$=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,tM=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tL=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},tN=async(e,t)=>{await e.removeItem(t)};class tB{constructor(){this.promise=new tB.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tU(e){let t=e.split(".");if(3!==t.length)throw new tf("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!e4.test(t[e]))throw new tf("JWT not in base64url format");return{header:JSON.parse(tw(t[0])),payload:JSON.parse(tw(t[1])),signature:t_(t[2]),raw:{header:t[0],payload:t[1]}}}async function tD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tq(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{let n=await e(i);if(!t(i,null,n))return void r(n)}catch(e){if(!t(i,e))return void n(e)}})()})}function tF(e){return("0"+e.toString(16)).substr(-2)}function tz(){let e=56,t=new Uint32Array(56);if("undefined"==typeof crypto){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,tF).join("")}async function tW(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tV(e){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e):btoa(await tW(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tH(e,t,r=!1){let n=tz(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await tM(e,`${t}-code-verifier`,i);let s=await tV(n),o=n===s?"plain":"s256";return[s,o]}tB.promiseConstructor=Promise;let tK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tJ(e){let t=e.headers.get(e3);if(!t||!t.match(tK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}function tY(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}function tG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}let tQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tX(e){if(!tQ.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tZ(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t0(e){return JSON.parse(JSON.stringify(e))}var t1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let t2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t5=[502,503,504];async function t3(e){var t;let r,n;if(!t$(e))throw new td(t2(e),0);if(t5.includes(e.status))throw new td(t2(e),e.status);try{r=await e.json()}catch(e){throw new tr(t2(e),e)}let i=tJ(e);if(i&&i.getTime()>=e6["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new tp(t2(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===n)throw new ti}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new tp(t2(r),e.status,r.weak_password.reasons);throw new te(t2(r),e.status||500,n)}let t6=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function t4(e,t,r,n){var i;let s=Object.assign({},null==n?void 0:n.headers);s[e3]||(s[e3]=e6["2024-01-01"].name),(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);let o=null!=(i=null==n?void 0:n.query)?i:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await t8(e,t,r+a,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function t8(e,t,r,n,i,s){let o,a=t6(t,n,i,s);try{o=await e(r,Object.assign({},a))}catch(e){throw console.error(e),new td(t2(e),0)}if(o.ok||await t3(o),null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(e){await t3(e)}}function t9(e){var t;let r=null;return ri(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tT(e.expires_in))),{data:{session:r,user:null!=(t=e.user)?t:e},error:null}}function t7(e){let t=t9(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function re(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function rt(e){return{data:e,error:null}}function rr(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=t1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function rn(e){return e}function ri(e){return e.access_token&&e.refresh_token&&e.expires_in}let rs=["global","local","others"];var ro=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class ra{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=tR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=rs[0]){if(0>rs.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${rs.join(", ")}`);try{return await t4(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(e7(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await t4(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:re})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=ro(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await t4(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:rr,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(e7(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await t4(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:re})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,s,o,a;try{let l={nextPage:null,lastPage:0,total:0},u=await t4(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(i=null==(n=null==e?void 0:e.perPage)?void 0:n.toString())?i:""},xform:rn});if(u.error)throw u.error;let c=await u.json(),d=null!=(s=u.headers.get("x-total-count"))?s:0,h=null!=(a=null==(o=u.headers.get("link"))?void 0:o.split(","))?a:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(e7(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){tX(e);try{return await t4(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:re})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){tX(e);try{return await t4(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:re})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){tX(e);try{return await t4(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:re})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){tX(e.userId);try{let{data:t,error:r}=await t4(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(e7(e))return{data:null,error:e};throw e}}async _deleteFactor(e){tX(e.userId),tX(e.id);try{return{data:await t4(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(e7(e))return{data:null,error:e};throw e}}}function rl(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ru(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}let rc={debug:!!(globalThis&&tI()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class rd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rh extends rd{}async function rp(e,t,r){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),rc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}if(0===t)throw rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rc.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function rf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rm(e){return parseInt(e,16)}function rg(e){return"0x"+Array.from(new TextEncoder().encode(e),e=>e.toString(16).padStart(2,"0")).join("")}function rv(e){var t;let{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let p=rf(e.address),f=c?`${c}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${f} wants you to sign in with your Ethereum account:
${p}

${m}`,v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}v+=e}return`${g}
${v}`}ru();let ry={url:e1,storageKey:e2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rb(e,t,r){return await r()}let rw={};class rk{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rk.nextInstanceID,rk.nextInstanceID+=1,this.instanceID>0&&tO()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},ry),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ra({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tR(n.fetch),this.lock=n.lock||rb,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:tO()&&(null==(t=null==globalThis?void 0:globalThis.navigator)?void 0:t.locks)?this.lock=rp:this.lock=rb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:tI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rl(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=rl(this.memoryStorage)),tO()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(r=this.broadcastChannel)||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!=(t=null==(e=rw[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){rw[this.storageKey]=Object.assign(Object.assign({},rw[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=rw[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rw[this.storageKey]=Object.assign(Object.assign({},rw[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eQ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=tP(window.location.href),r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),tO()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tu(i)){let t=null==(e=i.details)?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}let{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(e7(e))return{error:e};return{error:new tr("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:i,error:s}=await t4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(n=null==e?void 0:e.options)?void 0:n.captchaToken}},xform:t9});if(s||!i)return{data:{user:null,session:null},error:s};let o=i.session,a=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let i;if("email"in e){let{email:r,password:n,options:s}=e,o=null,a=null;"pkce"===this.flowType&&([o,a]=await tH(this.storage,this.storageKey)),i=await t4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!=(t=null==s?void 0:s.data)?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:t9})}else if("phone"in e){let{phone:t,password:s,options:o}=e;i=await t4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!=(r=null==o?void 0:o.data)?r:{},channel:null!=(n=null==o?void 0:o.channel)?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:t9})}else throw new ta("You must provide either an email or phone number and a password");let{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};let a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:i}=e;t=await t4(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:t7})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await t4(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:t7})}else throw new ta("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return{data:{user:null,session:null},error:n};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new to};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(n=e.options)?void 0:n.queryParams,skipBrowserRedirect:null==(i=e.options)?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,i,s,o,a,l,u,c,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{let c,{chain:d,wallet:f,statement:m,options:g}=e;if(tO())if("object"==typeof f)c=f;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof f||!(null==g?void 0:g.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=f}let v=new URL(null!=(t=null==g?void 0:g.url)?t:window.location.href),y=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let b=rf(y[0]),w=null==(r=null==g?void 0:g.signInWithEthereum)?void 0:r.chainId;w||(w=rm(await c.request({method:"eth_chainId"}))),h=rv({domain:v.host,address:b,statement:m,uri:v.href,version:"1",chainId:w,nonce:null==(n=null==g?void 0:g.signInWithEthereum)?void 0:n.nonce,issuedAt:null!=(s=null==(i=null==g?void 0:g.signInWithEthereum)?void 0:i.issuedAt)?s:new Date,expirationTime:null==(o=null==g?void 0:g.signInWithEthereum)?void 0:o.expirationTime,notBefore:null==(a=null==g?void 0:g.signInWithEthereum)?void 0:a.notBefore,requestId:null==(l=null==g?void 0:g.signInWithEthereum)?void 0:l.requestId,resources:null==(u=null==g?void 0:g.signInWithEthereum)?void 0:u.resources}),p=await c.request({method:"personal_sign",params:[rg(h),b]})}try{let{data:t,error:r}=await t4(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:t9});if(r)throw r;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new to};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSolana(e){var t,r,n,i,s,o,a,l,u,c,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{let d,{chain:h,wallet:m,statement:g,options:v}=e;if(tO())if("object"==typeof m)d=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))d=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof m||!(null==v?void 0:v.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");d=m}let y=new URL(null!=(t=null==v?void 0:v.url)?t:window.location.href);if("signIn"in d&&d.signIn){let e,t=await d.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)p="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),f=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in d)||"function"!=typeof d.signMessage||!("publicKey"in d)||"object"!=typeof d||!d.publicKey||!("toBase58"in d.publicKey)||"function"!=typeof d.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${y.host} wants you to sign in with your Solana account:`,d.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!=(n=null==(r=null==v?void 0:v.signInWithSolana)?void 0:r.issuedAt)?n:new Date().toISOString()}`,...(null==(i=null==v?void 0:v.signInWithSolana)?void 0:i.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null==(s=null==v?void 0:v.signInWithSolana)?void 0:s.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null==(o=null==v?void 0:v.signInWithSolana)?void 0:o.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null==(a=null==v?void 0:v.signInWithSolana)?void 0:a.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null==(l=null==v?void 0:v.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null==(c=null==(u=null==v?void 0:v.signInWithSolana)?void 0:u.resources)?void 0:c.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await d.signMessage(new TextEncoder().encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{let{data:t,error:r}=await t4(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:tC(f)},(null==(d=e.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:t9});if(r)throw r;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new to};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){let t=await tL(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{let{data:t,error:i}=await t4(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:t9});if(await tN(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new to};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i}}catch(e){if(e7(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:i,nonce:s}=e,{data:o,error:a}=await t4(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:t9});if(a)return{data:{user:null,session:null},error:a};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new to};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,i,s;try{if("email"in e){let{email:n,options:i}=e,s=null,o=null;"pkce"===this.flowType&&([s,o]=await tH(this.storage,this.storageKey));let{error:a}=await t4(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!=(t=null==i?void 0:i.data)?t:{},create_user:null==(r=null==i?void 0:i.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:t,options:r}=e,{data:o,error:a}=await t4(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(n=null==r?void 0:r.data)?n:{},create_user:null==(i=null==r?void 0:r.shouldCreateUser)||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(s=null==r?void 0:r.channel)?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new ta("You must provide either an email or phone number.")}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null==(t=e.options)?void 0:t.redirectTo,i=null==(r=e.options)?void 0:r.captchaToken);let{data:s,error:o}=await t4(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:t9});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");let a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{let i=null,s=null;return"pkce"===this.flowType&&([i,s]=await tH(this.storage,this.storageKey)),await t4(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(n=null==e?void 0:e.options)?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:rt})}catch(e){if(e7(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ti;let{error:n}=await t4(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:s}=await t4(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:s,error:o}=await t4(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new ta("You must provide either an email or phone number and a type")}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await tL(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=!!e.expires_at&&1e3*e.expires_at-Date.now()<e0;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){let t=await tL(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=tZ()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await t4(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:re});return await this._useSession(async e=>{var t,r,n;let{data:i,error:s}=e;if(s)throw s;return(null==(t=i.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await t4(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(n=null==(r=i.session)?void 0:r.access_token)?n:void 0,xform:re}):{data:{user:null},error:new ti}})}catch(e){if(e7(e))return ts(e)&&(await this._removeSession(),await tN(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new ti;let s=n.session,o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await tH(this.storage,this.storageKey));let{data:l,error:u}=await t4(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:re});if(u)throw u;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(e){if(e7(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ti;let t=Date.now()/1e3,r=t,n=!0,i=null,{payload:s}=tU(e.access_token);if(s.exp&&(n=(r=s.exp)<=t),n){let{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(e7(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!=(r=n.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new ti;let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(e7(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!tO())throw new tl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new tc("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new tl("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tc("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=e;if(!i||!o||!s||!l)throw new tl("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(o),d=u+c;a&&(d=parseInt(a));let h=d-u;1e3*h<=eX&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);let p=d-c;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);let{data:f,error:m}=await this._getUser(i);if(m)throw m;let g={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:d,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(e){if(e7(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tL(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{error:i};let s=null==(r=n.session)?void 0:r.access_token;if(s){let{error:t}=await this.admin.signOut(s,e);if(t&&!(tt(t)&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await tN(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t=tj(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null==(n=this.stateChangeEmitters.get(e))?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await tH(this.storage,this.storageKey,!0));try{return await t4(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(e7(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!=(e=t.user.identities)?e:[]},error:null}}catch(e){if(e7(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,s,o;let{data:a,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(n=e.options)?void 0:n.scopes,queryParams:null==(i=e.options)?void 0:i.queryParams,skipBrowserRedirect:!0});return await t4(this.fetch,"GET",u,{headers:this.headers,jwt:null!=(o=null==(s=a.session)?void 0:s.access_token)?o:void 0})});if(n)throw n;return!tO()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(e7(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)throw s;return await t4(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(n=null==(r=i.session)?void 0:r.access_token)?n:void 0})})}catch(e){if(e7(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{let r=Date.now();return await tq(async r=>(r>0&&await tD(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await t4(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:t9})),(e,t)=>{let n=200*Math.pow(2,e);return t&&th(t)&&Date.now()+n-r<eX})}catch(e){if(this._debug(t,"error",e),e7(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tO()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let n=await tL(this.storage,this.storageKey);if(n&&this.userStorage){let t=await tL(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:n.user},await tM(this.userStorage,this.storageKey+"-user",t)),n.user=null!=(e=null==t?void 0:t.user)?e:tZ()}else if(n&&!n.user&&!n.user){let e=await tL(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await tN(this.storage,this.storageKey+"-user"),await tM(this.storage,this.storageKey,n)):n.user=tZ()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),null!==n&&await this._removeSession();return}let i=(null!=(t=n.expires_at)?t:1/0)*1e3-Date.now()<e0;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${e0}s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),th(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tB;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ti;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),e7(e)){let r={session:null,error:e};return th(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await tM(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let n=t0(e);await tM(this.storage,this.storageKey,n)}else{let e=t0(t);await tM(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await tN(this.storage,this.storageKey),await tN(this.storage,this.storageKey+"-code-verifier"),await tN(this.storage,this.storageKey+"-user"),this.userStorage&&await tN(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tO()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),eX);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let n=Math.floor((1e3*r.expires_at-e)/eX);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${eX}ms, refresh threshold is ${eZ} ticks`),n<=eZ&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tO()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState)return void this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await tH(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await t4(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token})})}catch(e){if(e7(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)return{data:null,error:s};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await t4(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null==(n=null==a?void 0:a.totp)?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(e7(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{data:null,error:i};let{data:s,error:o}=await t4(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(e){if(e7(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await t4(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token})})}catch(e){if(e7(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=tU(n.access_token),o=null;s.aal&&(o=s.aal);let a=o;return(null!=(r=null==(t=n.user.factors)?void 0:t.filter(e=>"verified"===e.status))?r:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let n=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+e8>n)return r;let{data:i,error:s}=await t4(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return i.keys&&0!==i.keys.length&&(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{let r=e;if(!r){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}let{header:n,payload:i,signature:s,raw:{header:o,payload:a}}=tU(r);(null==t?void 0:t.allowExpired)||tY(i.exp);let l=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!l){let{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:n,signature:s},error:null}}let u=tG(n.alg),c=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,c,s,tE(`${o}.${a}`)))throw new tf("Invalid JWT signature");return{data:{claims:i,header:n,signature:s},error:null}}catch(e){if(e7(e))return{data:null,error:e};throw e}}}rk.nextInstanceID=0;let rS=rk;class rx extends rS{constructor(e){super(e)}}var r_=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):i(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};class rE{constructor(e,t,r){var n,i,s;this.supabaseUrl=e,this.supabaseKey=t;let o=eG(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let a=`sb-${o.hostname.split(".")[0]}-auth-token`,l=eY(null!=r?r:{},{db:eU,realtime:eq,auth:Object.assign(Object.assign({},eD),{storageKey:a}),global:eB});this.storageKey=null!=(n=l.auth.storageKey)?n:"",this.headers=null!=(i=l.global.headers)?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(s=l.auth)?s:{},this.headers,l.global.fetch),this.fetch=eH(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new k(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new eM(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new w(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return r_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return null!=(t=null==(e=r.session)?void 0:e.access_token)?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rx({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new er(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}var rC=r(5364);let rT=(e,t,r)=>new rE(e,t,r);(function(){if("undefined"!=typeof window||void 0===rC)return!1;let e=rC.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`)},377:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(785)),s=n(r(1528));class o{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n,i;let o=null,a=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){let r=await e.text();""===r||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(t=this.headers.get("Accept"))?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}let i=null==(r=this.headers.get("Prefer"))?void 0:r.match(/count=(exact|planned|estimated)/),s=null==(n=e.headers.get("content-range"))?void 0:n.split("/");i&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{let t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(a=[],o=null,u=200,c="OK")}catch(r){404===e.status&&""===t?(u=204,c="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null==(i=null==o?void 0:o.details)?void 0:i.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&this.shouldThrowOnError)throw new s.default(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!=(r=null==e?void 0:e.stack)?r:""}`,hint:"",code:`${null!=(n=null==e?void 0:e.code)?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}t.default=o},785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>o,Request:()=>a,Response:()=>l,default:()=>s,fetch:()=>i});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();let i=n.fetch,s=n.fetch.bind(n),o=n.Headers,a=n.Request,l=n.Response},1370:(e,t)=>{"use strict";t.byteLength=u,t.toByteArray=d,t.fromByteArray=f;for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function u(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n}function c(e,t,r){return(t+r)*3/4-r}function d(e){var t,r,s=l(e),o=s[0],a=s[1],u=new i(c(e,o,a)),d=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[d++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(h((e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function f(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,l=n-i;a<l;a+=o)s.push(p(e,a,a+o>l?l:a+o));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")}n[45]=62,n[95]=63},1528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2909:(e,t,r)=>{"use strict";var n,i=r(1370),s=r(7247),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=u,n=w,t.IS=50;var a=0x7fffffff;function l(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return f(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return v(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=y(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return(d(e),e<=0)?l(e):void 0!==t?"string"==typeof r?l(e).fill(t,r):l(e).fill(t):l(e)}function p(e){return d(e),l(e<0?0:0|b(e))}function f(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|k(e,t),n=l(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function m(e){for(var t=e.length<0?0:0|b(e.length),r=l(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e){if(Q(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return m(e)}function v(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),u.prototype),n}function y(e){if(u.isBuffer(e)){var t=0|b(e.length),r=l(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?l(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}function b(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function w(e){return+e!=e&&(e=0),u.alloc(+e)}function k(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function S(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),X(r*=1)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return E(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var d=!0,h=0;h<l;h++)if(u(e,s+h)!==u(t,h)){d=!1;break}if(d)return s}return -1}function C(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(X(a))break;e[r+o]=a}return o}function T(e,t,r,n){return G(H(t,e.length-r),e,r,n)}function j(e,t,r,n){return G(K(t),e,r,n)}function O(e,t,r,n){return G(Y(t),e,r,n)}function A(e,t,r,n){return G(J(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(s=e[i+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return $(n)}n=0x7fffffff,u.TYPED_ARRAY_SUPPORT=function e(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return h(e,t,r)},u.allocUnsafe=function(e){return p(e)},u.allocUnsafeSlow=function(e){return p(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(Q(s,Uint8Array))i+s.length>n.length?u.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else if(u.isBuffer(s))s.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return n},u.byteLength=k,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?P(this,0,e):S.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,o=r-t,a=Math.min(s,o),l=this.slice(n,i),c=e.slice(t,r),d=0;d<a;++d)if(l[d]!==c[d]){s=l[d],o=c[d];break}return s<o?-1:+(o<s)},u.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return C(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return j(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function $(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=Z[e[s]];return i}function B(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function U(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,s){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function q(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function F(e,t,r,n,i){return t*=1,r>>>=0,i||q(e,t,r,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,i){return t*=1,r>>>=0,i||q(e,t,r,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return(e>>>=0,t||U(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),s.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),s.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),s.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),s.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;D(this,e,t,r,i,0)}var s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;D(this,e,t,r,i,0)}var s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=u.isBuffer(e)?e:u.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};var W=/[^+/0-9A-Za-z-_]/g;function V(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function K(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}function Y(e){return i.toByteArray(V(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}var Z=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},4613:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(166);let i="https://rkonwkggxaohpmxmzmfn.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrb253a2dneGFvaHBteG16bWZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0OTk0MDQsImV4cCI6MjA3MzA3NTQwNH0.F8dsonOXlKqViCP-Jz5CpxS4ObXIbWoTHGLB3udjRqo";console.log("\uD83D\uDD0D Initializing Supabase client with:"),console.log("   URL:",i),console.log("   KEY (first 6):",s.slice(0,6));let o=(0,n.UU)(i,s)},4761:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(5997)),s=n(r(7711));class o{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){let t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){var o;let a,l,u=new URL(`${this.url}/rpc/${e}`);r||n?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{u.searchParams.append(e,t)})):(a="POST",l=t);let c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new s.default({method:a,url:u,headers:c,schema:this.schemaName,body:l,fetch:null!=(o=this.fetch)?o:fetch})}}t.default=o},5364:(e,t,r)=>{"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(5861)},5454:()=>{},5507:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{RZ:()=>BuilderComponent,cL:()=>_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL});var _a,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8335),_emotion_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7624),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4232),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8477),hash_sum__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6609),hash_sum__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_4__),process=__webpack_require__(5364),SDK_VERSION="8.2.8";"undefined"!=typeof window&&(null==(_a=window.parent)||_a.postMessage({type:"builder.isReactSdk",data:{value:!0,supportsPatchUpdates:"v4",supportsCustomBreakpoints:!0,supportsXSmallBreakpoint:!0,supportsGlobalSymbols:!0,blockLevelPersonalization:!0,version:SDK_VERSION}},"*"));var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function __decorate(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})}function __generator(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function __spreadArray(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var safeDynamicRequire,fastClone=function(e){return JSON.parse(JSON.stringify(e))},omit$2=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=Object.assign({},e),i=0,s=t;i<s.length;i++){var o=s[i];delete n[o]}return n},sizeNames=["xsmall","small","medium","large"],sizes={xsmall:{min:0,default:160,max:320},small:{min:321,default:321,max:640},medium:{min:641,default:642,max:991},large:{min:990,default:991,max:1200},getWidthForSize:function(e){return this[e].default},getSizeForWidth:function(e){for(var t=0,r=sizeNames;t<r.length;t++){var n=r[t];if(e<=this[n].max)return n}return"large"}},getSizesForBreakpoints=function(e){var t=__assign(__assign({},sizes),fastClone(sizes));if(!e)return t;var r=e.xsmall,n=e.small,i=e.medium;if(r){var s=Math.floor(r/2);t.xsmall={max:r,min:s,default:s+1}}if(!n||!i)return t;var o=r?t.xsmall.max+1:Math.floor(n/2);t.small={max:n,min:o,default:o+1};var a=t.small.max+1;t.medium={max:i,min:a,default:a+1};var l=t.medium.max+1;return t.large={max:2e3,min:l,default:l+1},t},set=function(e,t,r){if(Object(e)!==e)return e;var n=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g);return n.slice(0,-1).reduce(function(e,t,r){return Object(e[t])===e[t]?e[t]:e[t]=(0|Math.abs(Number(n[r+1])))==+n[r+1]?[]:{}},e)[n[n.length-1]]=r,e},noop=function(){return null};if("function"==typeof(null==globalThis?void 0:globalThis.require)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer&&1)try{safeDynamicRequire=eval("require")}catch(e){safeDynamicRequire=(null==globalThis?void 0:globalThis.require)?globalThis.require:noop}function isDebug(){return!!(void 0!==process&&void 0!==process.env&&process.env.DEBUG)}function isNodeRuntime(){var e;return void 0!==process&&!!(null==(e=null==process?void 0:process.versions)?void 0:e.node)}null!=safeDynamicRequire||(safeDynamicRequire=noop);var shouldForceBrowserRuntimeInNode=function(){if(!isNodeRuntime())return!1;var e,t="arm64"===process.arch,r=process.version.startsWith("v20"),n=null==(e=process.env.NODE_OPTIONS)?void 0:e.includes("--no-node-snapshot");return!(!t||!r||n)&&(console.log("Skipping usage of `isolated-vm` to avoid crashes in Node v20 on an arm64 machine.\n    If you would like to use the `isolated-vm` package on this machine, please provide the `NODE_OPTIONS=--no-node-snapshot` config to your Node process.\n    See https://github.com/BuilderIO/builder/blob/main/packages/react/README.md#node-v20--m1-macs-apple-silicon-support for more information.\n    "),!0)},fnCache={},api=function(e){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL};function stringToFunction(e,t,r,n){if(void 0===t&&(t=!0),!e||!e.trim())return function(){};var i=e+":"+t;if(fnCache[i])return fnCache[i];var s=t&&!(e.includes(";")||e.includes(" return ")||e.trim().startsWith("return "))||e.trim().startsWith("builder.run"),o=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(o=Function("state","event","block","builder","Device","update","Builder","context","\n          var names = [\n            'state',\n            'event',\n            'block',\n            'builder',\n            'Device',\n            'update',\n            'Builder',\n            'context'\n          ];\n          var rootState = state;\n          if (typeof Proxy !== 'undefined') {\n            rootState = new Proxy(rootState, {\n              set: function () {\n                return false;\n              },\n              get: function (target, key) {\n                if (names.includes(key)) {\n                  return undefined;\n                }\n                return target[key];\n              }\n            });\n          }\n          /* Alias */\n          var ctx = context;\n          var log = console.log.bind(console);\n          with (rootState) {\n            ".concat(s?"return (".concat(e,");"):e,";\n          }\n        ")))}catch(t){r&&r.push(t);var a=t&&t.message;a&&"string"==typeof a&&n&&-1===n.indexOf(a)&&n.push(a),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&console.warn("Function compile error in ".concat(e),t)}var l=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||shouldForceBrowserRuntimeInNode())return o.apply(void 0,t);var i=getIsolateContext(),a=safeDynamicRequire("isolated-vm"),l=i.evalClosureSync(makeFn(e,s),t.map(function(e,t){return"object"==typeof e?new a.Reference(t===indexOfBuilderInstance?__assign(__assign({},e),{getUserAttributes:function(){return e.getUserAttributes("")}}):e):null}));try{return JSON.parse(l)}catch(e){return l}}catch(t){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser?console.warn("Builder custom code error:",t.message||t,"in",e,t.stack||t):isDebug()&&console.debug("Builder custom code error:",t.message||t,"in",e,t.stack||t),r&&r.push(t),null}};return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(fnCache[i]=l),l}var indexOfBuilderInstance=3,makeFn=function(e,t,r){var n=r||["state","event","block","builder","Device","update","Builder","context"];return"\n".concat("\n  var refToProxy = (obj) => {\n    if (typeof obj !== 'object' || obj === null) {\n      return obj;\n    }\n    return new Proxy({}, {\n        get(target, key) {\n            if (key === 'copySync') {\n              return () => obj.copySync();\n            }\n            const val = obj.getSync(key);\n            if (typeof val?.copySync === 'function') {\n                return JSON.parse(stringify(val));\n            }\n            return val;\n        },\n        set(target, key, value) {\n            obj.setSync(key, value);\n        },\n        deleteProperty(target, key) {\n            obj.deleteSync(key);\n        }\n      })\n  }\n","\n").concat("\n    var stringify = (val) => {\n      if (typeof val === 'object' && val !== null) {\n        return JSON.stringify(val.copySync ? val.copySync() : val);\n      }\n      return val;\n    }\n  ","\n").concat(n.map(function(e,t){return"var ".concat(e," = refToProxy($").concat(t,");")}).join("\n")).concat("\n".concat(n.includes("context")?"var ctx = context;":"","\nvar endResult = function() {\n  ").concat(t?"return (".concat(e,");"):e,";\n};\n\nreturn stringify(endResult());\n"))},getIsolateContext=function(){var e=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.serverContext;e||(e=new(safeDynamicRequire("isolated-vm")).Isolate({memoryLimit:128}).createContextSync(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.setServerContext(e));var t=e.global;return t.setSync("global",t.derefInto()),t.setSync("log",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];isDebug()&&console.log.apply(console,e)}),e},isPromise=function(e){return"function"==typeof e.then},isRequestInfo=function(e){return!isPromise(e)},BuilderAsyncRequestsContext=react__WEBPACK_IMPORTED_MODULE_2__.createContext({requests:[],errors:[],logs:[]}),BuilderStoreContext=react__WEBPACK_IMPORTED_MODULE_2__.createContext({state:{},rootState:{},content:{},context:{},update:function(e){return null}}),applyPatchWithMinimalMutationChain=function(e,t,r){if(void 0===r&&(r=!1),Object(e)!==e)return e;var n=t.path,i=t.op,s=t.value,o=n.split(/\//);""===o[0]&&o.shift();for(var a=r?e:__assign({},e),l=a,u=0;u<o.length;u++){var c=u===o.length-1,d=o[u];if(c)if("replace"===i)l[d]=s;else if("add"===i){var h=Number(d);Array.isArray(l)?"-"===d?l.push(s):l.splice(h,0,s):l[d]=s}else"remove"===i&&(h=Number(d),Array.isArray(l)?l.splice(h,1):delete l[d]);else{var p=o[u+1],f=Object(l[d])===l[d]?l[d]:String(Number(p))===p?[]:{};l=l[d]=Array.isArray(f)?__spreadArray([],f,!0):__assign({},f)}}return a},htmlEscape=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},blockToHtmlString=function(e){var t;return"<".concat(htmlEscape(e.tagName||"div"),' \n    class="builder-block ').concat(e.id," ").concat(e.class||"",'"\n    builder-id="').concat(e.id,'"\n  ').concat(Object.keys(e.properties||{}).map(function(t){return"".concat(htmlEscape(t),'="').concat(htmlEscape(e.properties[t]),'"')}).join(" "),"\n  >").concat("Text"===(null==(t=null==e?void 0:e.component)?void 0:t.name)?e.component.options.text:e.children?e.children.map(function(e){return blockToHtmlString(e)}).join(""):"","</").concat(e.tagName||"div",">").replace(/\s+/g," ")},Link=function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderStoreContext.Consumer,null,function(t){return t.renderLink?t.renderLink(e):react__WEBPACK_IMPORTED_MODULE_2__.createElement("a",__assign({},e))})};function traverse(e,t,r,n,i){void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=new WeakSet),null!=e&&"object"==typeof e?i.has(e)||(i.add(e),Array.isArray(e)?e.forEach(function(r,n){t(r,function(t){e[n]=t}),traverse(r,t,e,n,i)}):Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t(s,function(t){e[n]=t}),traverse(s,t,e,n,i)})):t(e,function(e){null!==r&&null!==n&&(r[n]=e)})}var isLocalizedField=function(e){return e&&"object"==typeof e&&"@builder.io/core:LocalizedValue"===e["@type"]},containsLocalizedValues=function(e){if(!e||!Object.getOwnPropertyNames(e).length)return!1;var t=!1;return traverse(e,function(e){isLocalizedField(e)&&(t=!0)}),t},extractLocalizedValues=function(e,t){return e&&Object.getOwnPropertyNames(e).length?(traverse(e,function(e,r){var n;isLocalizedField(e)&&r(null!=(n=e[t])?n:void 0)}),e):{}},camelCaseToKebabCase=function(e){return e?e.replace(/([A-Z])/g,function(e){return"-".concat(e[0].toLowerCase())}):""},kebabCaseToCamelCase=function(e){return void 0===e&&(e=""),e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},Device={desktop:0,tablet:1,mobile:2};function deepCloneWithConditions(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(function(e){return deepCloneWithConditions(e)});if("@builder.io/sdk:Element"===e["@type"])return e;var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&("meta"===r?t.meta=e.meta:t[r]=deepCloneWithConditions(e[r]));return t}var voidElements=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","textarea"]),last=function(e){return e[e.length-1]};function omit$1(e,t){for(var r=Object.assign({},e),n=0,i=t;n<i.length;n++)delete r[i[n]];return r}var cssCase=function(e){if(!e)return e;var t=camelCaseToKebabCase(e);return e[0]===e[0].toUpperCase()&&(t="-"+t),t};function capitalize(e){if(e)return e[0].toUpperCase()+e.slice(1)}var BuilderBlock$1=function(_super){function BuilderBlock(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hydrated=!1,_this.state={hasError:!1,updates:0},_this.privateState={state:{},rootState:{},context:{},update:function(){}},_this.onWindowMessage=function(event){var message=event.data;if(message)switch(message.type){case"builder.selectionChange":var data=message.data;if(!data)break;var selection=data.selection,id=_this.block&&_this.block.id;id&&Array.isArray(selection)&&selection.indexOf(id)>-1&&setTimeout(function(){window.$block=_this,window.$blocks||(window.$blocks=[]),window.$blocks.push(_this)});break;case"builder.patchUpdates":var data=message.data;if(!data||!data.data)break;var patches=data.data[_this.block.id];if(!patches)return;location.href.includes("builder.debug=true")&&eval("debugger");for(var _i=0,patches_1=patches;_i<patches_1.length;_i++){var patch=patches_1[_i];applyPatchWithMinimalMutationChain(_this.props.block,patch,!0)}_this.setState({updates:_this.state.updates+1})}},_this}return __extends(BuilderBlock,_super),Object.defineProperty(BuilderBlock.prototype,"store",{get:function(){return this.privateState},enumerable:!1,configurable:!0}),BuilderBlock.getDerivedStateFromError=function(e){return{hasError:!0}},BuilderBlock.prototype.componentDidCatch=function(e,t){console.error("Builder block error:",e,t)},BuilderBlock.prototype.stringToFunction=function(e,t){return void 0===t&&(t=!0),stringToFunction(e,t,this._errors,this._logs)},Object.defineProperty(BuilderBlock.prototype,"block",{get:function(){return this.props.block},enumerable:!1,configurable:!0}),BuilderBlock.prototype.emotionCss=function(e){var t,r,n,i,s,o,a,l,u=this.block,c=u.animations&&u.animations[0];if(c&&"hover"!==c.trigger){var d=c&&c.steps&&c.steps[0],h=d&&d.styles;h&&(l=h)}var p=sizeNames.slice().reverse(),f={};if(e)for(var m=!!(null==(n=null==(r=null==(t=this.privateState.context.builderContent)?void 0:t.meta)?void 0:r.breakpoints)?void 0:n.xsmall),g=0,v=p;g<v.length;g++){var y=v[g];if(m||"xsmall"!==y)if("large"===y)this.props.emailMode||(f["&.builder-block"]=Object.assign({},e[y],l));else{var b=getSizesForBreakpoints((null==(s=null==(i=this.privateState.context.builderContent)?void 0:i.meta)?void 0:s.breakpoints)||{});f["@media only screen and (max-width: ".concat(b[y].max,"px)")]={"&.builder-block":e[y]}}}var w=u.animations&&u.animations.find(function(e){return"hover"===e.trigger});return w&&(f[":hover"]=(null==(a=null==(o=w.steps)?void 0:o[1])?void 0:a.styles)||{},f.transition="all ".concat(w.duration,"s ").concat(camelCaseToKebabCase(w.easing)),w.delay&&(f.transitionDelay=w.delay+"s")),f},BuilderBlock.prototype.eval=function(e){return this.stringToFunction(e)(this.privateState.state,void 0,this.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,Device,this.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,this.privateState.context)},BuilderBlock.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&removeEventListener("message",this.onWindowMessage)},BuilderBlock.prototype.componentDidMount=function(){var e,t=this;this.hydrated=!0;var r=this.block,n=r&&r.animations;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&addEventListener("message",this.onWindowMessage),n){var i={animations:fastClone(n)};if(r.bindings){for(var s in r.bindings)if((null==(e=s.trim)?void 0:e.call(s))&&s.startsWith("animations.")){var o=this.stringToFunction(r.bindings[s]);void 0!==o&&set(i,s,o(this.privateState.state,null,r,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,null,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,this.privateState.context))}}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.animator.bindAnimations(i.animations.filter(function(e){return"hover"!==e.trigger}).map(function(e){return __assign(__assign({},e),{elementId:t.block.id})}))}},BuilderBlock.prototype.getElement=function(e,t){var r,n,i,s,o,a,l=this;void 0===e&&(e=0),void 0===t&&(t=this.privateState.state);var u=this.props;u.child,u.fieldName;var c,d=this.block,h=(d.tagName||"div").toLowerCase();if("template"===h){var p=d.children?d.children.map(function(e){return blockToHtmlString(e)}).join(" "):"";return console.debug("template html",p),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("template",__assign({},d.properties,{dangerouslySetInnerHTML:{__html:p}}))}var f=d.component&&(d.component.name||d.component.component),m=null;d.component&&!d.component.class&&(d.component&&d.component.tag?c=d.component.tag:(m=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.components.find(function(e){return e.name===f})||null)&&m.class?c=m.class:m&&m.tag?c=m.tag:(null==f?void 0:f.startsWith("Builder:"))?console.warn("Missing @builder.io/widgets installation, please install and import @builder.io/widgets to use ".concat(f.split(":")[1]," in your content, more info here: https://github.com/BuilderIO/builder/tree/main/packages/widgets")):f&&console.warn("Missing registration for ".concat(f,", have you included the registration in your bundle?")));var g=__assign(__assign({},d.properties),{style:{},responsiveStyles:fastClone(d.responsiveStyles||{})});if(g=__assign(__assign({},g.properties),g),d.component&&(g.component=deepCloneWithConditions(d.component)),d.bindings){for(var v in d.bindings)if(null==(n=v.trim)?void 0:n.call(v)){var y=this.stringToFunction(d.bindings[v]);set(g,v,y(t,null,d,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,this.privateState.context))}}if(g.hide||(delete g.hide,("show"in g||d.bindings&&d.bindings.show)&&!g.show))return null;if(delete g.show,d.actions){var b=function(e){if(!(null==(i=e.trim)?void 0:i.call(e)))return"continue";var r=d.actions[e];g["on"+capitalize(e)]=function(e){var n=t;return"undefined"!=typeof Proxy&&(n=new Proxy(t,{set:function(e,t,r){return e[t]=r,l.privateState.rootState[t]=r,!0}})),l.stringToFunction(r,!1)(n,e,l.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,Device,l.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,l.privateState.context)}};for(var v in d.actions)b(v)}var w=(g.component||g.options)&&__assign(__assign({},g.options),g.component.options||g.component.data);containsLocalizedValues(w)&&(this.privateState.state.locale||console.warn("[Builder.io] In order to use localized fields in Builder, you must pass a locale prop to the BuilderComponent or to options object while fetching the content to resolve localized fields. Learn more: https://www.builder.io/c/docs/localization-inline#targeting-and-inline-localization"),w=extractLocalizedValues(w,null!=(s=this.privateState.state.locale)?s:"Default"));var k=voidElements.has(h),S=m&&(m.fragment||m.noWrap),x=(null==(o=g.attr)?void 0:o.style)||("string"==typeof g.style?g.style:"")||"";if("string"==typeof x){"object"!=typeof g.style&&(g.style={});for(var _=0,E=x.split(";");_<E.length;_++){var C=E[_].split(":");if(!C.length)return;v=C[0],y=C[1],v&&(C.length>2&&(y=C.slice(1).join(":")),g.style[kebabCaseToCamelCase(v)]=y)}}var T=__assign(__assign(__assign({},omit$1(g,["class","component","attr","responsiveStyles"])),((r={})["string"!=typeof h||h.includes("-")?"class":"className"]="builder-block ".concat(this.id).concat(d.class?" ".concat(d.class):"").concat(!d.component||["Image","Video","Banner"].indexOf(f)>-1?"":" builder-has-component")+(g.class?" "+g.class:"")+(this.hydrated&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&(null==(a=this.privateState.state._spacer)?void 0:a.parent)===d.id?" builder-spacer-parent":""),r.key=this.id+e,r["builder-id"]=this.id,r)),0!==e&&{"builder-index":e});_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&this.hydrated&&(T["builder-inline-styles"]=g.attr&&g.attr.style?Object.keys(g.style).reduce(function(e,t){return(e?"".concat(e,";"):"")+"".concat(cssCase(t),":").concat(g.style[t],";")},""):""),(T.properties&&T.properties.href||T.href)&&"div"===h&&(h="a"),"a"===h&&(h=Link);var j=d.children||T.children||[];return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Z2,null,function(e){var t=e.css;if(e.cx,!l.props.emailMode){var r=" "+t(l.emotionCss(g.responsiveStyles));T.class&&(T.class+=r),T.className&&(T.className+=r)}return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderAsyncRequestsContext.Consumer,null,function(e){return l._asyncRequests=e&&e.requests,l._errors=e&&e.errors,l._logs=e&&e.logs,k?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(h,__assign({},T)):c&&(S||l.props.emailMode)?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(c,__assign({},w,{attributes:T,builderBlock:d,builderState:l.privateState})):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(h,__assign({},T),c&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(c,__assign({builderState:l.privateState,builderBlock:d},w)),d.text||g.text?g.text:!c&&j&&Array.isArray(j)&&j.length?j.map(function(e,t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock,{key:(l.id||"")+t,block:e,index:t,size:l.props.size,fieldName:l.props.fieldName,child:l.props.child,emailMode:l.props.emailMode})}):null)})}))},Object.defineProperty(BuilderBlock.prototype,"id",{get:function(){var e=this.block;return e.id&&!e.id.startsWith("builder")?"builder-"+e.id:e.id||""},enumerable:!1,configurable:!0}),BuilderBlock.prototype.contents=function(e){var t=this,r=this.block;if(this.privateState=e,r.repeat&&r.repeat.collection){var n=r.repeat.collection,i=last((n||"").trim().split("(")[0].trim().split(".")),s=r.repeat.itemName||(i?i+"Item":"item"),o=this.stringToFunction(n)(e.state,null,r,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,this.privateState.context);return Array.isArray(o)?o.map(function(r,n){var i,o=__assign(__assign({},e.state),((i={$index:n,$item:r})[s]=r,i["$".concat(s,"Index")]=n,i));return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Provider,{key:n,value:__assign(__assign({},e),{state:o})},t.getElement(n,o))}):null}return this.getElement()},BuilderBlock.prototype.render=function(){var e=this;return this.state.hasError?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("span",{css:{display:"inline-block",padding:5,color:"#999",fontSize:11,fontStyle:"italic"}},"Builder block error :( Check console for details"):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Consumer,null,function(t){return e.contents(t)})},BuilderBlock}(react__WEBPACK_IMPORTED_MODULE_2__.Component),BuilderBlocks=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hydrated=!1,t.onClickEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isIframe&&t.noBlocks&&(null==(e=window.parent)||e.postMessage({type:"builder.clickEmptyBlocks",data:{parentElementId:t.parentId,dataPath:t.path}},"*"))},t.onHoverEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&t.noBlocks&&(null==(e=window.parent)||e.postMessage({type:"builder.hoverEmptyBlocks",data:{parentElementId:t.parentId,dataPath:t.path}},"*"))},t}return __extends(t,e),Object.defineProperty(t.prototype,"isRoot",{get:function(){return!this.props.child},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noBlocks",{get:function(){var e=this.props.blocks;return!(e&&e.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){var e=this.props.dataPath||"";return e.trim()&&(e.startsWith("this.")?e=e.replace("this.",""):e.startsWith("component.options.")||(e="component.options."+e)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.props.parentElementId?this.props.parentElementId:this.props.parent&&this.props.parent.id},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.hydrated=!0},t.prototype.render=function(){var e=this,t=this.props.blocks,r=this.props.emailMode?"span":"div";return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(r,__assign({className:"builder-blocks"+(this.noBlocks?" no-blocks":"")+(this.props.child?" builder-blocks-child":"")+(this.props.className?" "+this.props.className:""),"builder-type":"blocks","builder-path":_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isIframe&&this.hydrated?this.path:void 0,"builder-parent-id":this.parentId,css:__assign(__assign({},!this.props.emailMode&&{display:"flex",flexDirection:"column",alignItems:"stretch"}),this.props.style),onClick:function(){e.noBlocks&&e.onClickEmptyBlocks()}},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&{onMouseEnter:function(){return e.onHoverEmptyBlocks()}}),t&&Array.isArray(t)&&t.map(function(t,r){return t&&"@builder.io/sdk:Element"===t["@type"]?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock$1,{key:t.id,block:t,index:r,fieldName:e.props.fieldName,child:e.props.child,emailMode:e.props.emailMode}):t})||t)},t.renderInto=function(e,r,n){if(void 0===r&&(r={}),e){var i=null;return"string"==typeof e?i=document.querySelector(e):e instanceof Element&&(i=e),react_dom__WEBPACK_IMPORTED_MODULE_3__.render((0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Provider,{value:n},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(t,__assign({},r))),i)}},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),NoWrap=function(e){return e.children};function getData(e){if(void 0!==(null==e?void 0:e.data)){var t=e.data,r=t.blocks,n=t.blocksString,i=Array.isArray(r)||"string"==typeof n,s=__assign(__assign({},e.data),i&&{blocks:r||JSON.parse(n)});return delete s.blocksString,s}}var variantsScript=function(e,t){return"\n(function() {\n  if (window.builderNoTrack || !navigator.cookieEnabled) {\n    return;\n  }\n\n  var variants = ".concat(e,";\n  function removeVariants() {\n    variants.forEach(function (template) {\n      document.querySelector('template[data-template-variant-id=\"' + template.id + '\"]').remove();\n    });\n    document.getElementById('variants-script-").concat(t,'\').remove();\n  }\n\n  if (typeof document.createElement("template").content === \'undefined\') {\n    removeVariants();\n    return ;\n  }\n\n  function setCookie(name,value,days) {\n    var expires = "";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = "; expires=" + date.toUTCString();\n    }\n    document.cookie = name + "=" + (value || "")  + expires + "; path=/" + "; Secure; SameSite=None";\n  }\n\n  function getCookie(name) {\n    var nameEQ = name + "=";\n    var ca = document.cookie.split(\';\');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==\' \') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n  }\n  var cookieName = \'builder.tests.').concat(t,"';\n  var variantInCookie = getCookie(cookieName);\n  var availableIDs = variants.map(function(vr) { return vr.id }).concat('").concat(t,"');\n  var variantId;\n  if (availableIDs.indexOf(variantInCookie) > -1) {\n    variantId = variantInCookie;\n  }\n  if (!variantId) {\n    var n = 0;\n    var random = Math.random();\n    for (var i = 0; i < variants.length; i++) {\n      var variant = variants[i];\n      var testRatio = variant.testRatio;\n      n += testRatio;\n      if (random < n) {\n        setCookie(cookieName, variant.id);\n        variantId = variant.id;\n        break;\n      }\n    }\n    if (!variantId) {\n      variantId = \"").concat(t,'";\n      setCookie(cookieName, "').concat(t,'");\n    }\n  }\n  if (variantId && variantId !== "').concat(t,"\") {\n    var winningTemplate = document.querySelector('template[data-template-variant-id=\"' + variantId + '\"]');\n    if (winningTemplate) {\n      var parentNode = winningTemplate.parentNode;\n      var newParent = parentNode.cloneNode(false);\n      newParent.appendChild(winningTemplate.content.firstChild);\n      parentNode.parentNode.replaceChild(newParent, parentNode);\n    }\n  } else if (variants.length > 0) {\n    removeVariants();\n  }\n})()").replace(/\s+/g," ")},VariantsProvider=function(e){var t=e.initialContent,r=e.children,n=e.nonce;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.canTrack||!Object.keys((null==t?void 0:t.variations)||{}).length)return r([t]);var i=Object.keys(t.variations).map(function(e){return __assign(__assign({id:e},t.variations[e]),{data:getData(t.variations[e])})}),s=__spreadArray(__spreadArray([],i,!0),[t],!1);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer){var o=JSON.stringify(Object.keys(t.variations||{}).map(function(e){return{id:e,testRatio:t.variations[e].testRatio}}));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,r(s,function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("script",{nonce:n,id:"variants-script-".concat(t.id),dangerouslySetInnerHTML:{__html:variantsScript(o,t.id)}})}))}var a="builder.tests.".concat(t.id),l=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.getCookie(a);if(!l&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser)for(var u=0,c=Math.random(),d=0;d<i.length;d++){var h=i[d];if(c<(u+=h.testRatio)){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.setCookie(a,h.id),l=h.id;break}}return l||(l=t.id,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.setCookie(a,l)),r([s.find(function(e){return e.id===l})])},BuilderContent=function(_super){function BuilderContent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ref=null,_this.state={loading:!_this.props.content,data:getContentWithInfo(_this.props.content),updates:1},_this.onWindowMessage=function(event){var _a,_b,isTrusted=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isTrustedHostForEvent(event);if(isTrusted){var message=event.data;if(message)switch(message.type){case"builder.patchUpdates":if(null==(_a=_this.props.options)?void 0:_a.noEditorUpdates)return;var data=message.data;if(!data||!data.data)break;var patches=data.data[null==(_b=_this.state.data)?void 0:_b.id];if(!patches||!patches.length)return;location.href.includes("builder.debug=true")&&eval("debugger");for(var newData=_this.state.data,_i=0,patches_1=patches;_i<patches_1.length;_i++)newData=applyPatchWithMinimalMutationChain(newData,patches_1[_i],!1);_this.setState({updates:_this.state.updates+1,data:newData}),_this.props.contentLoaded&&_this.props.contentLoaded(newData.data,newData)}}},_this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.yU,_this.firstLoad=!0,_this.clicked=!1,_this.trackedImpression=!1,_this.intersectionObserver=null,_this.onClick=function(e){var t=e.nativeEvent,r=_this.data;r&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.autoTrack&&_this.builder.trackInteraction(r.id,_this.renderedVariantId,_this.clicked,t,{content:r}),_this.clicked||(_this.clicked=!0))},_this}return __extends(BuilderContent,_super),Object.defineProperty(BuilderContent.prototype,"builder",{get:function(){return this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,"name",{get:function(){var e=this.props;return"model"in e?e.model:e.modelName},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,"renderedVariantId",{get:function(){var e,t,r=this.props.isStatic?this.builder.getCookie("builder.tests.".concat(null==(e=this.data)?void 0:e.id)):null==(t=this.data)?void 0:t.variationId;if(null!==r)return r},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,"options",{get:function(){var e,t,r=__assign({},this.props.options||{});return r.key||!(null==(e=this.props.content)?void 0:e.id)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing||(r.key=this.props.content.id),!this.props.content||(null==(t=r.initialContent)?void 0:t.length)||!this.props.inline&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing||(r.initialContent=[this.props.content]),r},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,"data",{get:function(){return getContentWithInfo((this.props.inline||!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||this.firstLoad)&&this.options.initialContent&&this.options.initialContent[0]||this.state.data)},enumerable:!1,configurable:!0}),BuilderContent.prototype.componentDidMount=function(){var e,t;if(!this.props.inline||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing)this.subscribeToContent();else if(this.props.inline&&(null==(t=null==(e=this.options)?void 0:e.initialContent)?void 0:t.length)){var r=this.options.initialContent[0];(null==r?void 0:r.id)&&this.builder.trackImpression(r.id,this.renderedVariantId,void 0,{content:r})}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&addEventListener("message",this.onWindowMessage)},BuilderContent.prototype.subscribeToContent=function(){var e=this;"_inline"!==this.name&&this.subscriptions.add(this.builder.queueGetContent(this.name,this.options).subscribe(function(t){var r=t&&t[0];e.setState({data:r,loading:!1});var n=(e.builder.editingModel||e.builder.previewingModel)===e.name;if(!e.props.inline&&e.props.content&&e.firstLoad&&n&&(e.firstLoad=!1,e.subscriptions.unsubscribe(),e.subscribeToContent()),r&&e.firstLoad&&(e.firstLoad=!1,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.autoTrack&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing)){var i=!1;if("function"==typeof IntersectionObserver&&e.ref)try{(e.intersectionObserver=new IntersectionObserver(function(t,n){t.forEach(function(t){t.intersectionRatio>0&&!e.trackedImpression&&(e.builder.trackImpression(r.id,e.renderedVariantId,void 0,{content:e.data}),e.data,e.trackedImpression=!0,e.ref&&n.unobserve(e.ref))})})).observe(e.ref),i=!0}catch(e){console.warn("Could not bind intersection observer")}i||(e.trackedImpression=!0,e.builder.trackImpression(r.id,e.renderedVariantId,void 0,{content:r}))}e.props.contentLoaded&&e.props.contentLoaded(r&&r.data,r)},function(t){e.props.contentError&&(e.props.contentError(t),e.setState({loading:!1}))}))},BuilderContent.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&removeEventListener("message",this.onWindowMessage),this.subscriptions.unsubscribe(),this.intersectionObserver&&this.ref&&this.intersectionObserver.unobserve(this.ref)},BuilderContent.prototype.render=function(){var e=this;if(this.props.dataOnly)return null;var t=this.state.loading,r=this.data,n=this.props.dataOnly?NoWrap:"div";return react__WEBPACK_IMPORTED_MODULE_2__.createElement(VariantsProvider,{initialContent:r,nonce:this.props.nonce},function(i,s){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,i.map(function(o,a){var l=a===i.length-1?react__WEBPACK_IMPORTED_MODULE_2__.Fragment:"template";return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{key:String((null==o?void 0:o.id)+a)},"template"!==l&&(null==s?void 0:s()),react__WEBPACK_IMPORTED_MODULE_2__.createElement(l,__assign({key:String((null==o?void 0:o.id)+a)},"template"===l&&{"data-template-variant-id":null==o?void 0:o.id}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(n,__assign({},0===a&&!e.props.dataOnly&&{ref:function(t){return e.ref=t}},{className:"builder-content",onClick:e.onClick,"builder-content-id":null==o?void 0:o.id,"builder-model":e.name}),e.props.children(null==o?void 0:o.data,!e.props.inline&&t,r))))}))})},BuilderContent}(react__WEBPACK_IMPORTED_MODULE_2__.Component),getContentWithInfo=function(e){var t;if(e){var r=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.getCookie("builder.tests.".concat(e.id)),n=r===e.id?e:null==(t=e.variations)?void 0:t[r],i=(null==n?void 0:n.name)||((null==n?void 0:n.id)===e.id?"Default variation":"");return __assign(__assign({},e),{variationId:r,testVariationId:r,testVariationName:i})}return null};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var onChange_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol("target"),n=Symbol("unsubscribe"),i=function(e,t){return t&&t.toString&&(e&&(e+="."),e+=t.toString()),e},s=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},o=function(e,t,o){if("undefined"==typeof Proxy)return e;void 0===o&&(o={});var a,l,u=Symbol("ProxyTarget"),c=!1,d=!1,h=!1,p=o.equals||Object.is,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=function(e,r,n,o){if(!h)if(c){if(c&&l&&void 0!==n&&void 0!==o&&"length"!==r){var u=l;e!==a&&function(e,t){for(var r;e;)-1===(r=e.indexOf("."))&&(r=e.length),t(e.slice(0,r)),e=e.slice(r+1)}(e=e.replace(a,"").slice(1),function(e){u[e]=s(u[e]),u=u[e]}),u[r]=n}d=!0}else t(i(e,r),o,n)},y=function(e,t){var r=f?f.get(e):void 0;r&&r.delete(t)},b=function(e,t){if(h)return e;m.set(e,t);var r=g.get(e);return void 0===r&&(r=new Proxy(e,k),g.set(e,r)),r},w=function(e){return h||!0===o.ignoreSymbols&&"symbol"==typeof e},k={get:function(e,t,s){if(t===u||t===r)return e;if(t===n&&""===m.get(e))return function(e){return h=!0,f=null,m=null,g=null,e}(e);var a=Reflect.get(e,t,s);if(function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(a)||function(e){return e instanceof RegExp||e instanceof Number}(a)||"constructor"===t||!0===o.isShallow)return a;var l=function(e,t){var r=f?f.get(e):void 0;if(r)return r;r=new Map,f.set(e,r);var n=r.get(t);return n||(n=Reflect.getOwnPropertyDescriptor(e,t),r.set(t,n)),n}(e,t);if(l&&!l.configurable){if(l.set&&!l.get)return;if(!1===l.writable)return a}return b(a,i(m.get(e),t))},set:function(e,t,r,n){r&&void 0!==r[u]&&(r=r[u]);var i=w(t),s=i?null:Reflect.get(e,t,n),o=Reflect.set(e[u]||e,t,r);return i||p(s,r)||v(m.get(e),t,s,r),o},defineProperty:function(e,t,r){var n=Reflect.defineProperty(e,t,r);return w(t)||(y(e,t),v(m.get(e),t,void 0,r.value)),n},deleteProperty:function(e,t){if(!Reflect.has(e,t))return!0;var r=w(t),n=r?null:Reflect.get(e,t),i=Reflect.deleteProperty(e,t);return r||(y(e,t),v(m.get(e),t,n)),i},apply:function(e,t,r){var n=t instanceof Date;if(n&&(t=t[u]),!c){c=!0,n&&(l=t.valueOf()),(Array.isArray(t)||"[object Object]"===toString.call(t))&&(l=s(t[u])),a=(a=m.get(e)).slice(0,Math.max(a.lastIndexOf("."),0));var i=Reflect.apply(e,t,r);return c=!1,(d||n&&!p(l,t.valueOf()))&&(v(a,"",l,t[u]||t),l=null,d=!1),i}return Reflect.apply(e,t,r)}},S=b(e,"");return t=t.bind(S),S};o.target=function(e){return e[r]||e},o.unsubscribe=function(e){return e[n]||e},e.exports=o,t.default=o}),onChange=unwrapExports(onChange_1),nextTick=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick;function debounceNextTick(e,t,r){return void 0===t&&"function"==typeof e?debounceNextTickImpl(e):{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:r.enumerable,value:debounceNextTickImpl(r.value)}),this[t]}}}function debounceNextTickImpl(e){var t=null,r=null;return function(){var e=t;t=[].slice.call(arguments),r=this,null===e&&nextTick(n)};function n(){e.apply(r,t),t=null,r=null}}function throttle(e,t,r){void 0===r&&(r={});var n,i,s,o=null,a=0,l=function(){a=!1===r.leading?0:Date.now(),o=null,s=e.apply(n,i),o||(n=i=null)};return function(){var u=Date.now();a||!1!==r.leading||(a=u);var c=t-(u-a);return n=this,i=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=u,s=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,c)),s}}var BuilderMetaContext=react__WEBPACK_IMPORTED_MODULE_2__.createContext({emailMode:!1,ampMode:!1,isServer:!1}),tryEval=function(e,t,r){void 0===t&&(t={});var n=e;if("string"==typeof n&&n.trim()){var i=!(n.includes(";")||n.includes(" return ")),s=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(s=Function("state","var rootState = state;\n        if (typeof Proxy !== 'undefined') {\n          rootState = new Proxy(rootState, {\n            set: function () {\n              return false;\n            },\n            get: function (target, key) {\n              if (key === 'state') {\n                return state;\n              }\n              return target[key]\n            }\n          });\n        }\n        with (rootState) {\n          ".concat(i?"return (".concat(e,");"):e,";\n        }")))}catch(e){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&console.warn("Could not compile javascript",e)}try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||shouldForceBrowserRuntimeInNode())return s(t||{});var o=safeDynamicRequire("isolated-vm"),a=getIsolateContext();Object.keys(t).forEach(function(e){switch(e){case"state":case"global":case"log":console.warn("Not setting state.".concat(e," as global ").concat(e," in isolated vm"));break;default:if(void 0===t[e])return;try{"object"==typeof t[e]&&null!==t[e]?a.global.setSync(e,new o.ExternalCopy(t[e]).copyInto()):a.global.setSync(e,t[e])}catch(t){console.warn("Could not set ".concat(e," for isolated-vm:"),t)}}});var l=makeFn(e,i,["state"]),u=a.evalClosureSync(l,[new o.Reference(t||{})]);try{return JSON.parse(u)}catch(e){return u}}catch(t){r&&r.push(t),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser?console.warn("Builder custom code error:",t.message,"in",e,t.stack):isDebug()&&console.debug("Builder custom code error:",t.message,"in",e,t.stack)}finally{if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&!shouldForceBrowserRuntimeInNode()){var c=getIsolateContext();Object.keys(t).forEach(function(e){switch(e){case"state":case"global":case"log":break;default:c.global.deleteSync(e)}})}}}};function toError(e){return e instanceof Error?e:Error(String(e))}function getBuilderPixel(e){return{id:"builder-pixel-"+Math.random().toString(36).split(".")[1],"@type":"@builder.io/sdk:Element",tagName:"img",properties:{role:"presentation","aria-hidden":"true",src:"https://cdn.builder.io/api/v1/pixel?apiKey=".concat(e)},responsiveStyles:{large:{height:"0",width:"0",display:"inline-block",opacity:"0",overflow:"hidden",pointerEvents:"none"}}}}function pick(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};return t.forEach(function(t){n[t]=e[t]}),n}function omit(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=__assign({},e);return t.forEach(function(e){delete n[e]}),n}var instancesMap=new Map,wrapComponent=function(e){return function(t){var r,n=t.builderTag||"div",i=["children"].concat((null==(r=e.inputs)?void 0:r.map(function(e){return e.name}))||[]),s=omit.apply(void 0,__spreadArray(__spreadArray([t],i,!1),["attributes"],!1)),o=t;return e.noWrap?react__WEBPACK_IMPORTED_MODULE_2__.createElement(e.class,__assign({attributes:s},o)):react__WEBPACK_IMPORTED_MODULE_2__.createElement(n,__assign({},s),react__WEBPACK_IMPORTED_MODULE_2__.createElement(e.class,__assign({},o)))}},size$1=function(e){return Object.keys(e).length};function debounce(e,t,r){var n;return void 0===r&&(r=!1),function(){var i=this,s=arguments;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(i,s)},t),r&&!n&&e.apply(i,s)}}var fetch$1,fontsLoaded=new Set;globalThis.fetch&&(fetch$1=globalThis.fetch),null!=fetch$1||(fetch$1=__webpack_require__(8221));var sizeMap={desktop:"large",tablet:"medium",mobile:"small",xsmall:"xsmall"},fetchCache={};function searchToObject$1(e){var t=(e.search||"").substring(1).split("&"),r={};for(var n in t)if(t[n]&&"string"==typeof t[n]){var i=t[n].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}var BuilderComponent=function(e){function t(t){var r,n,i=this;(i=e.call(this,t)||this).subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.yU,i.onStateChange=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.tQ(null),i.asServer=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer,i.contentRef=null,i.styleRef=null,i.rootState=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer?{}:onChange({},function(){return i.updateState()}),i.lastJsCode="",i.lastHttpRequests={},i.httpSubscriptionPerKey={},i.firstLoad=!0,i.ref=null,i.messageListener=function(e){var t;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isTrustedHostForEvent(e)){var r=e.data;switch(r.type){case"builder.configureSdk":var n=r.data;if(!n.contentId||n.contentId!==(null==(t=i.useContent)?void 0:t.id))return;i.sizes=getSizesForBreakpoints(n.breakpoints||{}),i.setState({state:Object.assign(i.rootState,{deviceSize:i.deviceSizeState,device:i.device}),updates:(i.state&&i.state.updates||0)+1,breakpoints:n.breakpoints});break;case"builder.updateSpacer":var s=r.data;i.rootState._spacer,i.updateState(function(e){e._spacer=s});break;case"builder.resetState":var o=r.data,a=o.state;if(o.model===i.name){for(var l in i.rootState)"function"!=typeof i.rootState[l]&&delete i.rootState[l];Object.assign(i.rootState,a),i.setState(__assign(__assign({},i.state),{state:i.rootState,updates:(i.state&&i.state.updates||0)+1}))}break;case"builder.resetSymbolState":var u=r.data.state,c=(a=u.state,u.model,u.id);if(i.props.builderBlock&&i.props.builderBlock===c){for(var l in i.rootState)delete i.rootState[l];Object.assign(i.rootState,a),i.setState(__assign(__assign({},i.state),{state:i.rootState,updates:(i.state&&i.state.updates||0)+1}))}}}},i.resizeFn=function(){var e=i.deviceSizeState;e!==i.state.state.deviceSize&&i.setState(__assign(__assign({},i.state),{updates:(i.state&&i.state.updates||0)+1,state:Object.assign(i.rootState,__assign(__assign({},i.state.state),{deviceSize:e}))}))},i.resizeListener=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing?throttle(i.resizeFn,200):debounce(i.resizeFn,400),i.mounted=!1,i.updateState=function(e){var t=i.rootState;e&&e(t),i.mounted?i.setState({update:i.updateState,state:t,updates:(i.state&&i.state.updates||0)+1}):i.state=__assign(__assign({},i.state),{update:i.updateState,state:t,updates:(i.state&&i.state.updates||0)+1}),i.notifyStateChange()},i.onContentLoaded=function(e,t){if("page"===i.name&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&e){var r=e.title,n=e.pageTitle,s=e.description,o=e.pageDescription;if((r||n)&&(document.title=r||n),s||o){var a=document.querySelector('meta[name="description"]');a||((a=document.createElement("meta")).setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content",s||o)}}if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&i.notifyStateChange(),i.props.contentLoaded&&i.props.contentLoaded(e,t),e&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length&&(e.state||(e.state={}),e.inputs.forEach(function(t){t&&t.name&&void 0!==t.defaultValue&&void 0===e.state[t.name]&&(e.state[t.name]=t.defaultValue)})),e&&e.state){var l=__assign(__assign({},i.state),{updates:(i.state&&i.state.updates||0)+1,state:Object.assign(i.rootState,__assign(__assign(__assign(__assign(__assign({},i.state.state),{location:i.locationState,device:i.device}),e.state),i.externalState),{deviceSize:i.deviceSizeState}))});i.mounted?i.setState(l):i.state=l}if(e&&e.jsCode&&!i.options.codegen){var u=!1;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&(i.lastJsCode===e.jsCode?u=!0:i.lastJsCode=e.jsCode),!u){var c=i.state.state;try{Function("data","ref","state","update","element","Builder","builder","context",e.jsCode)(e,i,c,i.state.update,i.ref,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,i.state.context)}catch(t){var d=toError(t);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser?console.warn("Builder custom code error:",d.message,"in",e.jsCode,d.stack):isDebug()&&console.debug("Builder custom code error:",d.message,"in",e.jsCode,d.stack)}}}if(e&&e.httpRequests&&!i.props.noAsync&&(u=!1,1)){var h=function(t){var r=e.httpRequests[t];if(r&&(!i.data[t]||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing)){var n="object"==typeof r&&"@builder.io/core:Request"===r["@type"];if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser){var s=n?i.evalExpression(r.request.url):i.evalExpression(r);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&i.lastHttpRequests[t]===s)return"continue";i.lastHttpRequests[t]=s,n?i.handleRequest(t,{url:s,method:r.request.method,body:r.request.body,headers:r.request.headers}):i.handleRequest(t,{url:s,method:"GET"});var o=i.httpSubscriptionPerKey[t];o&&o.unsubscribe();var a=i.httpSubscriptionPerKey[t]=i.onStateChange.subscribe(function(){var e=n?i.evalExpression(r.request.url):i.evalExpression(r);e!==s&&(n?i.handleRequest(t,{url:e,method:r.request.method,body:r.request.body,headers:r.request.headers}):i.handleRequest(t,{url:e,method:"GET"}),i.lastHttpRequests[t]=e)});i.subscriptions.add(a)}else n?i.handleRequest(t,{url:i.evalExpression(r.request.url),method:r.request.method,body:r.request.body,headers:r.request.headers}):i.handleRequest(t,{url:i.evalExpression(r),method:"GET"})}};for(var p in e.httpRequests)h(p)}};var s=i.inlinedContent;s&&s.content&&(s=s.content),i.sizes=getSizesForBreakpoints((null==(r=null==s?void 0:s.meta)?void 0:r.breakpoints)||{});var o=null==(n=i.inlinedContent)?void 0:n.data;o&&Array.isArray(o.inputs)&&o.inputs.length>0&&(o.state||(o.state={}),o.inputs.forEach(function(e){e&&e.name&&void 0!==e.defaultValue&&void 0===o.state[e.name]&&(o.state[e.name]=e.defaultValue)})),i.state={context:__assign(__assign({},t.context),{apiKey:i.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.apiKey,nonce:i.props.nonce}),state:Object.assign(i.rootState,__assign(__assign(__assign(__assign({},i.inlinedContent&&i.inlinedContent.data&&i.inlinedContent.data.state),{isBrowser:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser,isServer:!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser,_hydrate:t.hydrate,location:i.locationState,deviceSize:i.deviceSizeState,device:i.device}),i.getHtmlData()),t.data)),updates:0,key:0,update:i.updateState};var a=i.props.apiKey;if(a&&a!==i.builder.apiKey&&!instancesMap.has(a)){var l=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$(a,void 0,void 0,!0);instancesMap.set(a,l)}if(i.inlinedContent){var u=i.inlinedContent.content||i.inlinedContent;i.onContentLoaded(null==u?void 0:u.data,getContentWithInfo(u))}return i.registerCustomComponents(),i}return __extends(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return __assign(__assign({},t.defaults),this.props)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.model||this.props.modelName||this.props.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.ref},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inlinedContent",{get:function(){if(!this.isPreviewing||this.props.inlineContent)return this.props.content},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builder",{get:function(){return this.props.apiKey&&instancesMap.get(this.props.apiKey)||this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL},enumerable:!1,configurable:!0}),t.prototype.getHtmlData=function(){var e=this.inlinedContent&&this.inlinedContent.id||this.props.entry,t=e&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&document.querySelector('script[data-builder-json="'.concat(e,'"],script[data-builder-state="').concat(e,'"]'));if(t)try{return JSON.parse(t.innerText)}catch(e){console.warn("Could not parse Builder.io HTML data transfer",e,t.innerText)}return{}},Object.defineProperty(t.prototype,"device",{get:function(){return this.builder.getUserAttributes().device||"desktop"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locationState",{get:function(){return __assign(__assign({},pick(this.location,"pathname","hostname","search","host")),{path:this.location.pathname&&this.location.pathname.split("/").slice(1)||"",query:searchToObject$1(this.location)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceSizeState",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser?this.sizes.getSizeForWidth(window.innerWidth):sizeMap[this.device]||"large"},enumerable:!1,configurable:!0}),t.renderInto=function(e,r,n,i){if(void 0===r&&(r={}),void 0===n&&(n=!0),void 0===i&&(i=!1),console.debug("BuilderPage.renderInto",e,r,n,this),e){var s=null;if("string"==typeof e?s=document.querySelector(e):e instanceof Element&&(s=e),s){var o=s.classList.contains("builder-hydrated");if(!o||i){s.classList.add("builder-hydrated");var a=n&&s.innerHTML.includes("builder-block");if(!s.classList.contains("builder-component")){var l=s.querySelector(".builder-api-styles")||(s.previousElementSibling&&s.previousElementSibling.matches(".builder-api-styles")?s.previousElementSibling:null),u="";l&&(l.innerHTML.replace(/\/\*start:([^\*]+?)\*\/([\s\S]*?)\/\*end:([^\*]+?)\*\//g,function(e,t,r){var n=null;try{n=document.querySelector('[data-emotion-css="'.concat(t,'"]'))}catch(e){console.warn(e)}return n?n.innerHTML=r:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||(u+=e),e}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){l.innerHTML=u}));var c=s.querySelector(".builder-component");c?s=c:a=!1}location.search.includes("builder.debug=true")&&console.debug("hydrate",a,s);var d=s;if(!o){var h=document.createElement("div");s.insertAdjacentElement("beforebegin",h),h.appendChild(s),d=h}if((_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&location.search.includes("builder.preview="))&&(a=!1),a&&s){var p=react_dom__WEBPACK_IMPORTED_MODULE_3__.render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(t,__assign({},r)),d,d.builderRootRef);return d.builderRootRef=p,p}var f=react_dom__WEBPACK_IMPORTED_MODULE_3__.render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(t,__assign({},r)),d,d.builderRootRef);return d.builderRootRef=f,f}console.debug("Tried to hydrate multiple times")}}},t.prototype.registerCustomComponents=function(){if(this.props.customComponents)for(var e=0,t=this.props.customComponents;e<t.length;e++){var r=t[e];if(r){var n=r.component,i=__rest(r,["component"]);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(n,i)}}},t.prototype.componentDidMount=function(){var e,t=this;this.mounted=!0,this.asServer&&(this.asServer=!1,this.updateState(function(e){e.isBrowser=!0,e.isServer=!1})),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isIframe&&(null==(e=window.parent)||e.postMessage({type:"builder.sdkInjected",data:{modelName:this.name,apiKey:this.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.apiKey}},"*")),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(window.addEventListener("resize",this.resizeListener),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&window.addEventListener("message",this.messageListener),(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing)&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){t.firstLoad=!1,t.reload()}),setTimeout(function(){window.dispatchEvent(new CustomEvent("builder:component:load",{detail:{ref:t}}))}))},Object.defineProperty(t.prototype,"isPreviewing",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing&&!this.firstLoad)&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.previewingModel===this.name||"BUILDER_STUDIO"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.previewingModel)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChange=function(){if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer&&this&&this.state){var e=this.state.state;this.props.onStateChange&&this.props.onStateChange(e),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&window.dispatchEvent(new CustomEvent("builder:component:stateChange",{detail:{state:e,ref:this}})),this.onStateChange.next(e)}},t.prototype.processStateFromApi=function(e){return e},Object.defineProperty(t.prototype,"location",{get:function(){return this.props.location||(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser?location:{})},enumerable:!1,configurable:!0}),t.prototype.getCssFromFont=function(e,t){var r=e.family+(e.kind&&!e.kind.includes("#")?", "+e.kind:""),n=r.split(",")[0],i=e.fileUrl?e.fileUrl:e.files&&e.files.regular,s="";if(i&&r&&n&&(s+='\n@font-face {\n  font-family: "'.concat(r,'";\n  src: local("').concat(n,"\"), url('").concat(i,"') format('woff2');\n  font-display: fallback;\n  font-weight: 400;\n}\n        ").trim()),e.files){for(var o in e.files)if(String(Number(o))===o){var a=e.files[o];a&&a!==i&&(s+='\n@font-face {\n  font-family: "'.concat(r,"\";\n  src: url('").concat(a,"') format('woff2');\n  font-display: fallback;\n  font-weight: ").concat(o,";\n}\n          ").trim())}}return s},t.prototype.componentWillUnmount=function(){this.unsubscribe(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("message",this.messageListener))},t.prototype.getFontCss=function(e){var t=this;return this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&e.customFonts.length&&e.customFonts.map(function(r){return t.getCssFromFont(r,e)}).join(" ")||""},t.prototype.ensureFontsLoaded=function(e){if(this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&Array.isArray(e.customFonts))for(var t=0,r=e.customFonts;t<r.length;t++){var n=r[t],i=n.fileUrl?n.fileUrl:n.files&&n.files.regular;if(!fontsLoaded.has(i)){var s=this.getCssFromFont(n,e);if(fontsLoaded.add(i),!s)continue;var o=document.createElement("style");o.className="builder-custom-font",o.setAttribute("data-builder-custom-font",i),o.innerHTML=s,document.head.appendChild(o)}}},t.prototype.getCss=function(e){var t,r=null==(t=this.useContent)?void 0:t.id,n=(null==e?void 0:e.cssCode)||"";return r&&(n=n.replace(/&/g,".builder-component-".concat(r))),n+this.getFontCss(e)},Object.defineProperty(t.prototype,"data",{get:function(){var e,t=__assign(__assign(__assign({},this.inlinedContent&&(null==(e=this.inlinedContent.data)?void 0:e.state)),this.externalState),this.state.state);return Object.assign(this.rootState,t),t},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=this;this.props.data&&e.data!==this.props.data&&this.state.update(function(e){Object.assign(e,t.externalState)}),this.props.customComponents&&this.props.customComponents!==e.customComponents&&this.registerCustomComponents(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&this.inlinedContent&&e.content!==this.inlinedContent&&this.onContentLoaded(this.inlinedContent.data,this.inlinedContent)},t.prototype.checkStyles=function(e){if(this.styleRef){var t=this.getCss(e);this.styleRef.innerHTML!==t&&(this.styleRef.innerHTML=t)}},t.prototype.reload=function(){this.setState({key:this.state.key+1})},Object.defineProperty(t.prototype,"content",{get:function(){var e=this.inlinedContent;return e&&e.content&&(e=__assign(__assign({},e),{data:e.content})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"externalState",{get:function(){return __assign(__assign({},this.props.data),this.props.locale?{locale:this.props.locale}:{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useContent",{get:function(){return this.content||this.state.context.builderContent},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this,r=this.content,n=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&this.externalState&&size$1(this.externalState)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(this.externalState),i=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing?this.name:this.props.entry;i&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&n&&n.length<300&&(i+=":"+n);var s=this.props.dataOnly?react__WEBPACK_IMPORTED_MODULE_2__.Fragment:"div",o=null==(e=this.useContent)?void 0:e.id;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(s,{onClick:function(e){!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||t.props.isChild||t.props.stopClickPropagationWhenEditing||e.stopPropagation()},className:"builder-component ".concat(o?"builder-component-".concat(o):""),"data-name":this.name,"data-source":"Rendered by Builder.io",key:this.state.key,ref:function(e){return t.ref=e}},react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderMetaContext.Consumer,null,function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderMetaContext.Provider,{value:"boolean"==typeof t.props.ampMode?__assign(__assign({},e),{ampMode:t.props.ampMode}):e},react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderAsyncRequestsContext.Consumer,null,function(e){var n;return t._asyncRequests=e&&e.requests,t._errors=e&&e.errors,t._logs=e&&e.logs,react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderContent,{isStatic:t.props.isStatic||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isStatic,key:(null==(n=t.inlinedContent)?void 0:n.id)||("content"in t.props&&!t.isPreviewing?"null-content-prop":"no-content-prop"),builder:t.builder,ref:function(e){return t.contentRef=e},contentLoaded:function(e,r){return t.onContentLoaded(e,r)},options:__assign(__assign(__assign(__assign(__assign(__assign({key:i,entry:t.props.entry},r&&{initialContent:[r]}),!r&&"content"in t.props&&!t.isPreviewing&&{initialContent:[]}),t.props.url&&{url:t.props.url}),t.props.options),t.props.locale?{locale:t.props.locale}:{}),t.options.codegen&&{format:"react"}),inline:t.props.inlineContent||!t.isPreviewing&&"content"in t.props,contentError:t.props.contentError,modelName:t.name||"page",nonce:t.props.nonce},function(e,r,n){if(t.props.dataOnly)return null;n&&n.id&&(t.state.breakpoints&&(n.meta=n.meta||{},n.meta.breakpoints=t.state.breakpoints),t.state.context.builderContent=n),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){t.checkStyles(e)});var i,s=t.options.codegen;if(s&&!t.Component&&(null==e?void 0:e.blocksJs)){var o=Array.from(new Set(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.components.map(function(e){return e.name}))),a=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.components.slice().reverse(),l=o.map(function(e){return a.find(function(t){return t.class&&t.name===e})}),u=o.map(function(e){return(e||"").replace(/[^\w]+/gi,"")}),c=l.map(function(e){return wrapComponent(e)});t.Component=(new(Function.bind.apply(Function,__spreadArray(__spreadArray([void 0,"jsx","_css","Builder","builder","React","useBuilderState"],u,!1),[e.blocksJs],!1)))).apply(void 0,__spreadArray([_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.AH,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,react__WEBPACK_IMPORTED_MODULE_2__,function(e){var t=react__WEBPACK_IMPORTED_MODULE_2__.useState(0)[1];return react__WEBPACK_IMPORTED_MODULE_2__.useState(function(){return onChange(e,function(){t(function(e){return e+1})})})[0]}],c,!1))}var d=(null==e?void 0:e.blocks)||[],h=d.find(function(e){var t;return null==(t=e.id)?void 0:t.startsWith("builder-pixel")});return e&&!h&&d.length>0&&d.push(getBuilderPixel(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.apiKey)),e?react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",__assign({"data-builder-component":t.name,"data-builder-content-id":n.id},t.isPreviewing?{"data-builder-variation-id":n.testVariationId||n.variationId||n.id}:{}),!s&&t.getCss(e)&&react__WEBPACK_IMPORTED_MODULE_2__.createElement("style",{nonce:t.props.nonce,ref:function(e){return t.styleRef=e},className:"builder-custom-styles",dangerouslySetInnerHTML:{__html:t.getCss(e)}}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t.state),{rootState:t.rootState,state:t.data,content:n,renderLink:t.props.renderLink})},s&&t.Component?react__WEBPACK_IMPORTED_MODULE_2__.createElement(t.Component,{data:t.data,context:t.state.context}):react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{key:String(!!(null==(i=null==e?void 0:e.blocks)?void 0:i.length)),emailMode:t.props.emailMode,fieldName:"blocks",blocks:d}))):r?react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{"data-builder-component":t.name,className:"builder-loading"},t.props.children):react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{"data-builder-component":t.name,className:"builder-no-content"})})}))}))},t.prototype.evalExpression=function(e){var t=this,r=this.data;return String(e).replace(/{{([^}]+)}}/g,function(e,n){return tryEval(n,r,t._errors)})},t.prototype.handleRequest=function(e,t){return __awaiter(this,void 0,void 0,function(){var r,n,i,s,o,a,l,u,c,d=this;return __generator(this,function(h){return r=t.url,n=t.method,o=JSON.stringify({url:r,method:n,body:i=t.body,headers:s=t.headers}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isIframe&&fetchCache[o]?(this.updateState(function(t){t[e]=fetchCache[o]}),[2,fetchCache[o]]):(a=function(){return __awaiter(d,void 0,void 0,function(){var t,a,l,u;return __generator(this,function(c){switch(c.label){case 0:t=Date.now(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||console.time("Fetch "+o),c.label=1;case 1:return c.trys.push([1,4,5,6]),l={method:n,headers:s,body:i},"GET"===n&&delete l.body,[4,fetch$1(r,l)];case 2:return[4,c.sent().json()];case 3:return a=c.sent(),[3,6];case 4:return u=toError(c.sent()),this._errors&&this._errors.push(u),this._logs&&this._logs.push("Fetch to ".concat(o," errored in ").concat(Date.now()-t,"ms")),[2];case 5:return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||(console.timeEnd("Fetch "+o),this._logs&&this._logs.push("Fetched ".concat(o," in ").concat(Date.now()-t,"ms"))),[7];case 6:return a&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isIframe&&(fetchCache[o]=a),this.updateState(function(t){t[e]=a})),[2,a]}})})},(l=this._asyncRequests&&this._asyncRequests.find(function(e){return isRequestInfo(e)&&e.url===r}))?((u=l.promise).then(function(t){t&&d.updateState(function(r){r[e]=t})}),[2,u]):(c=a(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){d._asyncRequests&&d._asyncRequests.push(c)}),[2,c]))})})},t.prototype.unsubscribe=function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.yU)},t.prototype.handleBuilderRequest=function(e,t){var r=this,n=tryEval(t,this.data,this._errors);this.subscriptions&&this.unsubscribe(),n&&this.subscriptions.add(this.builder.queueGetContent(n.model,n).subscribe(function(t){t&&r.updateState(function(r){r[e]=t})}))},t.defaults={codegen:!!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&location.href.includes("builder.codegen=true"))},__decorate([debounceNextTick,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],t.prototype,"notifyStateChange",null),t}(react__WEBPACK_IMPORTED_MODULE_2__.Component);function BuilderBlock(e){return e.type="react",_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.Component(e)}function updateMetadata(e,t){var r=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.components.find(function(t){return"string"==typeof e?t.name===e:t.class===t})||null,n=t(r);r&&n?_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(n.class||r.class,n):r&&!n||!r&&n&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(n.class,n)}function withBuilder(e,t){return BuilderBlock(t)(e),e}var isBuilderElement=function(e){return!!("object"==typeof e&&e&&"@builder.io/sdk:Element"===(null==e?void 0:e["@type"]))},withChildren=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function(t,r){var n,i,s=__assign({},t),o=t.children||t.builderBlock&&t.builderBlock.children&&t.builderBlock.children.map(function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{key:e.id,block:e})}),a=null==(i=null==(n=t.builderBlock)?void 0:n.component)?void 0:i.options;return a&&Object.keys(a).forEach(function(e){var t=a[e];Array.isArray(t)&&t.every(isBuilderElement)?s[e]=t.map(function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{key:e.id,block:e})}):isBuilderElement(t)&&(s[e]=react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{block:t}))}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(e,__assign({},s,{ref:r}),o)});return t.builderOptions={canHaveChildren:!0},t},noWrap=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function(t,r){var n=__assign(__assign({},t),t.attributes);return react__WEBPACK_IMPORTED_MODULE_2__.createElement(e,__assign({},n,{ref:r}))});return t.builderOptions={noWrap:!0},t},iconUrl="https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929",TextComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textRef=null,t}return __extends(t,e),t.prototype.componentDidMount=function(){this.textRef&&!/{{([^}]+)}}/.test(this.props.text)&&(this.textRef.innerHTML=this.props.text)},t.prototype.evalExpression=function(e,t){return this.allowTextEdit?String(e):String(e).replace(/{{([^}]+)}}/g,function(e,r){return tryEval(r,t)})},Object.defineProperty(t.prototype,"allowTextEdit",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&location.search.includes("builder.allowTextEdit=true")&&!(this.props.builderBlock&&this.props.builderBlock.bindings&&(this.props.builderBlock.bindings["component.options.text"]||this.props.builderBlock.bindings["options.text"]||this.props.builderBlock.bindings.text))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this,t={outline:"none","& p:first-of-type, & .builder-paragraph:first-of-type":{margin:0},"& > p, & .builder-paragraph":{color:"inherit",lineHeight:"inherit",letterSpacing:"inherit",fontWeight:"inherit",fontSize:"inherit",textAlign:"inherit",fontFamily:"inherit"}};return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Consumer,null,function(r){var n;return(null==(n=r.content.meta)?void 0:n.rtlMode)&&(t.direction="rtl"),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("span",__assign({ref:function(t){e.textRef=t},css:t,className:"builder-text"},{dangerouslySetInnerHTML:{__html:e.evalExpression(e.props.text||e.props.content||"",r.state)}})))})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Text=withBuilder(TextComponent,{name:"Text",static:!0,image:iconUrl,inputs:[{name:"text",type:"html",required:!0,autoFocus:!0,bubble:!0,defaultValue:"Enter some text..."}],defaultStyles:{lineHeight:"normal",height:"auto",textAlign:"center"}});function Slot(e){var t=e.name,r=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext),n=!r.context.symbolId;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",__assign({css:{pointerEvents:"auto"}},n&&{"builder-slot":t}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{child:!0,parentElementId:r.context.symbolId,dataPath:"symbol.data.".concat(t),blocks:r.state[t]||[]}))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(Slot,{name:"Slot",description:"Allow child blocks to be inserted into this content when used as a Symbol",docsLink:"https://www.builder.io/c/docs/symbols-with-blocks",image:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56",inputs:[{name:"name",type:"string",required:!0,defaultValue:"children"}]});var FragmentComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map(function(e,t){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{block:e,key:e.id,index:t})})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Fragment=withBuilder(FragmentComponent,{name:"Core:Fragment",canHaveChildren:!0,noWrap:!0,static:!0,hideFromInsertMenu:!0}),DEFAULT_ASPECT_RATIO$2=.7004048582995948,defaultBlocks=[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:DEFAULT_ASPECT_RATIO$2}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}],ColumnsComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"columns",{get:function(){return this.props.columns||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gutterSize",{get:function(){return"number"==typeof this.props.space?this.props.space||0:20},enumerable:!1,configurable:!0}),t.prototype.getWidth=function(e){return this.columns[e]&&this.columns[e].width||100/this.columns.length},t.prototype.getColumnWidth=function(e){var t=this.columns,r=this.gutterSize,n=this.getWidth(e),i=r*(t.length-1)*(n/100);return"calc(".concat(n,"% - ").concat(i,"px)")},t.prototype.render=function(){var e,t,r,n,i=this,s=this.columns,o=this.gutterSize,a=getSizesForBreakpoints((null==(n=null==(r=null==(t=this.props.builderState)?void 0:t.context.builderContent)?void 0:r.meta)?void 0:n.breakpoints)||{});return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{className:"builder-columns",css:__assign({display:"flex",height:"100%"},"never"!==this.props.stackColumnsAt&&((e={})["@media (max-width: ".concat("tablet"!==this.props.stackColumnsAt?a.small.max:a.medium.max,"px)")]={flexDirection:this.props.reverseColumnsWhenStacked?"column-reverse":"column",alignItems:"stretch"},e))},s.map(function(e,t){var r,n,s=e.link?Link:"div";return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{key:t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(s,__assign({className:"builder-column"},e.link?{href:e.link}:null,{css:__assign(((r={display:"flex",flexDirection:"column",alignItems:"stretch",lineHeight:"normal"})["& > .builder-blocks"]={flexGrow:1},r.width=i.getColumnWidth(t),r.marginLeft=0===t?0:o,r),"never"!==i.props.stackColumnsAt&&((n={})["@media (max-width: ".concat("tablet"!==i.props.stackColumnsAt?a.small.max:a.medium.max,"px)")]={width:"100%",marginLeft:0},n))}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{key:t,child:!0,parentElementId:i.props.builderBlock&&i.props.builderBlock.id,blocks:e.blocks,dataPath:"component.options.columns.".concat(t,".blocks")})))})))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Columns=withBuilder(ColumnsComponent,{name:"Columns",static:!0,inputs:[{name:"columns",type:"array",broadcast:!0,subFields:[{name:"blocks",type:"array",hideFromUI:!0,defaultValue:defaultBlocks},{name:"width",type:"number",hideFromUI:!0,helperText:"Width %, e.g. set to 50 to fill half of the space"},{name:"link",type:"url",helperText:"Optionally set a url that clicking this column will link to"}],defaultValue:[{blocks:defaultBlocks},{blocks:defaultBlocks}],onChange:function(e){function t(){r.forEach(function(e){e.delete("width")})}var r=e.get("columns");Array.isArray(r)&&(!r.find(function(e){return e.get("width")})||(r.find(function(e){return!e.get("width")})||100!==r.reduce(function(e,t){return e+t.get("width")},0))&&t())}},{name:"space",type:"number",defaultValue:20,helperText:"Size of gap between columns",advanced:!0},{name:"stackColumnsAt",type:"string",defaultValue:"tablet",helperText:"Convert horizontal columns to vertical at what device size",enum:["tablet","mobile","never"],advanced:!0},{name:"reverseColumnsWhenStacked",type:"boolean",defaultValue:!1,helperText:"When stacking columns for mobile devices, reverse the ordering",advanced:!0}]}),EmbedComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementRef=null,t.scriptsInserted=new Set,t.scriptsRun=new Set,t}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.content!==this.props.content},t.prototype.componentDidUpdate=function(e){this.props.content!==e.content&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){this.findAndRunScripts()},t.prototype.findAndRunScripts=function(){if(this.elementRef&&"undefined"!=typeof window)for(var e=this.elementRef.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t];if(r.src){if(this.scriptsInserted.has(r.src))continue;this.scriptsInserted.add(r.src);var n=document.createElement("script");n.async=!0,n.src=r.src,document.head.appendChild(n)}else{if(this.scriptsRun.has(r.innerText))continue;this.scriptsRun.add(r.innerText);try{Function(r.innerText)()}catch(e){console.warn("Builder custom code component error:",e)}}}},Object.defineProperty(t.prototype,"content",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer?(this.props.content||"").replace(/<script[\s\S]*?<\/script>/g,""):this.props.content},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{ref:function(t){return e.elementRef=t},className:"builder-embed",dangerouslySetInnerHTML:{__html:this.content}})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Embed=withBuilder(EmbedComponent,{name:"Embed",static:!0,inputs:[{name:"url",type:"url",required:!0,defaultValue:"",helperText:"e.g. enter a youtube url, google map, etc"},{name:"content",type:"html",defaultValue:'<div style="padding: 20px; text-align: center">(Choose an embed URL)<div>',hideFromUI:!0}]}),globalReplaceNodes={},isShopify$1=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&"Shopify"in window;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&globalReplaceNodes){var customCodeQuerySelector_1=".builder-custom-code";try{var allCustomCodeElements_1=Array.from(document.querySelectorAll(customCodeQuerySelector_1)),builderTemplates=document.querySelectorAll("template[data-template-variant-id]");builderTemplates.length&&Array.from(builderTemplates).forEach(function(e){var t=e.content.querySelectorAll(customCodeQuerySelector_1);t.length&&(allCustomCodeElements_1=allCustomCodeElements_1.concat(Array.from(t)))}),allCustomCodeElements_1.forEach(function(e){var t=e.parentElement,r=t&&t.getAttribute("builder-id");r&&(globalReplaceNodes[r]=globalReplaceNodes[r]||[],globalReplaceNodes[r].push(isShopify$1?e:e.cloneNode(!0)))})}catch(e){console.error("Builder replace nodes error:",e)}}var CustomCodeComponent=function(e){function t(t){var r,n=this;if((n=e.call(this,t)||this).elementRef=null,n.originalRef=null,n.scriptsInserted=new Set,n.scriptsRun=new Set,n.firstLoad=!0,n.replaceNodes=!1,n.state={hydrated:!1},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser){var i=null==(r=n.props.builderBlock)?void 0:r.id;if(n.replaceNodes=!!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(t.replaceNodes||isShopify$1)&&i&&(null==globalReplaceNodes?void 0:globalReplaceNodes[i])),n.firstLoad&&n.props.builderBlock){if(i&&(null==globalReplaceNodes?void 0:globalReplaceNodes[i])){var s=globalReplaceNodes[i].shift()||null;n.originalRef=s,0===globalReplaceNodes[i].length&&delete globalReplaceNodes[i]}else if(n.replaceNodes){var o=document.querySelectorAll(".".concat(n.props.builderBlock.id," .builder-custom-code"));if(1===o.length){var a=o[0];n.originalRef=a,n.originalRef.remove()}}}}return n}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.code!==this.props.code},Object.defineProperty(t.prototype,"noReactRender",{get:function(){var e;return!!(isShopify$1&&(null==(e=this.props.code)?void 0:e.match(/{[{%]/g)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHydrating",{get:function(){return!isShopify$1&&this.originalRef},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){this.props.code!==e.code&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){var e=this;this.firstLoad=!1,this.replaceNodes||(this.isHydrating?(this.setState({hydrated:!0}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){return e.findAndRunScripts()})):this.findAndRunScripts()),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&this.replaceNodes&&this.originalRef&&this.elementRef&&this.elementRef.appendChild(this.originalRef)},t.prototype.findAndRunScripts=function(){if(this.elementRef&&"undefined"!=typeof window)for(var e=this.elementRef.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t];if(r.src){if(this.scriptsInserted.has(r.src))continue;this.scriptsInserted.add(r.src);var n=document.createElement("script");n.async=!0,n.src=r.src,document.head.appendChild(n)}else if(!r.type||["text/javascript","application/javascript","application/ecmascript"].includes(r.type)){if(this.scriptsRun.has(r.innerText))continue;try{this.scriptsRun.add(r.innerText),Function(r.innerText)()}catch(e){console.warn("Builder custom code component error:",e)}}}},Object.defineProperty(t.prototype,"code",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer||this.isHydrating&&this.firstLoad)&&this.props.scriptsClientOnly?(this.props.code||"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):this.props.code},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",__assign({ref:function(t){return e.elementRef=t},className:"builder-custom-code"},!this.replaceNodes&&!this.noReactRender&&{dangerouslySetInnerHTML:{__html:this.code}}))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),CustomCode=withBuilder(CustomCodeComponent,{name:"Custom Code",static:!0,requiredPermissions:["editCode"],inputs:[{name:"code",type:"html",required:!0,defaultValue:"<p>Hello there, I am custom HTML code!</p>",code:!0},__assign({name:"replaceNodes",type:"boolean",helperText:"Preserve server rendered dom nodes",advanced:!0},isShopify$1&&{defaultValue:!0}),__assign({name:"scriptsClientOnly",type:"boolean",helperText:"Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads",advanced:!0},!isShopify$1&&{defaultValue:!0})]}),IMAGE_FILE_TYPES=["jpeg","jpg","png","svg","webp","gif","jfif","pjpeg","pjp","apng","avif","tif","tiff","heif","bmp","eps","raw","cr2","nef","orf","sr2","psd","heic","dib","ai"],VIDEO_FILE_TYPES=["mp4","webm","mkv","flv","vob","ogv","ogg","drc","gif","gifv","mng","avi","mov","qt","mts","m2ts","ts","wmv","yuv","rm","rmvb","viv","asf","amv","m4p","mpeg","mpe","m2v","m4v","svi","3gp","3g2","mxf","roq","nsv","f4v","f4p","f4a","f4b"],isNewReact=!1;function removeProtocol(e){return e.replace(/http(s)?:/,"")}function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function getShopifyImageUrl(e,t){if(!e||!(null==e?void 0:e.match(/cdn\.shopify\.com/))||!t)return e;if("master"===t)return removeProtocol(e);var r=e.match(/(_\d+x(\d+)?)?(\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?)/i);if(r){var n=e.split(r[0]),i=r[3],s=t.match("x")?t:"".concat(t,"x");return removeProtocol("".concat(n[0],"_").concat(s).concat(i))}return null}var DEFAULT_ASPECT_RATIO$1=.7041;function updateQueryParam(e,t,r){void 0===e&&(e="");var n=RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+encodeURIComponent(r)+"$2"):e+i+t+"="+encodeURIComponent(r)}function getSrcSet(e){if(!e)return e;var t=[100,200,400,800,1200,1600,2e3];if(e.match(/builder\.io/)){var r=e,n=Number(e.split("?width=")[1]);return isNaN(n)||(r="".concat(r," ").concat(n,"w")),t.filter(function(e){return e!==n}).map(function(t){return"".concat(updateQueryParam(e,"width",t)," ").concat(t,"w")}).concat([r]).join(", ")}return e.match(/cdn\.shopify\.com/)?t.map(function(t){return[getShopifyImageUrl(e,"".concat(t,"x").concat(t)),t]}).filter(function(e){return!!e[0]}).map(function(e){var t=e[0],r=e[1];return"".concat(t," ").concat(r,"w")}).concat([e]).join(", "):e}var getSizes=function(e,t,r){void 0===r&&(r={});var n,i,s,o,a,l,u,c,d="";if(e){var h=e.split(","),p=h.length;d=h.map(function(e,t){return p===t+1?e.replace(/\([\s\S]*?\)/g,"").trim():e}).join(", ")}else if(t&&t.responsiveStyles){var f=[],m=!1,g=/^\d+/,v=getSizesForBreakpoints(r);if(null==(s=null==(i=null==(n=t.responsiveStyles)?void 0:n.small)?void 0:i.width)?void 0:s.match(g)){m=!0;var y="(max-width: ".concat(v.small.max,"px)"),b="".concat(y," ").concat(t.responsiveStyles.small.width.replace("%","vw"));f.push(b)}if((null==(l=null==(a=null==(o=t.responsiveStyles)?void 0:o.medium)?void 0:a.width)?void 0:l.match(g))&&(m=!0,y="(max-width: ".concat(v.medium.max,"px)"),b="".concat(y," ").concat(t.responsiveStyles.medium.width.replace("%","vw")),f.push(b)),null==(c=null==(u=t.responsiveStyles)?void 0:u.large)?void 0:c.width){var w=t.responsiveStyles.large.width.replace("%","vw");f.push(w)}else m&&f.push("100vw");f.length&&(d=f.join(", "))}return d},ImageComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageLoaded:!t.useLazyLoading,load:!t.useLazyLoading},t.pictureRef=null,t.scrollListener=null,t.intersectionObserver=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"useLazyLoading",{get:function(){return!this.props.highPriority&&(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||!location.search.includes("builder.lazyLoadImages=false"))&&(!(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser||!location.href.includes("builder.lazyLoadImages=true"))||this.props.lazy)},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null),this.intersectionObserver&&this.pictureRef&&this.intersectionObserver.unobserve(this.pictureRef))},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazy&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser)if(this.pictureRef&&isElementInViewport(this.pictureRef))this.setState({load:!0});else if("function"==typeof IntersectionObserver&&this.pictureRef)(this.intersectionObserver=new IntersectionObserver(function(t,r){t.forEach(function(t){t.intersectionRatio>0&&(e.setState({load:!0}),e.pictureRef&&r.unobserve(e.pictureRef))})})).observe(this.pictureRef);else{var t=throttle(function(r){if(e.pictureRef){var n=e.pictureRef.getBoundingClientRect(),i=window.innerHeight/2;n.top<window.innerHeight+i&&(e.setState(__assign(__assign({},e.state),{load:!0})),window.removeEventListener("scroll",t),e.scrollListener=null)}},400,{leading:!1,trailing:!0});this.scrollListener=t,window.addEventListener("scroll",t,{capture:!0,passive:!0}),t()}},Object.defineProperty(t.prototype,"image",{get:function(){return this.props.image||this.props.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadEagerly",{get:function(){var e;return(null==(e=this.props.builderBlock)?void 0:e.id.startsWith("builder-pixel-"))||this.props.highPriority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fetchPriorityProp",{get:function(){var e;return(e={})[isNewReact?"fetchPriority":"fetchpriority"]=this.loadEagerly?"high":"auto",e},enumerable:!1,configurable:!0}),t.prototype.getSrcSet=function(){var e=this.image;if(e&&"string"==typeof e&&!this.props.noWebp&&(e.match(/builder\.io/)||e.match(/cdn\.shopify\.com/)))return getSrcSet(e)},t.prototype.render=function(){var e,t,r=this,n=this.props,i=n.aspectRatio,s=n.lazy,o=n.builderBlock,a=n.builderState,l=this.props.builderBlock&&this.props.builderBlock.children,u=this.props.srcset,c=getSizes(this.props.sizes,o,(null==(t=null==(e=null==a?void 0:a.context.builderContent)?void 0:e.meta)?void 0:t.breakpoints)||{}),d=this.image;u&&d&&d.includes("builder.io/api/v1/image")?u.includes(d.split("?")[0])||(console.debug("Removed given srcset"),u=this.getSrcSet()):d&&!u&&(u=this.getSrcSet());var h=this.props.fitContent;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderMetaContext.Consumer,null,function(e){var t,n=e.ampMode,o=n?"amp-img":"img",a=(!s||r.state.load||n)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(o,__assign({},n?{layout:"responsive",height:r.props.height||(i?Math.round(1e3*i):void 0),width:r.props.width||(i?Math.round(1e3/i):void 0)}:null,{alt:r.props.altText,title:r.props.title,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&"string"==typeof r.image&&r.image.split("?")[0]||void 0,role:r.props.altText?void 0:"presentation",css:__assign(__assign({opacity:n?1:r.useLazyLoading&&!r.state.imageLoaded?0:1,transition:"opacity 0.2s ease-in-out",objectFit:r.props.backgroundSize||"cover",objectPosition:r.props.backgroundPosition||"center"},i&&!n&&{position:"absolute",height:"100%",width:"100%",left:0,top:0}),n&&((t={})["& img"]={objectFit:r.props.backgroundSize,objectPosition:r.props.backgroundPosition},t)),loading:r.loadEagerly?"eager":"lazy"},r.fetchPriorityProp,{className:"builder-image"+(r.props.className?" "+r.props.className:""),src:r.image},!n&&{onLoad:function(){return r.setState({imageLoaded:!0})}},{srcSet:u,sizes:!n&&c?c:void 0}));return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,n?a:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("picture",{ref:function(e){return r.pictureRef=e}},u&&u.match(/builder\.io/)&&!r.props.noWebp&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("source",{srcSet:u.replace(/\?/g,"?format=webp&"),type:"image/webp"}),a),!i||n||h&&l&&l.length?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{className:"builder-image-sizer",css:{width:"100%",paddingTop:100*i+"%",pointerEvents:"none",fontSize:0}}," "),l&&l.length?h?l.map(function(e,t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock$1,{key:e.id,block:e})}):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{display:"flex",flexDirection:"column",alignItems:"stretch",position:"absolute",top:0,left:0,width:"100%",height:"100%"}},l.map(function(e,t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock$1,{key:e.id,block:e})})):null)})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Image=withBuilder(ImageComponent,{name:"Image",static:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",defaultStyles:{position:"relative",minHeight:"20px",minWidth:"20px",overflow:"hidden"},canHaveChildren:!0,inputs:[{name:"image",type:"file",bubble:!0,allowedFileTypes:IMAGE_FILE_TYPES,required:!0,defaultValue:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F72c80f114dc149019051b6852a9e3b7a",onChange:function(e){e.delete("srcset"),e.delete("noWebp");var t,r,n=e.get("image"),i=e.get("aspectRatio");if(fetch(n).then(function(e){return e.blob()}).then(function(t){t.type.includes("svg")&&e.set("noWebp",!0)}),n&&(!i||.7041===i))return(t=n,void 0===r&&(r=6e4),new Promise(function(e,n){var i=document.createElement("img"),s=!1;i.onload=function(){s=!0,e(i)},i.addEventListener("error",function(e){console.warn("Image load failed",e.error),n(e.error)}),i.src=t,setTimeout(function(){s||n(Error("Image load timed out"))},r)})).then(function(t){var r=e.get("aspectRatio");e.get("image")!==n||r&&.7041!==r||t.width&&t.height&&(e.set("aspectRatio",Math.round(1e3*(t.height/t.width))/1e3),e.set("height",t.height),e.set("width",t.width))})}},{name:"backgroundSize",type:"text",defaultValue:"cover",enum:[{label:"contain",value:"contain",helperText:"The image should never get cropped"},{label:"cover",value:"cover",helperText:"The image should fill its box, cropping when needed"}]},{name:"backgroundPosition",type:"text",defaultValue:"center",enum:["center","top","left","right","bottom","top left","top right","bottom left","bottom right"]},{name:"altText",type:"string",helperText:"Text to display when the user has images off"},{name:"title",type:"string",helperText:"Text to display when hovering over the asset"},{name:"highPriority",type:"boolean",advanced:!0,helperText:"Mark this image as high priority compared to other images on the page. This prevents lazy loading of the image and tells the browser to load this image before others on the page."},{name:"height",type:"number",hideFromUI:!0},{name:"width",type:"number",hideFromUI:!0},{name:"sizes",type:"string",hideFromUI:!0},{name:"srcset",type:"string",hideFromUI:!0},{name:"lazy",type:"boolean",defaultValue:!0,hideFromUI:!0},{name:"fitContent",type:"boolean",helperText:"When child blocks are provided, fit to them instead of using the image's aspect ratio",defaultValue:!0},{name:"aspectRatio",type:"number",helperText:"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO$1}]}),DEFAULT_ASPECT_RATIO=.7004048582995948,VideoComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.video=null,t.containerRef=null,t.lazyVideoObserver=null,t.state={load:!t.lazyLoad},t}return __extends(t,e),Object.defineProperty(t.prototype,"lazyLoad",{get:function(){return!1!==this.props.lazyLoad},enumerable:!1,configurable:!0}),t.prototype.updateVideo=function(){var e=this,t=this.video;t&&["muted","playsInline","autoPlay"].forEach(function(r){var n=r.toLowerCase();e.props[r]?t.setAttribute(n,n):t.removeAttribute(n)})},t.prototype.componentDidUpdate=function(){this.updateVideo()},t.prototype.componentDidMount=function(){var e=this;if(this.updateVideo(),this.lazyLoad&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser){var t=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(e.setState(function(e){return __assign(__assign({},e),{load:!0})}),e.lazyVideoObserver&&(e.lazyVideoObserver.disconnect(),e.lazyVideoObserver=null))})});this.containerRef&&(t.observe(this.containerRef),this.lazyVideoObserver=t)}},t.prototype.componentWillUnmount=function(){this.lazyVideoObserver&&(this.lazyVideoObserver.disconnect(),this.lazyVideoObserver=null)},t.prototype.render=function(){var e=this,t=this.props,r=t.aspectRatio,n=t.children;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{ref:function(t){return e.containerRef=t},css:{position:"relative"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("video",{key:this.props.video||"no-src",poster:this.props.posterImage,ref:function(t){return e.video=t},autoPlay:this.props.autoPlay,muted:this.props.muted,controls:this.props.controls,loop:this.props.loop,preload:this.props.preload||"metadata",className:"builder-video",css:__assign({width:"100%",height:"100%",objectFit:this.props.fit,objectPosition:this.props.position,borderRadius:1},r?{position:"absolute"}:null)},(!this.lazyLoad||this.state.load)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("source",{type:"video/mp4",src:this.props.video})),!r||this.props.fitContent&&n?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{width:"100%",paddingTop:100*r+"%",pointerEvents:"none",fontSize:0}}),n&&this.props.fitContent?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{display:"flex",flexDirection:"column",alignItems:"stretch"}},n):n?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"stretch",position:"absolute",top:0,left:0,width:"100%",height:"100%"}},n):null)},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Video=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(withChildren(VideoComponent),{name:"Video",canHaveChildren:!0,defaultStyles:{minHeight:"20px",minWidth:"20px"},image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb",inputs:[{name:"video",type:"file",allowedFileTypes:VIDEO_FILE_TYPES,bubble:!0,defaultValue:"https://cdn.builder.io/o/assets%2FYJIGb4i01jvw0SRdL5Bt%2Fd27731a526464deba0016216f5f9e570%2Fcompressed?apiKey=YJIGb4i01jvw0SRdL5Bt&token=d27731a526464deba0016216f5f9e570&alt=media&optimized=true",required:!0},{name:"posterImage",type:"file",allowedFileTypes:IMAGE_FILE_TYPES,helperText:"Image to show before the video plays"},{name:"autoPlay",type:"boolean",defaultValue:!0},{name:"controls",type:"boolean",defaultValue:!1},{name:"muted",type:"boolean",defaultValue:!0},{name:"loop",type:"boolean",defaultValue:!0},{name:"playsInline",type:"boolean",defaultValue:!0},{name:"fit",type:"text",defaultValue:"cover",enum:["contain","cover","fill","auto"]},{name:"preload",type:"text",defaultValue:"metadata",enum:["auto","metadata","none"]},{name:"fitContent",type:"boolean",helperText:"When child blocks are provided, fit to them instead of using the aspect ratio",defaultValue:!0,advanced:!0},{name:"position",type:"text",defaultValue:"center",enum:["center","top","left","right","bottom","top left","top right","bottom left","bottom right"]},{name:"height",type:"number",advanced:!0},{name:"width",type:"number",advanced:!0},{name:"aspectRatio",type:"number",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO},{name:"lazyLoad",type:"boolean",helperText:'Load this video "lazily" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',defaultValue:!0,advanced:!0}]}),size=function(e){return Object.keys(e).length},isShopify=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&"Shopify"in window,refs={};if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser)try{Array.from(document.querySelectorAll("[builder-static-symbol]")).forEach(function(e){var t=e.getAttribute("builder-static-symbol");t&&(refs[t]=e)})}catch(e){console.error("Builder replace nodes error:",e)}var SymbolComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.staticRef=null,t.isEditingThisSymbol=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{padding:10}},"Symbols let you reuse dynamic elements across your content. Please choose a model and entry for this symbol.")},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e,t,r,n=this;this.useStatic&&this.staticRef&&refs[null==(e=this.props.builderBlock)?void 0:e.id]&&(null==(t=this.staticRef.parentNode)||t.replaceChild(refs[null==(r=this.props.builderBlock)?void 0:r.id],this.staticRef)),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.nextTick(function(){var e=n.props.symbol||{},t=e.model,r=e.entry;n.isEditingThisSymbol=!!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&t===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.editingModel&&r&&location.search.includes("overrides.".concat(r)))})},Object.defineProperty(t.prototype,"useStatic",{get:function(){var e;return!!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&refs[null==(e=this.props.builderBlock)?void 0:e.id]&&!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t,r=this;if(this.useStatic)return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{ref:function(e){return r.staticRef=e}});var n=this.props.symbol,i=!1;n||(i=!0);var s=this.props.dataOnly?NoWrap:this.props.builderBlock&&this.props.builderBlock.tagName||"div",o=n||{},a=o.model,l=o.entry,u=o.data,c=o.content,d=o.inline,h=o.ownerId,p=(null==n?void 0:n.dynamic)||this.props.dynamic;a&&(l||p)||(null==(e=null==c?void 0:c.data)?void 0:e.blocksJs)||d||(i=!0),this.isEditingThisSymbol&&(i=!1);var f=p?null==(t=this.props.builderBlock)?void 0:t.id:[a,l].join(":"),m=u&&size(u)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(u);f&&m&&m.length<300&&(f+=":"+m);var g=this.props.attributes||{};return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Consumer,{key:(a||"no model")+":"+(l||"no entry"+this.isEditingThisSymbol)},function(e){var t,o,d,p,m,v,y,b,w,k,S,x="".concat(f,"_").concat((null==(t=null==e?void 0:e.state)?void 0:t.locale)||"Default");return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(s,__assign({"data-model":a},g,{className:(g.class||g.className||"")+" builder-symbol"+((null==n?void 0:n.inline)?" builder-inline-symbol":"")+((null==n?void 0:n.dynamic)||r.props.dynamic?" builder-dynamic-symbol":"")}),i?r.placeholder:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderComponent,__assign({},h&&{apiKey:h},(null==(o=e.state)?void 0:o.locale)&&{locale:e.state.locale},{isChild:!0,ref:function(e){return r.ref=e},context:__assign(__assign({},e.context),{symbolId:null==(d=r.props.builderBlock)?void 0:d.id}),model:a,entry:l,data:__assign(__assign(__assign({},u),!!r.props.inheritState&&omit$2(e.state,"children")),null==(w=null==(b=null==(y=null==(v=null==(m=null==(p=r.props.builderBlock)?void 0:p.component)?void 0:m.options)?void 0:v.symbol)?void 0:y.content)?void 0:b.data)?void 0:w.state),renderLink:e.renderLink,inlineContent:null==n?void 0:n.inline},c&&{content:c},{key:x,options:__assign(__assign({},!r.isEditingThisSymbol&&{key:x,noEditorUpdates:!0}),"content"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.singletonInstance.apiEndpoint&&l&&{query:{id:l}}),codegen:!!(null==(k=null==c?void 0:c.data)?void 0:k.blocksJs),hydrate:null==(S=e.state)?void 0:S._hydrate,builderBlock:r.props.builderBlock,dataOnly:r.props.dataOnly,nonce:e.context.nonce}),r.props.children))})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Symbol$1=withBuilder(SymbolComponent,{name:"Symbol",noWrap:!0,static:!0,inputs:[{name:"symbol",type:"uiSymbol"},{name:"dataOnly",helperText:"Make this a data symbol that doesn't display any UI",type:"boolean",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:"inheritState",helperText:"Inherit the parent component state and data",type:"boolean",defaultValue:isShopify,advanced:!0},{name:"renderToLiquid",helperText:"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting",type:"boolean",defaultValue:isShopify,advanced:!0,hideFromUI:!0},{name:"useChildren",hideFromUI:!0,type:"boolean"}]}),ButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.link?Link:"span";return react__WEBPACK_IMPORTED_MODULE_2__.createElement(e,__assign({role:"button",href:this.props.link,target:this.props.openLinkInNewTab?"_blank":void 0},this.props.attributes),this.props.text)},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Button=withBuilder(ButtonComponent,{name:"Core:Button",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13",defaultStyles:{appearance:"none",paddingTop:"15px",paddingBottom:"15px",paddingLeft:"25px",paddingRight:"25px",backgroundColor:"#000000",color:"white",borderRadius:"4px",textAlign:"center",cursor:"pointer"},inputs:[{name:"text",type:"text",defaultValue:"Click me!",bubble:!0},{name:"link",type:"url",bubble:!0},{name:"openLinkInNewTab",type:"boolean",defaultValue:!1,friendlyName:"Open link in new tab"}],static:!0,noWrap:!0}),SectionComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.unmountCallbacks=[],t.state={inView:!1},t}return __extends(t,e),Object.defineProperty(t.prototype,"renderContents",{get:function(){return!0!==this.props.lazyLoad||this.state.inView},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){this.unmountCallbacks.forEach(function(e){return e()})},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazyLoad)if("undefined"!=typeof IntersectionObserver&&this.ref){var t=new IntersectionObserver(function(t,r){t.forEach(function(t){t.intersectionRatio>0&&(e.setState({inView:!0}),e.ref&&r.unobserve(e.ref))})},{rootMargin:"10px"});t.observe(this.ref),this.unmountCallbacks.push(function(){e.ref&&t.unobserve(e.ref)})}else this.setState({inView:!0})},t.prototype.render=function(){var e=this;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("section",{ref:function(t){return e.ref=t},css:__assign({width:"100%",alignSelf:"stretch",flexGrow:1,boxSizing:"border-box",maxWidth:this.props.maxWidth,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:"auto",marginRight:"auto"},this.renderContents?null:this.props.lazyStyles)},this.renderContents?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,this.props.children,this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map(function(e,t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock$1,{key:e.id,block:e})})):null)},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Section=withBuilder(SectionComponent,{name:"Core:Section",static:!0,image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a",inputs:[{name:"maxWidth",type:"number",defaultValue:1200},{name:"lazyLoad",type:"boolean",defaultValue:!1,advanced:!0,description:"Only render this section when in view"}],defaultStyles:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"50px",paddingBottom:"50px",marginTop:"0px",width:"100vw",marginLeft:"calc(50% - 50vw)"},canHaveChildren:!0,defaultChildren:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{textAlign:"center"}},component:{name:"Text",options:{text:"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>"}}}]}),StateProviderComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderStoreContext.Consumer,null,function(t){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),e.props.state),context:__assign(__assign({},t.context),e.props.context)})},e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map(function(e,t){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{block:e,key:e.id,index:t,child:!0})}),e.props.children)})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),StateProvider=withBuilder(StateProviderComponent,{name:"Builder:StateProvider",canHaveChildren:!0,static:!0,noWrap:!0,hideFromInsertMenu:!0}),prefetched=new Set;function searchToObject(e){var t=(e.search||"").substring(1).split("&"),r={};for(var n in t)if(t[n]&&"string"==typeof t[n]){var i=t[n].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}var RouterComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.builder=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL,t.routed=!1,t.preloadQueue=0,t.onPopState=function(e){t.updateLocationState()},t.onMouseOverOrTouchStart=function(e){if(!(t.preloadQueue>4)&&!1!==t.props.preloadOnHover){var r=t.findHrefTarget(e);if(r){var n=r.getAttribute("href");if(n){if(!t.isRelative(n)){var i=t.convertToRelative(n);if(!i)return;n=i}if(!n.startsWith("#")&&!prefetched.has(n)){prefetched.add(n);var s=t.parseUrl(n);t.preloadQueue++;var o=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.getUserAttributes();o.urlPath=s.pathname,o.queryString=s.search;var a=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.get(t.model,{userAttributes:o,key:t.model+":"+s.pathname+s.search}).subscribe(function(){t.preloadQueue--,a.unsubscribe()})}}}}},t.onClick=function(e){return __awaiter(t,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(s){if(!1===this.props.handleRouting||0!==e.button||e.ctrlKey||e.defaultPrevented||e.metaKey||!(t=this.findHrefTarget(e))||t.target&&"_client"!==t.target||!(r=t.getAttribute("href"))||this.props.onRoute&&(n={url:r,anchorNode:t,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},this.props.onRoute(n),n.defaultPrevented))return[2];if(!this.isRelative(r)){if(!(i=this.convertToRelative(r)))return[2];r=i}return r.startsWith("#")||(e.preventDefault(),this.route(r)),[2]})})},t.privateState=null,t}return __extends(t,e),t.prototype.route=function(e){var t;return this.routed=!0,"function"==typeof(null==(t=window.history)?void 0:t.pushState)?(history.pushState(null,"",e),this.updateLocationState(),!0):(location.href=e,!1)},t.prototype.updateLocationState=function(){this.privateState&&this.privateState.update(function(e){e.location=__assign(__assign({},e.location),{pathname:location.pathname,search:location.search,path:location.pathname.split("/").slice(1),query:searchToObject(location)})})},Object.defineProperty(t.prototype,"model",{get:function(){return this.props.model||"page"},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){"undefined"!=typeof document&&(document.addEventListener("click",this.onClick),window.addEventListener("popstate",this.onPopState),document.addEventListener("mouseover",this.onMouseOverOrTouchStart),document.addEventListener("touchstart",this.onMouseOverOrTouchStart))},t.prototype.componentWillUnmount=function(){"undefined"!=typeof document&&(document.removeEventListener("click",this.onClick),document.removeEventListener("mouseover",this.onMouseOverOrTouchStart),window.removeEventListener("popstate",this.onPopState),document.removeEventListener("touchstart",this.onMouseOverOrTouchStart))},t.prototype.render=function(){var e=this,t=this.model;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Consumer,null,function(r){e.privateState=r;var n=r.state&&r.state.location&&r.state.location.pathname+r.state.location.search;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{className:"builder-router","data-model":t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("style",{nonce:r.context.nonce},"\n                @keyframes builderLoadingSpinner {\n                  0% {\n                    transform: rotate(0deg);\n                  }\n                  100% {\n                    transform: rotate(360deg);\n                  }\n                }\n                /* TODO: overridable tag */\n                .builder-page-loading {\n                  -webkit-animation: builderLoadingSpinner 1s infinite linear;\n                  animation: builderLoadingSpinner 1s infinite linear;\n                  -webkit-transform: translateZ(0);\n                  transform: translateZ(0);\n                  border-radius: 50%;\n                  width: 36px;\n                  height: 36px;\n                  margin: 6px auto;\n                  position: relative;\n                  border: 1px solid transparent;\n                  border-left: 1px solid #808284;\n                }\n              "),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderComponent,{key:n,data:e.props.data,content:e.routed?void 0:e.props.content,modelName:t,options:{key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing?void 0:e.model+":"+n},nonce:r.context.nonce},e.props.children||(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{display:"flex"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{css:{margin:"40vh auto"},className:"builder-page-loading"}))))})},t.prototype.findHrefTarget=function(e){for(var t=e.target;t;){if(t instanceof HTMLAnchorElement&&t.getAttribute("href"))return t;if(t===e.currentTarget)break;t=t.parentElement}return null},t.prototype.isRelative=function(e){return!e.match(/^(\/\/|https?:\/\/)/i)},t.prototype.parseUrl=function(e){var t=document.createElement("a");return t.href=e,t},t.prototype.convertToRelative=function(e){var t=this.parseUrl(location.href),r=this.parseUrl(e);if(t.host===r.host){var n=r.pathname+(r.search?r.search:"");return n.startsWith("#")?null:n||"/"}return null},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Router=withBuilder(RouterComponent,{name:"Core:Router",hideFromInsertMenu:!0,inputs:[{name:"model",type:"string",defaultValue:"page",advanced:!0},{name:"handleRouting",type:"boolean",defaultValue:!0,advanced:!0},{name:"preloadOnHover",type:"boolean",defaultValue:!0,advanced:!0},{name:"onRoute",type:"function",advanced:!0}]});function Mutation(e){var t,r,n=react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);useWaitForSelector(e.selector,function(t){"afterEnd"!==e.type&&(t.innerHTML=""),t.appendChild(n.current.firstElementChild)});var i=null==(t=e.builderBlock)?void 0:t.children;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("span",{style:{display:"none"},ref:n},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{style:{display:"inline"},child:!0,parentElementId:null==(r=e.builderBlock)?void 0:r.id,dataPath:"this.children",blocks:i}))}function useWaitForSelector(e,t){react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect(function(){try{var r=document.querySelector(e);if(r)return void t(r)}catch(e){console.warn(e)}var n=new MutationObserver(function(){try{var r=document.querySelector(e);r&&(n.disconnect(),t(r))}catch(e){console.warn(e)}});return n.observe(document.body,{attributes:!0,subtree:!0,characterData:!0}),function(){n.disconnect()}},[e])}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(Mutation,{name:"Builder:Mutation",canHaveChildren:!0,noWrap:!0,hideFromInsertMenu:!0,inputs:[{name:"type",type:"string",defaultValue:"replace",enum:[{label:"Replace",value:"replace",helperText:"Replace the contents of this site region with content from Builder"},{label:"Append",value:"afterEnd",helperText:"Append Builder content after the chosen site region"}]},{name:"selector",type:"builder:domSelector"}]});var get=function(e,t,r){var n=String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce(function(e,t){return null!=e?e[t]:e},e);return void 0===n||n===e?r:n},MULTIPART_CONTENT_TYPE="multipart/form-data",JSON_CONTENT_TYPE="application/json",ENCODED_CONTENT_TYPE="application/x-www-form-urlencoded",FormComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.state={state:"unsubmitted",responseData:null,formErrorMessage:""},t}return __extends(t,e),Object.defineProperty(t.prototype,"submissionState",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&this.props.previewState||this.state.state},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Consumer,null,function(t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),{formErrorMessage:e.state.formErrorMessage})})},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("form",__assign({},e.props.validate?{}:{noValidate:!0},{ref:function(t){return e.ref=t},action:!e.props.sendWithJs&&e.props.action?e.props.action:void 0,method:e.props.method,name:e.props.name,onSubmit:function(t){var r,n=e.props.sendWithJs||"email"===e.props.sendSubmissionsTo;if("zapier"===e.props.sendSubmissionsTo)t.preventDefault();else if(n){if(!e.props.action&&"email"!==e.props.sendSubmissionsTo)return void t.preventDefault();t.preventDefault();var i=t.currentTarget,s=e.props.customHeaders||{},o=void 0,a=new FormData(i),l=Array.from(t.currentTarget.querySelectorAll("input,select,textarea")).filter(function(e){return!!e.name}).filter(function(e){return!!e.name&&("radio"!==e.type||e.checked)}).map(function(e){var t,r=e.name;if(e instanceof HTMLInputElement)if("radio"===e.type){if(e.checked)return{key:r,value:t=e.value}}else if("checkbox"===e.type)t=e.checked;else if("number"===e.type||"range"===e.type){var n=e.valueAsNumber;isNaN(n)||(t=n)}else t="file"===e.type?e.files:e.value;else t=e.value;return{key:r,value:t}}),u=e.props.contentType;if("email"===e.props.sendSubmissionsTo&&(u=MULTIPART_CONTENT_TYPE),Array.from(l).forEach(function(e){var t=e.value;(t instanceof File||Array.isArray(t)&&t[0]instanceof File||t instanceof FileList)&&(u=MULTIPART_CONTENT_TYPE)}),u===MULTIPART_CONTENT_TYPE)o=a;else if(u===JSON_CONTENT_TYPE){var c={};Array.from(l).forEach(function(e){var t=e.value;set(c,e.key,t)}),o=JSON.stringify(c)}else{if(u!==ENCODED_CONTENT_TYPE)return void console.error("Unsupported content type: ",u);o=Array.from(l).map(function(e){var t=e.value;return encodeURIComponent(e.key)+"="+encodeURIComponent(t)}).join("&")}u&&u!==MULTIPART_CONTENT_TYPE&&(n&&(null==(r=e.props.action)?void 0:r.includes("zapier.com"))||(s["content-type"]=u));var d=new CustomEvent("presubmit",{detail:{body:o}});if(e.ref&&(e.ref.dispatchEvent(d),d.defaultPrevented))return;e.setState(__assign(__assign({},e.state),{state:"sending"}));var h="".concat("dev"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.env?"http://localhost:5000":"https://builder.io","/api/v1/form-submit?apiKey=").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.apiKey,"&to=").concat(btoa(e.props.sendSubmissionsToEmail||""),"&name=").concat(encodeURIComponent(e.props.name||""));fetch("email"===e.props.sendSubmissionsTo?h:e.props.action,{body:o,headers:s,method:e.props.method||"post"}).then(function(t){return __awaiter(e,void 0,void 0,function(){var e,r,n,i,s;return __generator(this,function(o){switch(o.label){case 0:return(r=t.headers.get("content-type"))&&-1!==r.indexOf(JSON_CONTENT_TYPE)?[4,t.json()]:[3,2];case 1:return e=o.sent(),[3,4];case 2:return[4,t.text()];case 3:e=o.sent(),o.label=4;case 4:if(!t.ok&&this.props.errorMessagePath&&(n=get(e,this.props.errorMessagePath))&&("string"!=typeof n&&(n=JSON.stringify(n)),this.setState(__assign(__assign({},this.state),{formErrorMessage:n}))),this.setState(__assign(__assign({},this.state),{responseData:e,state:t.ok?"success":"error"})),t.ok){if(i=new CustomEvent("submit:success",{detail:{res:t,body:e}}),this.ref){if(this.ref.dispatchEvent(i),i.defaultPrevented)return[2];!1!==this.props.resetFormOnSubmit&&this.ref.reset()}this.props.successUrl&&(this.ref?(s=new CustomEvent("route",{detail:{url:this.props.successUrl}}),this.ref.dispatchEvent(s),s.defaultPrevented||(location.href=this.props.successUrl)):location.href=this.props.successUrl)}return[2]}})})},function(t){var r=new CustomEvent("submit:error",{detail:{error:t}});e.ref&&(e.ref.dispatchEvent(r),r.defaultPrevented)||e.setState(__assign(__assign({},e.state),{responseData:t,state:"error"}))})}}},e.props.attributes),e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map(function(e,t){return(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlock$1,{key:e.id,block:e})}),"error"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{dataPath:"errorMessage",blocks:e.props.errorMessage}),"sending"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{dataPath:"sendingMessage",blocks:e.props.sendingMessage}),"error"===e.submissionState&&e.state.responseData&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)("pre",{className:"builder-form-error-text",css:{padding:10,color:"red",textAlign:"center"}},JSON.stringify(e.state.responseData,null,2)),"success"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.Y)(BuilderBlocks,{dataPath:"successMessage",blocks:e.props.successMessage})))})},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Form=withBuilder(FormComponent,{name:"Form:Form",defaults:{responsiveStyles:{large:{marginTop:"15px",paddingBottom:"15px"}}},image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5",inputs:[{name:"sendSubmissionsTo",type:"string",enum:[{label:"Send to email",value:"email",helperText:"Send form submissions to the email address of your choosing"},{label:"Custom",value:"custom",helperText:"Handle where the form requests go manually with a little code, e.g. to your own custom backend"}],defaultValue:"email"},{name:"sendSubmissionsToEmail",type:"string",required:!0,defaultValue:"your@email.com",showIf:'options.get("sendSubmissionsTo") === "email"'},{name:"sendWithJs",type:"boolean",helperText:"Set to false to use basic html form action",defaultValue:!0,showIf:'options.get("sendSubmissionsTo") === "custom"'},{name:"name",type:"string",defaultValue:"My form"},{name:"action",type:"string",helperText:"URL to send the form data to",showIf:'options.get("sendSubmissionsTo") === "custom"'},{name:"contentType",type:"string",defaultValue:JSON_CONTENT_TYPE,advanced:!0,enum:[JSON_CONTENT_TYPE,MULTIPART_CONTENT_TYPE,ENCODED_CONTENT_TYPE],showIf:'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'},{name:"method",type:"string",showIf:'options.get("sendSubmissionsTo") === "custom"',defaultValue:"POST",advanced:!0},{name:"previewState",type:"string",enum:["unsubmitted","sending","success","error"],defaultValue:"unsubmitted",helperText:'Choose a state to edit, e.g. choose "success" to show what users see on success and edit the message',showIf:'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'},{name:"successUrl",type:"url",helperText:"Optional URL to redirect the user to on form submission success",showIf:'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'},{name:"resetFormOnSubmit",type:"boolean",showIf:function(e){return"custom"===e.get("sendSubmissionsTo")&&!0===e.get("sendWithJs")},advanced:!0},{name:"successMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Thanks!</span>"}}}]},{name:"validate",type:"boolean",defaultValue:!0,advanced:!0},{name:"errorMessagePath",type:"text",advanced:!0,helperText:'Path to where to get the error message from in a JSON response to display to the user, e.g. "error.message" for a response like { "error": { "message": "this username is taken" }}'},{name:"errorMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},bindings:{"component.options.text":"state.formErrorMessage || block.component.options.text"},component:{name:"Text",options:{text:"<span>Form submission error :( Please check your answers and try again</span>"}}}]},{name:"sendingMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Sending...</span>"}}}]},__assign(__assign({name:"customHeaders",type:"map"},{valueType:{type:"string"}}),{advanced:!0,showIf:'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'})],noWrap:!0,canHaveChildren:!0,defaultChildren:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Enter your name</span>"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:Input",options:{name:"name",placeholder:"Jane Doe"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Enter your email</span>"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:Input",options:{name:"email",placeholder:"jane@doe.com"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:SubmitButton",options:{text:"Submit"}}}]}),FormInputComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("input",__assign({key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&this.props.defaultValue?this.props.defaultValue:"default-key",placeholder:this.props.placeholder,type:this.props.type,name:this.props.name},void 0===this.props.value?{defaultValue:this.props.defaultValue}:{value:this.props.value},{required:this.props.required},this.props.attributes))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),FormInput=withBuilder(FormInputComponent,{name:"Form:Input",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca",inputs:[{name:"type",type:"text",enum:["text","number","email","url","checkbox","radio","range","date","datetime-local","search","tel","time","file","month","week","password","color","hidden"],defaultValue:"text"},{name:"name",type:"string",required:!0,helperText:'Every input in a form needs a unique name describing what it takes, e.g. "email"'},{name:"placeholder",type:"string",defaultValue:"Hello there",helperText:"Text to display when there is no value"},{name:"defaultValue",type:"string"},{name:"value",type:"string",advanced:!0},{name:"required",type:"boolean",helperText:"Is this input required to be filled out to submit a form",defaultValue:!1}],noWrap:!0,static:!0,defaultStyles:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"3px",borderWidth:"1px",borderStyle:"solid",borderColor:"#ccc"}}),FormSubmitButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("button",__assign({type:"submit"},this.props.attributes),this.props.text)},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),FormSubmitButton=withBuilder(FormSubmitButtonComponent,{name:"Form:SubmitButton",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98",defaultStyles:{appearance:"none",paddingTop:"15px",paddingBottom:"15px",paddingLeft:"25px",paddingRight:"25px",backgroundColor:"#3898EC",color:"white",borderRadius:"4px",cursor:"pointer"},inputs:[{name:"text",type:"text",defaultValue:"Click me"}],static:!0,noWrap:!0}),LabelComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("label",__assign({htmlFor:this.props.for},this.props.attributes),this.props.text&&react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{className:"builder-label-text",dangerouslySetInnerHTML:{__html:this.props.text}}),this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map(function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlock$1,{key:e.id,block:e})}))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Label=withBuilder(LabelComponent,{name:"Form:Label",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F9322342f04b545fb9a8091cd801dfb5b",inputs:[{name:"text",type:"html",richText:!0,defaultValue:"Label"},{name:"for",type:"text",helperText:"The name of the input this label is for",advanced:!0}],noWrap:!0,static:!0,canHaveChildren:!0}),FormSelectComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.options;return react__WEBPACK_IMPORTED_MODULE_2__.createElement("select",__assign({value:this.props.value,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&this.props.defaultValue?this.props.defaultValue:"default-key",defaultValue:this.props.defaultValue,name:this.props.name,required:this.props.required},this.props.attributes),e&&e.map(function(e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("option",{value:e.value},e.name||e.value)}))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),FormSelect=withBuilder(FormSelectComponent,{name:"Form:Select",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045",defaultStyles:{alignSelf:"flex-start"},inputs:[{name:"options",type:"list",required:!0,subFields:[{name:"value",type:"text",required:!0},{name:"name",type:"text"}],defaultValue:[{value:"option 1"},{value:"option 2"}]},{name:"name",type:"string",required:!0,helperText:'Every select in a form needs a unique name describing what it gets, e.g. "email"'},{name:"defaultValue",type:"string"},{name:"value",type:"string",advanced:!0},{name:"required",type:"boolean",defaultValue:!1}],static:!0,noWrap:!0}),TextAreaComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement("textarea",__assign({placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,defaultValue:this.props.defaultValue,required:this.props.required},this.props.attributes))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),TextArea=withBuilder(TextAreaComponent,{name:"Form:TextArea",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3",inputs:[{advanced:!0,name:"value",type:"string"},{name:"name",type:"string",required:!0,helperText:'Every input in a form needs a unique name describing what it gets, e.g. "email"'},{name:"defaultValue",type:"string"},{name:"placeholder",type:"string",defaultValue:"Hello there"},{name:"required",type:"boolean",defaultValue:!1}],defaultStyles:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"3px",borderWidth:"1px",borderStyle:"solid",borderColor:"#ccc"},static:!0,noWrap:!0}),ImgComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSrcSet=function(){var e=this.props.image;if(e&&"string"==typeof e&&e.match(/builder\.io/))return getSrcSet(e)},t.prototype.render=function(){var e=this.props.attributes||{},t=this.getSrcSet(),r=e.style,n=__rest(e,["style"]),i={objectFit:this.props.backgroundSize,objectPosition:this.props.backgroundPosition,aspectRatio:this.props.aspectRatio},s=__assign(__assign({},i),r);return react__WEBPACK_IMPORTED_MODULE_2__.createElement("img",__assign({loading:"lazy"},n,{src:this.props.image||e.src,srcSet:t,alt:this.props.altText,title:this.props.title,style:s,className:"builder-raw-img"}))},t}(react__WEBPACK_IMPORTED_MODULE_2__.Component),Img=withBuilder(ImgComponent,{name:"Raw:Img",hideFromInsertMenu:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",inputs:[{name:"image",bubble:!0,type:"file",allowedFileTypes:IMAGE_FILE_TYPES,required:!0},{name:"backgroundSize",type:"text",defaultValue:"cover",enum:[{label:"contain",value:"contain",helperText:"The image should never get cropped"},{label:"cover",value:"cover",helperText:"The image should fill it's box, cropping when needed"}]},{name:"backgroundPosition",type:"text",defaultValue:"center",enum:["center","top","left","right","bottom","top left","top right","bottom left","bottom right"]},{name:"altText",type:"string",helperText:"Text to display when the user has images off"},{name:"title",type:"string",helperText:"Text to display when hovering over the asset"},{name:"aspectRatio",type:"number",helperText:"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio",advanced:!0,defaultValue:.7041}],noWrap:!0}),RawText=function(e){var t=e.attributes||{};return react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{className:(null==t?void 0:t.class)||(null==t?void 0:t.className),dangerouslySetInnerHTML:{__html:e.text||""}})};_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(RawText,{name:"Builder:RawText",hideFromInsertMenu:!0,inputs:[{name:"text",bubble:!0,type:"longText",required:!0}]});var filterWithCustomTargetingScript='function filterWithCustomTargeting(e,t,n,r){var i={query:t,startDate:n,endDate:r},o=e.date&&new Date(e.date)||new Date;return!(i.startDate&&new Date(i.startDate)>o)&&(!(i.endDate&&new Date(i.endDate)<o)&&(!i.query||!i.query.length||i.query.every((function(t){return objectMatchesQuery(e,t)}))))}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function objectMatchesQuery(e,t){return function(){var n=t.property,r=t.operator,i=t.value;if(t&&"urlPath"===t.property&&t.value&&"string"==typeof t.value&&"/"!==t.value&&t.value.endsWith("/")&&(i=t.value.slice(0,-1)),!n||!r)return!0;if(Array.isArray(i))return"isNot"===r?i.every((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})})):!!i.find((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})}));var o=e[n];if(Array.isArray(o))return o.includes(i);switch(r){case"is":return o===i;case"isNot":return o!==i;case"contains":return(isString(o)||Array.isArray(o))&&o.includes(String(i));case"startsWith":return isString(o)&&o.startsWith(String(i));case"endsWith":return isString(o)&&o.endsWith(String(i));case"greaterThan":return isNumber(o)&&isNumber(i)&&o>i;case"lessThan":return isNumber(o)&&isNumber(i)&&o<i;case"greaterThanOrEqualTo":return isNumber(o)&&isNumber(i)&&o>=i;case"lessThanOrEqualTo":return isNumber(o)&&isNumber(i)&&o<=i}return!1}()}';function filterWithCustomTargeting(e,t,r,n){var i=t,s=r,o=n,a=e.date&&new Date(e.date)||new Date;return!(s&&new Date(s)>a)&&!(o&&new Date(o)<a)&&(!i||!i.length||i.every(function(t){return objectMatchesQuery(e,t)}))}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function objectMatchesQuery(e,t){return function(){var r=t.property,n=t.operator,i=t.value;if(t&&"urlPath"===t.property&&t.value&&"string"==typeof t.value&&"/"!==t.value&&t.value.endsWith("/")&&(i=t.value.slice(0,-1)),!r||!n)return!0;if(Array.isArray(i))return"isNot"===n?i.every(function(t){return objectMatchesQuery(e,{property:r,operator:n,value:t})}):!!i.find(function(t){return objectMatchesQuery(e,{property:r,operator:n,value:t})});var s=e[r];if(Array.isArray(s))return s.includes(i);switch(n){case"is":return s===i;case"isNot":return s!==i;case"contains":return(isString(s)||Array.isArray(s))&&s.includes(String(i));case"startsWith":return isString(s)&&s.startsWith(String(i));case"endsWith":return isString(s)&&s.endsWith(String(i));case"greaterThan":return isNumber(s)&&isNumber(i)&&s>i;case"lessThan":return isNumber(s)&&isNumber(i)&&s<i;case"greaterThanOrEqualTo":return isNumber(s)&&isNumber(i)&&s>=i;case"lessThanOrEqualTo":return isNumber(s)&&isNumber(i)&&s<=i}return!1}()}function PersonalizationContainer(e){var t,r,n,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b,w,k,S=!!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isBrowser&&(null==(t=window.__hydrated)?void 0:t[null==(r=e.builderBlock)?void 0:r.id])),x=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),_=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(S),E=_[0],C=_[1],T=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),j=T[0],O=T[1],A=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);A[0];var I=A[1],P=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext);if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){C(!0),O(!0);var e,t=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.userAttributesChanged.subscribe(function(){I(function(e){return e+1})}),r=[function(){return t.unsubscribe()}];if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing){var n=R[0];null==(e=x.current)||e.dispatchEvent(new CustomEvent("builder.variantLoaded",{detail:{variant:n||"default",content:P.content},bubbles:!0}));var i=new IntersectionObserver(function(e){e.forEach(function(e){var t;e.isIntersecting&&(null==(t=x.current)||t.dispatchEvent(new CustomEvent("builder.variantDisplayed",{detail:{variant:n||"default",content:P.content},bubbles:!0})))})});i.observe(x.current),r.push(function(){return i.disconnect()})}return function(){r.forEach(function(e){return e()})}},[]),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isServer)return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",__assign({},e.attributes,{style:__assign({opacity:1,transition:"opacity 0.2s ease-in-out"},null==(n=e.attributes)?void 0:n.style),className:"builder-personalization-container ".concat(e.attributes.className)}),null==(i=e.variants)?void 0:i.map(function(t,r){var n,i;return react__WEBPACK_IMPORTED_MODULE_2__.createElement("template",{key:r,"data-variant-id":(null==(n=e.builderBlock)?void 0:n.id)+r},react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{blocks:t.blocks,parentElementId:null==(i=e.builderBlock)?void 0:i.id,dataPath:"component.options.variants.".concat(r,".blocks"),child:!0}))}),react__WEBPACK_IMPORTED_MODULE_2__.createElement("script",{nonce:P.context.nonce,id:"variants-script-".concat(null==(s=e.builderBlock)?void 0:s.id),dangerouslySetInnerHTML:{__html:getPersonalizationScript(e.variants,(null==(o=e.builderBlock)?void 0:o.id)||"none",null==(a=e.builderState.state)?void 0:a.locale)}}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{blocks:null==(l=e.builderBlock)?void 0:l.children,parentElementId:null==(u=e.builderBlock)?void 0:u.id,dataPath:"this.children",child:!0})),react__WEBPACK_IMPORTED_MODULE_2__.createElement("script",{nonce:P.context.nonce,dangerouslySetInnerHTML:{__html:"\n         window.__hydrated = window.__hydrated || {};\n         window.__hydrated['".concat(null==(c=e.builderBlock)?void 0:c.id,"'] = true;\n        ").replace(/\s+/g," ")}}));var R=(e.variants||[]).filter(function(t){var r;return filterWithCustomTargeting(__assign(__assign({},(null==(r=e.builderState.state)?void 0:r.locale)?{locale:e.builderState.state.locale}:{}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.cL.getUserAttributes()),t.query,t.startDate,t.endDate)});return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",__assign({ref:x},e.attributes,{style:__assign({opacity:+!!E,transition:"opacity 0.2s ease-in-out"},null==(d=e.attributes)?void 0:d.style),className:"builder-personalization-container ".concat(e.attributes.className).concat(E?"":" builder-personalization-container-loading")}),j&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&"number"==typeof e.previewingIndex&&e.previewingIndex<((null==(h=e.variants)?void 0:h.length)||0)?react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{blocks:null==(f=null==(p=e.variants)?void 0:p[e.previewingIndex])?void 0:f.blocks,parentElementId:null==(m=e.builderBlock)?void 0:m.id,dataPath:"component.options.variants.".concat(e.previewingIndex,".blocks"),child:!0}):j&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing&&"number"!=typeof e.previewingIndex||!E||!R.length?react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{blocks:null==(g=e.builderBlock)?void 0:g.children,parentElementId:null==(v=e.builderBlock)?void 0:v.id,dataPath:"this.children",child:!0}):react__WEBPACK_IMPORTED_MODULE_2__.createElement(BuilderBlocks,{blocks:null==(y=R[0])?void 0:y.blocks,parentElementId:null==(b=e.builderBlock)?void 0:b.id,dataPath:"component.options.variants.".concat(null==(w=e.variants)?void 0:w.indexOf(R[0]),".blocks"),child:!0})),react__WEBPACK_IMPORTED_MODULE_2__.createElement("script",{nonce:P.context.nonce,dangerouslySetInnerHTML:{__html:"\n         window.__hydrated = window.__hydrated || {};\n         window.__hydrated['".concat(null==(k=e.builderBlock)?void 0:k.id,"'] = true;\n        ").replace(/\s+/g," ")}}))}function getPersonalizationScript(e,t,r){return"\n      (function() {\n        function getCookie(name) {\n          var nameEQ = name + \"=\";\n          var ca = document.cookie.split(';');\n          for(var i=0;i < ca.length;i++) {\n              var c = ca[i];\n              while (c.charAt(0)==' ') c = c.substring(1,c.length);\n              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n          }\n          return null;\n        }\n        function removeVariants() {\n          variants.forEach(function (template, index) {\n            document.querySelector('template[data-variant-id=\"' + \"".concat(t,"\" + index + '\"]').remove();\n          });\n          document.getElementById('variants-script-").concat(t,"').remove();\n        }\n\n        var attributes = JSON.parse(getCookie(\"").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.attributesCookieName,'") || "{}");\n        ').concat(r?'attributes.locale = "'.concat(r,'";'):"","\n        var variants = ").concat(JSON.stringify(null==e?void 0:e.map(function(e){return{query:e.query,startDate:e.startDate,endDate:e.endDate}})),";\n        var winningVariantIndex = variants.findIndex(function(variant) {\n          return filterWithCustomTargeting(\n            attributes,\n            variant.query,\n            variant.startDate,\n            variant.endDate\n          );\n        });\n        var isDebug = location.href.includes('builder.debug=true');\n        if (isDebug) {\n          console.debug('PersonalizationContainer', {\n            attributes: attributes,\n            variants: variants,\n            winningVariantIndex: winningVariantIndex,\n            });\n        }\n        if (winningVariantIndex !== -1) {\n          var winningVariant = document.querySelector('template[data-variant-id=\"' + \"").concat(t,"\" + winningVariantIndex + '\"]');\n          if (winningVariant) {\n            var parentNode = winningVariant.parentNode;\n            var newParent = parentNode.cloneNode(false);\n            newParent.appendChild(winningVariant.content.firstChild);\n            parentNode.parentNode.replaceChild(newParent, parentNode);\n            if (isDebug) {\n              console.debug('PersonalizationContainer', 'Winning variant Replaced:', winningVariant);\n            }\n          }\n        } else if (variants.length > 0) {\n          removeVariants();\n        }\n        ").concat(filterWithCustomTargetingScript,"\n      })();\n    ").replace(/\s+/g," ")}function useIsPreviewing(){var e=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),t=e[0],r=e[1];return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isPreviewing)&&r(!0)},[]),t}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.registerComponent(PersonalizationContainer,{name:"PersonalizationContainer",noWrap:!0,friendlyName:"Dynamic Container",image:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F37229ed30d8c41dfb10b8cca1992053a",canHaveChildren:!0,inputs:[{name:"variants",defaultValue:[],behavior:"personalizationVariantList",type:"list",subFields:[{name:"name",type:"text",localized:!1},{name:"query",friendlyName:"Targeting rules",type:"BuilderQuery",defaultValue:[],localized:!1},{name:"startDate",type:"date",localized:!1},{name:"endDate",type:"date",localized:!1},{name:"blocks",type:"UiBlocks",hideFromUI:!0,defaultValue:[]}]}]}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.isReact=!0,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.M$.sdkInfo={name:"react",version:SDK_VERSION}},5861:e=>{var t="/";!function(){var r={229:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function l(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u=[],c=!1,d=-1;function h(){c&&n&&(c=!1,n.length?u=n.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(n=u,u=[];++d<t;)n&&n[d].run();d=-1,t=u.length}n=null,c=!1,l(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}},o=!0;try{r[e](s,s.exports,i),o=!1}finally{o&&delete n[e]}return s.exports}i.ab=t+"/",e.exports=i(229)}()},5997:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(7711));class s{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){let n=t?"HEAD":"GET",s=!1,o=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new i.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;let s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(n=this.fetch)?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(o=this.fetch)?o:fetch})}update(e,{count:t}={}){var r;let n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new i.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch})}}t.default=s},6069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var n=r(7876);r(5454);var i=r(7685),s=r(5507),o=r(4232),a=r(4613),l=r(7628);let u=()=>{let[e,t]=(0,o.useState)(null),[r,n]=(0,o.useState)(!1),[i,s]=(0,o.useState)(!0),{user:u}=(0,l.A)();(0,o.useEffect)(()=>{c()},[u]);let c=async()=>{s(!0);try{let e=localStorage.getItem("adgo-consent");if(!u){if(e){let r=JSON.parse(e);t(r),n(!1)}else n(!0);s(!1);return}let{data:r,error:i}=await a.N.from("user_consents").select("*").eq("user_id",u.id).order("created_at",{ascending:!1}).limit(1).single();i&&"PGRST116"!==i.code&&console.error("Error checking consent:",i),r?(t(r),n(!1)):n(!0)}catch(e){console.error("Consent check error:",e),n(!0)}finally{s(!1)}},d=async e=>{try{let r={user_id:(null==u?void 0:u.id)||null,consents:e,ip_address:await f(),user_agent:navigator.userAgent,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(u){let{data:n,error:i}=await a.N.from("user_consents").upsert({user_id:u.id,consents:e,ip_address:r.ip_address,user_agent:r.user_agent}).select().single();if(i)throw i;t(n)}else{let e={id:"local-".concat(Date.now()),...r};localStorage.setItem("adgo-consent",JSON.stringify(e)),t(e)}return n(!1),!0}catch(e){return console.error("Error saving consent:",e),!1}},h=async t=>!!e&&await d(t),p=t=>!!e&&!0===e.consents[t],f=async()=>{try{let e=await fetch("/api/get-client-ip");return(await e.json()).ip||"unknown"}catch(e){return"unknown"}};return{consentRecord:e,showConsentModal:r,loading:i,saveConsent:d,updateConsent:h,withdrawConsent:async()=>{if(!u)return localStorage.removeItem("adgo-consent"),t(null),n(!0),!0;try{let{error:e}=await a.N.from("user_consents").delete().eq("user_id",u.id);if(e)throw e;return t(null),n(!0),!0}catch(e){return console.error("Error withdrawing consent:",e),!1}},hasConsent:p,checkConsentStatus:c}},c=e=>{let{isOpen:t,onClose:r}=e,{saveConsent:i}=u(),[s,a]=(0,o.useState)({marketing:!1,analytics:!1,functional:!0,necessary:!0}),[l,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1);if(!t)return null;let p=async()=>{h(!0);let e={marketing:!0,analytics:!0,functional:!0,necessary:!0};await i(e)&&r(),h(!1)},f=async()=>{h(!0),await i(s)&&r(),h(!1)},m=async()=>{h(!0);let e={marketing:!1,analytics:!1,functional:!1,necessary:!0};await i(e)&&r(),h(!1)},g=(e,t)=>{"necessary"!==e&&a(r=>({...r,[e]:t}))};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)("div",{className:"text-2xl mr-2",children:"\uD83C\uDF6A"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Privacy & Cookie Consent"})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("p",{className:"text-gray-700 mb-4",children:"AdGo respects your privacy and is committed to protecting your personal data. We use cookies and similar technologies to enhance your experience and provide personalized advertising."}),(0,n.jsx)("p",{className:"text-gray-700 mb-4",children:"This notice complies with Kenya's Data Protection Act (Kenya DPA) 2019 and GDPR requirements. Please review and customize your consent preferences below."})]}),(0,n.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,n.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-800",children:"Strictly Necessary Cookies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Essential for the website to function properly. Cannot be disabled."})]}),(0,n.jsx)("input",{type:"checkbox",checked:s.necessary,disabled:!0,className:"mt-1"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Used for: Authentication, security, load balancing, and core website functionality."})]}),(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-800",children:"Functional Cookies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Enable enhanced functionality and personalization."})]}),(0,n.jsx)("input",{type:"checkbox",checked:s.functional,onChange:e=>g("functional",e.target.checked),className:"mt-1"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Used for: Language preferences, dashboard customization, and user settings."})]}),(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-800",children:"Analytics Cookies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Help us understand how you interact with our platform."})]}),(0,n.jsx)("input",{type:"checkbox",checked:s.analytics,onChange:e=>g("analytics",e.target.checked),className:"mt-1"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Used for: Page views, click tracking, performance monitoring, and usage analytics."})]}),(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-800",children:"Marketing Cookies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Used to deliver relevant advertising and measure campaign effectiveness."})]}),(0,n.jsx)("input",{type:"checkbox",checked:s.marketing,onChange:e=>g("marketing",e.target.checked),className:"mt-1"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Used for: Ad personalization, campaign tracking, and cross-platform advertising."})]})]}),(0,n.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Your Data Rights"}),(0,n.jsx)("p",{className:"text-sm text-blue-700",children:"You have the right to access, correct, delete, or port your personal data. You can withdraw consent at any time in your account settings."})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,n.jsx)("button",{onClick:p,disabled:d,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 disabled:opacity-50 font-semibold",children:d?"Saving...":"Accept All"}),(0,n.jsx)("button",{onClick:f,disabled:d,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-semibold",children:d?"Saving...":"Save Preferences"}),(0,n.jsx)("button",{onClick:m,disabled:d,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-400 disabled:opacity-50 font-semibold",children:d?"Saving...":"Decline All"})]}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-500",children:[(0,n.jsx)("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"  ",(0,n.jsx)("a",{href:"/terms-of-service",className:"text-blue-600 hover:underline",children:"Terms of Service"}),"  ",(0,n.jsx)("a",{href:"/cookie-policy",className:"text-blue-600 hover:underline",children:"Cookie Policy"})]})]})})})};var d=r(7963);let h=(0,d.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=(0,d.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,d.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);class m extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),this.logErrorToService(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,n.jsx)("div",{className:"flex justify-center mb-6",children:(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(h,{className:"w-8 h-8 text-red-600"})})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Our team has been notified and is working on a fix."}),!1,(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,n.jsxs)("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,n.jsx)(p,{className:"w-4 h-4"}),"Try Again"]}),(0,n.jsxs)("button",{onClick:this.handleGoHome,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[(0,n.jsx)(f,{className:"w-4 h-4"}),"Go Home"]})]}),(0,n.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["If this problem persists, please contact"," ",(0,n.jsx)("a",{href:"mailto:support@adgo.co.ke",className:"text-blue-600 hover:underline",children:"support@adgo.co.ke"})]})})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1},this.logErrorToService=(e,t)=>{console.group("\uD83D\uDEA8 Error Boundary Report"),console.error("Error:",e.message),console.error("Stack:",e.stack),console.error("Component Stack:",t.componentStack),console.error("Props:",this.props),console.error("User Agent:",navigator.userAgent),console.error("URL:",window.location.href),console.error("Timestamp:",new Date().toISOString()),console.groupEnd()},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"}}}let g=m;var v=r(5364);function y(){let e=[],t=[];["NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY"].forEach(t=>{v.env[t]||e.push(t)});let r=0===e.length,n=r?" Client environment variables validated":" Missing client environment variables: ".concat(e.join(", "));return{isValid:r,missingVars:e,warnings:t,summary:n}}function b(){let{showConsentModal:e}=u();return(0,n.jsx)(c,{isOpen:e,onClose:()=>{}})}function w(){return(0,o.useEffect)(()=>{let e=y();e.isValid||console.error(" Client environment validation failed:",e.missingVars)},[]),null}function k(e){let{Component:t,pageProps:r}=e;return(0,n.jsxs)(g,{children:[(0,n.jsx)(w,{}),(0,n.jsx)(s.RZ,{model:"layout",content:null==r?void 0:r.builderContent}),(0,n.jsx)(t,{...r}),(0,n.jsx)(b,{}),(0,n.jsx)(i.l$,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}s.cL.init("af2d418e03484a10b50b332058b99748")},6609:e=>{"use strict";function t(e,t){for(;e.length<t;)e="0"+e;return e}function r(e,t){var r,n;if(0===t.length)return e;for(r=0,n=t.length;r<n;r++)e=(e<<5)-e+t.charCodeAt(r)|0;return e<0?-2*e:e}function n(e,t,r){return Object.keys(t).sort().reduce(n,e);function n(e,n){return i(e,t[n],n,r)}}function i(e,t,i,o){var a=r(r(r(e,i),s(t)),typeof t);if(null===t)return r(a,"null");if(void 0===t)return r(a,"undefined");if("object"==typeof t||"function"==typeof t){if(-1!==o.indexOf(t))return r(a,"[Circular]"+i);o.push(t);var l=n(a,t,o);if(!("valueOf"in t)||"function"!=typeof t.valueOf)return l;try{return r(l,String(t.valueOf()))}catch(e){return r(l,"[valueOf exception]"+(e.stack||e.message))}}return r(a,t.toString())}function s(e){return Object.prototype.toString.call(e)}e.exports=function(e){return t(i(0,e,"",[]).toString(16),8)}},7247:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+e[t+d],d+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=u}return(p?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,d=c>>1,h=5960464477539062e-23*(23===i),p=n?0:s-1,f=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+p]=255&o,p+=f,o/=256,u-=8);e[r+p-f]|=128*m}},7391:(e,t,r)=>{"use strict";r.d(t,{Cl:()=>n});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}},7624:(e,t,r)=>{"use strict";r.d(t,{Z2:()=>W,AH:()=>U,Y:()=>D});var n,i=r(4232);function s(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function o(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=o(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=s(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,a?0:i.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}();let l=function(e){function t(e,n,l,u,c){for(var p,f,m,g,v,k=0,x=0,_=0,E=0,C=0,T=0,R=m=p=0,M=0,N=0,B=0,U=0,D=l.length,q=D-1,F="",z="",W="",V="";M<D;){if(f=l.charCodeAt(M),M===q&&0!==x+E+_+k&&(0!==x&&(f=47===x?10:47),E=_=k=0,D++,q++),0===x+E+_+k){if(M===q&&(0<N&&(F=F.replace(h,"")),0<F.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:F+=l.charAt(M)}f=59}switch(f){case 123:for(p=(F=F.trim()).charCodeAt(0),m=1,U=++M;M<D;){switch(f=l.charCodeAt(M)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<q;++R)switch(l.charCodeAt(R)){case 47:if(42===f&&42===l.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===f){M=R+1;break e}}M=R}}break;case 91:f++;case 40:f++;case 34:case 39:for(;M++<q&&l.charCodeAt(M)!==f;);}if(0===m)break;M++}if(m=l.substring(U,M),0===p&&(p=(F=F.replace(d,"").trim()).charCodeAt(0)),64===p){switch(0<N&&(F=F.replace(h,"")),f=F.charCodeAt(1)){case 100:case 109:case 115:case 45:N=n;break;default:N=P}if(m=t(n,N,m,f,c+1),U=m.length,0<$&&(N=r(P,F,B),v=a(3,m,N,n,O,j,U,f,c,u),F=N.join(""),void 0!==v&&0===(U=(m=v.trim()).length)&&(f=0,m="")),0<U)switch(f){case 115:F=F.replace(S,o);case 100:case 109:case 45:m=F+"{"+m+"}";break;case 107:F=F.replace(y,"$1 $2"),m=F+"{"+m+"}",m=1===I||2===I&&s("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=F+m,112===u&&(z+=m,m="")}else m=""}else m=t(n,r(n,F,B),m,u,c+1);W+=m,m=B=N=R=p=0,F="",f=l.charCodeAt(++M);break;case 125:case 59:if(1<(U=(F=(0<N?F.replace(h,""):F).trim()).length))switch(0===R&&(45===(p=F.charCodeAt(0))||96<p&&123>p)&&(U=(F=F.replace(" ",":")).length),0<$&&void 0!==(v=a(1,F,n,e,O,j,z.length,u,c,u))&&0===(U=(F=v.trim()).length)&&(F="\0\0"),p=F.charCodeAt(0),f=F.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){V+=F+l.charAt(M);break}default:58!==F.charCodeAt(U-1)&&(z+=i(F,p,f,F.charCodeAt(2)))}B=N=R=p=0,F="",f=l.charCodeAt(++M)}}switch(f){case 13:case 10:47===x?x=0:0===1+p&&107!==u&&0<F.length&&(N=1,F+="\0"),0<$*L&&a(0,F,n,e,O,j,z.length,u,c,u),j=1,O++;break;case 59:case 125:if(0===x+E+_+k){j++;break}default:switch(j++,g=l.charAt(M),f){case 9:case 32:if(0===E+k+x)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===E+x+k&&(N=B=1,g="\f"+g);break;case 108:if(0===E+x+k+A&&0<R)switch(M-R){case 2:112===C&&58===l.charCodeAt(M-3)&&(A=C);case 8:111===T&&(A=T)}break;case 58:0===E+x+k&&(R=M);break;case 44:0===x+_+E+k&&(N=1,g+="\r");break;case 34:case 39:0===x&&(E=E===f?0:0===E?f:E);break;case 91:0===E+x+_&&k++;break;case 93:0===E+x+_&&k--;break;case 41:0===E+x+k&&_--;break;case 40:0===E+x+k&&(0===p&&(2*C+3*T==533||(p=1)),_++);break;case 64:0===x+_+E+k+R+m&&(m=1);break;case 42:case 47:if(!(0<E+k+_))switch(x){case 0:switch(2*f+3*l.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===f&&42===C&&U+2!==M&&(33===l.charCodeAt(U+2)&&(z+=l.substring(U,M+1)),g="",x=0)}}0===x&&(F+=g)}T=C,C=f,M++}if(0<(U=z.length)){if(N=n,0<$&&void 0!==(v=a(2,z,N,e,O,j,U,u,c,u))&&0===(z=v).length)return V+z+W;if(z=N.join(",")+"{"+z+"}",0!=I*A){switch(2!==I||s(z,2)||(A=0),A){case 111:z=z.replace(w,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}A=0}}return V+z+W}function r(e,t,r){var i=t.trim().split(g);t=i;var s=i.length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<s;++a)t[a]=n(e,t[a],r).trim();break;default:var l=a=0;for(t=[];a<s;++a)for(var u=0;u<o;++u)t[l++]=n(e[u]+" ",i[a],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<+r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var o=e+";",a=2*t+3*r+4*n;if(944===a){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===I||2===I&&s(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!s(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(p,":-webkit-")+o.replace(p,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(k,"tb");break;case 232:l=o.replace(k,"tb-rl");break;case 220:l=o.replace(k,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+n&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+o}return o}function s(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),M(2!==t?n:n.replace(E,"$1"),r,t)}function o(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,i,s,o,a,l,u){for(var d,h=0,p=t;h<$;++h)switch(d=R[h].call(c,e,p,r,n,i,s,o,a,l,u)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function l(e){switch(e){case void 0:case null:$=R.length=0;break;default:if("function"==typeof e)R[$++]=e;else if("object"==typeof e)for(var t=0,r=e.length;t<r;++t)l(e[t]);else L=0|!!e}return l}function u(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?I=1:(I=2,M=e):I=0),u}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<$){var i=a(-1,r,n,n,O,j,0,0,0,0);void 0!==i&&"string"==typeof i&&(r=i)}var s=t(P,n,r,0,0);return 0<$&&void 0!==(i=a(-2,s,n,n,O,j,s.length,0,0,0))&&(s=i),A=0,j=O=1,s}var d=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,f=/zoo|gra/,m=/([,: ])(transform)/g,g=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,w=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,j=1,O=1,A=0,I=1,P=[],R=[],$=0,M=null,L=0;return c.use=l,c.set=u,void 0!==e&&u(e),c};var u="/*|*/",c=u+"}";function d(e){e&&h.current.insert(e+"}")}var h={current:null},p=function(e,t,r,n,i,s,o,a,l,p){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return h.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===a)return t+u;break;case 3:switch(a){case 102:case 112:return h.current.insert(r[0]+t),"";default:return t+(0===p?u:"")}case -2:t.split(c).forEach(d)}};let f=function(e){void 0===e&&(e={});var t,r,n,i=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var s=new l(t),o={};r=e.container||document.head;var u=document.querySelectorAll("style[data-emotion-"+i+"]");Array.prototype.forEach.call(u,function(e){e.getAttribute("data-emotion-"+i).split(" ").forEach(function(e){o[e]=!0}),e.parentNode!==r&&r.appendChild(e)}),s.use(e.stylisPlugins)(p),n=function(e,t,r,n){var i=t.name;h.current=r,s(e,t.styles),n&&(c.inserted[i]=!0)};var c={key:i,sheet:new a({key:i,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:n};return c};var m=!0;function g(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "}),n}var v=function(e,t,r){var n=e.key+"-"+t.name;if((!1===r||!1===m&&void 0!==e.compat)&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do e.insert("."+n,i,e.sheet,!0),i=i.next;while(void 0!==i)}};let y=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,r=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&r)*0x5bd1e995+((r>>>16)*59797<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r^=255&e.charCodeAt(n),r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)},b={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var w=/[A-Z]|^ms/g,k=/_EMO_([^_]+?)_([^]*?)_EMO_/g,S=function(e){return 45===e.charCodeAt(1)},x=function(e){return null!=e&&"boolean"!=typeof e},_=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}(function(e){return S(e)?e:e.replace(w,"-$&").toLowerCase()}),E=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(k,function(e,t,r){return n={name:t,styles:r,next:n},t})}return 1===b[e]||S(e)||"number"!=typeof t||0===t?t:t+"px"};function C(e,t,r,i){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return n={name:r.name,styles:r.styles,next:n},r.name;if(void 0!==r.styles){var s=r.next;if(void 0!==s)for(;void 0!==s;)n={name:s.name,styles:s.styles,next:n},s=s.next;return r.styles+";"}return T(e,t,r);case"function":if(void 0!==e){var o=n,a=r(e);return n=o,C(e,t,a,i)}}if(null==t)return r;var l=t[r];return void 0===l||i?r:l}function T(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=C(e,t,r[i],!1);else for(var s in r){var o=r[s];if("object"!=typeof o)null!=t&&void 0!==t[o]?n+=s+"{"+t[o]+"}":x(o)&&(n+=_(s)+":"+E(s,o)+";");else if(Array.isArray(o)&&"string"==typeof o[0]&&(null==t||void 0===t[o[0]]))for(var a=0;a<o.length;a++)x(o[a])&&(n+=_(s)+":"+E(s,o[a])+";");else{var l=C(e,t,o,!1);switch(s){case"animation":case"animationName":n+=_(s)+":"+l+";";break;default:n+=s+"{"+l+"}"}}}return n}var j=/label:\s*([^\s;\n{]+)\s*;/g,O=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i,s=!0,o="";n=void 0;var a=e[0];null==a||void 0===a.raw?(s=!1,o+=C(r,t,a,!1)):o+=a[0];for(var l=1;l<e.length;l++)o+=C(r,t,e[l],46===o.charCodeAt(o.length-1)),s&&(o+=a[l]);j.lastIndex=0;for(var u="";null!==(i=j.exec(o));)u+="-"+i[1];return{name:y(o)+u,styles:o,next:n}},A=Object.prototype.hasOwnProperty,I=(0,i.createContext)("undefined"!=typeof HTMLElement?f():null),P=(0,i.createContext)({});I.Provider;var R=function(e){var t=function(t,r){return(0,i.createElement)(I.Consumer,null,function(n){return e(t,n,r)})};return(0,i.forwardRef)(t)},$="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",M=function(e,t){var r={};for(var n in t)A.call(t,n)&&(r[n]=t[n]);return r[$]=e,r},L=function(){return null},N=function(e,t,r,n){var s=null===r?t.css:t.css(r);"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var o=t[$],a=[s],l="";"string"==typeof t.className?l=g(e.registered,a,t.className):null!=t.className&&(l=t.className+" ");var u=O(a);v(e,u,"string"==typeof o),l+=e.key+"-"+u.name;var c={};for(var d in t)A.call(t,d)&&"css"!==d&&d!==$&&(c[d]=t[d]);c.ref=n,c.className=l;var h=(0,i.createElement)(o,c),p=(0,i.createElement)(L,null);return(0,i.createElement)(i.Fragment,null,p,h)},B=R(function(e,t,r){return"function"==typeof e.css?(0,i.createElement)(P.Consumer,null,function(n){return N(t,e,n,r)}):N(t,e,null,r)});let U=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return O(t)};var D=function(e,t){var r=arguments;if(null==t||!A.call(t,"css"))return i.createElement.apply(void 0,r);var n=r.length,s=Array(n);s[0]=B,s[1]=M(e,t);for(var o=2;o<n;o++)s[o]=r[o];return i.createElement.apply(null,s)},q=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var s=t[n];if(null!=s){var o=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))o=e(s);else for(var a in o="",s)s[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function F(e,t,r){var n=[],i=g(e,n,r);return n.length<2?r:i+t(n)}var z=function(){return null},W=R(function(e,t){return(0,i.createElement)(P.Consumer,null,function(r){var n=!1,s=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=O(r,t.registered);return v(t,i,!1),t.key+"-"+i.name},o=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return F(t.registered,s,q(r))},a={css:s,cx:o,theme:r},l=e.children(a);n=!0;var u=(0,i.createElement)(z,null);return(0,i.createElement)(i.Fragment,null,u,l)})})},7628:(e,t,r)=>{"use strict";r.d(t,{A:()=>s}),r(7876);var n=r(4232);r(4613);let i=(0,n.createContext)({loading:!0,session:null,user:null,signOut:async()=>{}});function s(){return(0,n.useContext)(i)}},7685:(e,t,r)=>{"use strict";r.d(t,{l$:()=>ep,Ay:()=>ef});var n=r(4232);let i={data:""},s=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||i,o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,l=/\n+/g,u=(e,t)=>{let r="",n="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+o+";":n+="f"==s[1]?u(o,s):s+"{"+u(o,"k"==s[1]?"":t)+"}":"object"==typeof o?n+=u(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=u.p?u.p(s,o):s+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},c={},d=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+d(e[r]);return t}return e},h=(e,t,r,n,i)=>{let s=d(e),h=c[s]||(c[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!c[h]){let t=s!==e?e:(e=>{let t,r,n=[{}];for(;t=o.exec(e.replace(a,""));)t[4]?n.shift():t[3]?(r=t[3].replace(l," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(l," ").trim();return n[0]})(e);c[h]=u(i?{["@keyframes "+h]:t}:t,r?"":"."+h)}let p=r&&c.g?c.g:null;return r&&(c.g=c[h]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[h],t,n,p),h},p=(e,t,r)=>e.reduce((e,n,i)=>{let s=t[i];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+n+(null==s?"":s)},"");function f(e){let t=this||{},r=e.call?e(t.p):e;return h(r.unshift?r.raw?p(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,s(t.target),t.g,t.o,t.k)}f.bind({g:1});let m,g,v,y=f.bind({k:1});function b(e,t,r,n){u.p=t,m=e,g=r,v=n}function w(e,t){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;r.p=Object.assign({theme:g&&g()},a),r.o=/ *go\d+/.test(l),a.className=f.apply(r,n)+(l?" "+l:""),t&&(a.ref=o);let u=e;return e[0]&&(u=a.as||e,delete a.as),v&&u[0]&&v(a),m(u,a)}return t?t(i):i}}var k=e=>"function"==typeof e,S=(e,t)=>k(e)?e(t):e,x=(()=>{let e=0;return()=>(++e).toString()})(),_=(()=>{let e;return()=>{if(void 0===e&&"u">typeof window){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),E="default",C=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return C(e,{type:+!!e.toasts.find(e=>e.id===n.id),toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+s}))}}},T=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},O={},A=(e,t=E)=>{O[t]=C(O[t]||j,e),T.forEach(([e,r])=>{e===t&&r(O[t])})},I=e=>Object.keys(O).forEach(t=>A(e,t)),P=e=>Object.keys(O).find(t=>O[t].toasts.some(t=>t.id===e)),R=(e=E)=>t=>{A(t,e)},$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M=(e={},t=E)=>{let[r,i]=(0,n.useState)(O[t]||j),s=(0,n.useRef)(O[t]);(0,n.useEffect)(()=>(s.current!==O[t]&&i(O[t]),T.push([t,i]),()=>{let e=T.findIndex(([e])=>e===t);e>-1&&T.splice(e,1)}),[t]);let o=r.toasts.map(t=>{var r,n,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||$[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...r,toasts:o}},L=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||x()}),N=e=>(t,r)=>{let n=L(t,e,r);return R(n.toasterId||P(n.id))({type:2,toast:n}),n.id},B=(e,t)=>N("blank")(e,t);B.error=N("error"),B.success=N("success"),B.loading=N("loading"),B.custom=N("custom"),B.dismiss=(e,t)=>{let r={type:3,toastId:e};t?R(t)(r):I(r)},B.dismissAll=e=>B.dismiss(void 0,e),B.remove=(e,t)=>{let r={type:4,toastId:e};t?R(t)(r):I(r)},B.removeAll=e=>B.remove(void 0,e),B.promise=(e,t,r)=>{let n=B.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?S(t.success,e):void 0;return i?B.success(i,{id:n,...r,...null==r?void 0:r.success}):B.dismiss(n),e}).catch(e=>{let i=t.error?S(t.error,e):void 0;i?B.error(i,{id:n,...r,...null==r?void 0:r.error}):B.dismiss(n)}),e};var U=1e3,D=(e,t="default")=>{let{toasts:r,pausedAt:i}=M(e,t),s=(0,n.useRef)(new Map).current,o=(0,n.useCallback)((e,t=U)=>{if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),a({type:4,toastId:e})},t);s.set(e,r)},[]);(0,n.useEffect)(()=>{if(i)return;let e=Date.now(),n=r.map(r=>{if(r.duration===1/0)return;let n=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(n<0){r.visible&&B.dismiss(r.id);return}return setTimeout(()=>B.dismiss(r.id,t),n)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[r,i,t]);let a=(0,n.useCallback)(R(t),[t]),l=(0,n.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),u=(0,n.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),c=(0,n.useCallback)(()=>{i&&a({type:6,time:Date.now()})},[i,a]),d=(0,n.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:s}=t||{},o=r.filter(t=>(t.position||s)===(e.position||s)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[r]);return(0,n.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:d}}},q=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,F=y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z=y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,W=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${q} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${F} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${z} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,V=y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H=w("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${V} 1s linear infinite;
`,K=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,J=y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Y=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${K} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${J} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G=w("div")`
  position: absolute;
`,Q=w("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,X=y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Z=w("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${X} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ee=({toast:e})=>{let{icon:t,type:r,iconTheme:i}=e;return void 0!==t?"string"==typeof t?n.createElement(Z,null,t):t:"blank"===r?null:n.createElement(Q,null,n.createElement(H,{...i}),"loading"!==r&&n.createElement(G,null,"error"===r?n.createElement(W,{...i}):n.createElement(Y,{...i})))},et=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,er=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,en="0%{opacity:0;} 100%{opacity:1;}",ei="0%{opacity:1;} 100%{opacity:0;}",es=w("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eo=w("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ea=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=_()?[en,ei]:[et(r),er(r)];return{animation:t?`${y(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${y(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},el=n.memo(({toast:e,position:t,style:r,children:i})=>{let s=e.height?ea(e.position||t||"top-center",e.visible):{opacity:0},o=n.createElement(ee,{toast:e}),a=n.createElement(eo,{...e.ariaProps},S(e.message,e));return n.createElement(es,{className:e.className,style:{...s,...r,...e.style}},"function"==typeof i?i({icon:o,message:a}):n.createElement(n.Fragment,null,o,a))});b(n.createElement);var eu=({id:e,className:t,style:r,onHeightUpdate:i,children:s})=>{let o=n.useCallback(t=>{if(t){let r=()=>{i(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return n.createElement("div",{ref:o,className:t,style:r},s)},ec=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},ed=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=16,ep=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:i,children:s,toasterId:o,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:c}=D(r,o);return n.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:eh,left:eh,right:eh,bottom:eh,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(r=>{let o=r.position||t,a=ec(o,c.calculateOffset(r,{reverseOrder:e,gutter:i,defaultPosition:t}));return n.createElement(eu,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?ed:"",style:a},"custom"===r.type?S(r.message,r):s?s(r):n.createElement(el,{toast:r,position:o}))}))},ef=B},7711:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(9341));class s extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=s},7963:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(4232);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...h}=e;return(0,n.createElement)("svg",{ref:t,...o,width:i,height:i,stroke:r,strokeWidth:l?24*Number(a)/Number(i):a,className:s("lucide",u),...h},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:l,...u}=r;return(0,n.createElement)(a,{ref:o,iconNode:t,className:s("lucide-".concat(i(e)),l),...u})});return r.displayName="".concat(e),r}},8221:(e,t,r)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},8335:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M$:()=>Builder,cL:()=>builder,tQ:()=>BehaviorSubject,yU:()=>Subscription});var serverOnlyRequire,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7391),hash_sum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6609),hash_sum__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_0__);!function(){"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=e);function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}}();var isSafari="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),isClient="undefined"!=typeof window;function nextTick(e){if(!isClient||isSafari||"undefined"==typeof MutationObserver)return void setTimeout(e);var t=0,r=new MutationObserver(function(){return e()}),n=document.createTextNode("");r.observe(n,{characterData:!0}),n.data=String(t=++t)}var PROPERTY_NAME_DENY_LIST=Object.freeze(["__proto__","prototype","constructor"]),QueryString=function(){function e(){}return e.parseDeep=function(e){var t=this.parse(e);return this.deepen(t)},e.stringifyDeep=function(e){var t=this.flatten(e);return this.stringify(t)},e.parse=function(e){for(var t={},r=("?"===e[0]?e.substr(1):e).split("&"),n=0;n<r.length;n++){var i=r[n].split("=");try{t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}catch(e){}}return t},e.stringify=function(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(n)}return t},e.deepen=function(e){var t={};for(var r in e){for(var n=t,i=r.split("."),s=i.pop(),o=0,a=i;o<a.length;o++){var l=a[o];assertAllowedPropertyName(l),n=n[l]=n[l]||{}}n[s]=e[r]}return t},e.flatten=function(e,t,r){for(var n in void 0===r&&(r={}),e){var i=e[n],s=t?t+"."+n:n;i&&"object"==typeof i?this.flatten(i,s,r):r[s]=i}return r},e}();function assertAllowedPropertyName(e){if(PROPERTY_NAME_DENY_LIST.indexOf(e)>=0)throw Error('Property name "'.concat(e,'" is not allowed'))}var Subscription=function(){function e(e,t){this.listeners=e,this.listener=t,this.unsubscribed=!1,this.otherSubscriptions=[]}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.unsubscribed},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this.otherSubscriptions.push(e)},e.prototype.unsubscribe=function(){if(!this.unsubscribed){if(this.listener&&this.listeners){var e=this.listeners.indexOf(this.listener);e>-1&&this.listeners.splice(e,1)}this.otherSubscriptions.forEach(function(e){return e.unsubscribe()}),this.unsubscribed=!0}},e}(),BehaviorSubject=function(){function e(e){var t=this;this.value=e,this.listeners=[],this.errorListeners=[],this.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t.toPromise()).then.apply(e,r)}}return e.prototype.next=function(e){this.value=e;for(var t=0,r=this.listeners;t<r.length;t++)(0,r[t])(e)},e.prototype.map=function(t){var r=new e(t(this.value));return this.subscribe(function(e){r.next(t(e))}),this.catch(function(e){r.error(e)}),r},e.prototype.catch=function(e){return this.errorListeners.push(e),new Subscription(this.errorListeners,e)},e.prototype.error=function(e){for(var t=0,r=this.errorListeners;t<r.length;t++)(0,r[t])(e)},e.prototype.subscribe=function(e,t){return this.listeners.push(e),t&&this.errorListeners.push(t),new Subscription(this.listeners,e)},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,r){var n=e.subscribe(function(e){t(e),n.unsubscribe()},function(e){r(e),n.unsubscribe()})})},e.prototype.promise=function(){return this.toPromise()},e}(),State={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};function isFunction(e){return e&&"function"==typeof e}function isObject(e){return e&&"object"==typeof e}var TinyPromise=function(){function e(e){this._state=State.Pending,this._handlers=[],this._value=null,e(this._resolve.bind(this),this._reject.bind(this))}return e.prototype._resolve=function(t){var r=this;if(t instanceof e)t.then(this._resolve.bind(this),this._reject.bind(this));else if(isObject(t)||isFunction(t)){var n=!1;try{var i=t.then;isFunction(i)?i.call(t,function(e){n||r._resolve(e),n=!0},function(e){n||r._reject(e),n=!0}):this._fulfill(t)}catch(e){n||this._reject(e)}}else this._fulfill(t)},e.prototype._fulfill=function(e){var t=this;this._state=State.Fulfilled,this._value=e,this._handlers.forEach(function(e){return t._callHandler(e)})},e.prototype._reject=function(e){var t=this;this._state=State.Rejected,this._value=e,this._handlers.forEach(function(e){return t._callHandler(e)})},e.prototype._isPending=function(){return this._state===State.Pending},e.prototype._isFulfilled=function(){return this._state===State.Fulfilled},e.prototype._isRejected=function(){return this._state===State.Rejected},e.prototype._addHandler=function(e,t){this._handlers.push({onFulfilled:e,onRejected:t})},e.prototype._callHandler=function(e){this._isFulfilled()&&isFunction(e.onFulfilled)?e.onFulfilled(this._value):this._isRejected()&&isFunction(e.onRejected)&&e.onRejected(this._value)},e.prototype.then=function(t,r){var n=this;switch(this._state){case State.Pending:return new e(function(e,i){n._addHandler(function(r){nextTick(function(){try{isFunction(t)?e(t(r)):e(r)}catch(e){i(e)}})},function(t){nextTick(function(){try{isFunction(r)?e(r(t)):i(t)}catch(e){i(e)}})})});case State.Fulfilled:return new e(function(e,r){nextTick(function(){try{isFunction(t)?e(t(n._value)):e(n._value)}catch(e){r(e)}})});case State.Rejected:return new e(function(e,t){nextTick(function(){try{isFunction(r)?e(r(n._value)):t(n._value)}catch(e){t(e)}})})}},e}(),Promise$1="undefined"!=typeof Promise?Promise:TinyPromise;try{serverOnlyRequire=eval("require")}catch(err){serverOnlyRequire=function(){return null}}var serverOnlyRequire$1=serverOnlyRequire;function promiseResolve(e){return new Promise$1(function(t){return t(e)})}function tinyFetch(e,t){return void 0===t&&(t={}),new Promise$1(function(r,n){var i=new XMLHttpRequest;if(i.open(t.method||"get",e,!0),t.headers)for(var s in t.headers)i.setRequestHeader(s,t.headers[s]);function o(){var e=[],t=[],r={},n=void 0;return i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(i,s,o){var a=s;return e.push(a=a.toLowerCase()),t.push([a,o]),n=r[a],r[a]=n?"".concat(n,",").concat(o):o,""}),{ok:(i.status/100|0)==2,status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return promiseResolve(i.responseText)},json:function(){return promiseResolve(i.responseText).then(JSON.parse)},blob:function(){return promiseResolve(new Blob([i.response]))},headers:{keys:function(){return e},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}i.withCredentials="include"===t.credentials,i.onload=function(){r(o())},i.onerror=n,i.send(t.body)})}function getFetch(){var e=void 0;if(globalThis.fetch)null!=e||(e=globalThis.fetch);else if("undefined"==typeof window)try{null!=e||(e=serverOnlyRequire$1("node-fetch"))}catch(e){console.warn("node-fetch is not installed. consider polyfilling fetch or installing node-fetch."),console.warn(e)}return null!=e?e:tinyFetch}function assign(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}function throttle(e,t,r){void 0===r&&(r={});var n,i,s,o=null,a=0,l=function(){a=!1===r.leading?0:Date.now(),o=null,s=e.apply(n,i),o||(n=i=null)};return function(){var u=Date.now();a||!1!==r.leading||(a=u);var c=t-(u-a);return n=this,i=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=u,s=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,c)),s}}var camelCaseToKebabCase=function(e){return e?e.replace(/([A-Z])/g,function(e){return"-".concat(e[0].toLowerCase())}):""},Animator=function(){function e(){}return e.prototype.bindAnimations=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];switch(n.trigger){case"pageLoad":this.triggerAnimation(n);break;case"hover":this.bindHoverAnimation(n);break;case"scrollInView":this.bindScrollInViewAnimation(n)}}},e.prototype.warnElementNotPresent=function(e){console.warn("Cannot animate element: element with ID ".concat(e," not found!"))},e.prototype.augmentAnimation=function(e,t){for(var r=this.getAllStylesUsed(e),n=getComputedStyle(t),i=[e.steps[0].styles,e.steps[e.steps.length-1].styles],s=0,o=i;s<o.length;s++)for(var a=o[s],l=0,u=r;l<u.length;l++){var c=u[l];c in a||(a[c]=n[c])}},e.prototype.getAllStylesUsed=function(e){for(var t=[],r=0,n=e.steps;r<n.length;r++){var i=n[r];for(var s in i.styles)-1===t.indexOf(s)&&t.push(s)}return t},e.prototype.triggerAnimation=function(e){var t=this,r=Array.prototype.slice.call(document.getElementsByClassName(e.elementId||e.id||""));if(!r.length)return void this.warnElementNotPresent(e.elementId||e.id||"");Array.from(r).forEach(function(r){t.augmentAnimation(e,r),r.style.transition="none",r.style.transitionDelay="0",assign(r.style,e.steps[0].styles),setTimeout(function(){r.style.transition="all ".concat(e.duration,"s ").concat(camelCaseToKebabCase(e.easing)),e.delay&&(r.style.transitionDelay=e.delay+"s"),assign(r.style,e.steps[1].styles),setTimeout(function(){r.style.transition="",r.style.transitionDelay=""},1e3*(e.delay||0)+1e3*e.duration+100)})})},e.prototype.bindHoverAnimation=function(e){var t=this,r=Array.prototype.slice.call(document.getElementsByClassName(e.elementId||e.id||""));if(!r.length)return void this.warnElementNotPresent(e.elementId||e.id||"");Array.from(r).forEach(function(r){t.augmentAnimation(e,r);var n=e.steps[0].styles,i=e.steps[1].styles;function s(){assign(r.style,n)}function o(){assign(r.style,i)}s(),r.addEventListener("mouseenter",o),r.addEventListener("mouseleave",s),setTimeout(function(){r.style.transition="all ".concat(e.duration,"s ").concat(camelCaseToKebabCase(e.easing)),e.delay&&(r.style.transitionDelay=e.delay+"s")})})},e.prototype.bindScrollInViewAnimation=function(e){var t=this,r=Array.prototype.slice.call(document.getElementsByClassName(e.elementId||e.id||""));if(!r.length)return void this.warnElementNotPresent(e.elementId||e.id||"");Array.from(r).forEach(function(r){t.augmentAnimation(e,r);var n=!1,i=!1;function s(){!n&&a(r)?(n=!0,i=!0,setTimeout(function(){assign(r.style,e.steps[1].styles),e.repeat||document.removeEventListener("scroll",o),setTimeout(function(){i=!1,e.repeat||(r.style.transition="",r.style.transitionDelay="")},(e.duration+(e.delay||0))*1e3+100)})):e.repeat&&n&&!i&&!a(r)&&(n=!1,assign(r.style,e.steps[0].styles))}var o=throttle(s,200,{leading:!1});function a(t){var r=t.getBoundingClientRect(),n=window.innerHeight,i=(e.thresholdPercent||0)/100*n;return r.bottom>i&&r.top<n-i}var l=e.steps[0].styles;(function(){assign(r.style,l)})(),setTimeout(function(){r.style.transition="all ".concat(e.duration,"s ").concat(camelCaseToKebabCase(e.easing)),e.delay&&(r.style.transitionDelay=e.delay+"s")}),document.addEventListener("scroll",o,{capture:!0,passive:!0}),s()})},e}(),fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Cookies=function(){function e(e,t){this.request=e,this.response=t}return e.prototype.get=function(e){var t=this.request.headers.cookie;if(t){var r=t.match(getPattern(e));if(r){var n=r[1];return n}}},e.prototype.set=function(e,t,r){var n=this.response,i=this.request,s=n.getHeader("Set-Cookie")||[],o=void 0!==this.secure?!!this.secure:"https"===i.protocol||i.connection.encrypted,a=new Cookie(e,t,r);if("string"==typeof s&&(s=[s]),!o&&r&&r.secure)throw Error("Cannot send secure cookie over unencrypted connection");return a.secure=o,r&&"secure"in r&&(a.secure=!!r.secure),pushCookie(s,a),n.setHeader.call(n,"Set-Cookie",s),this},e}(),Cookie=function(){function e(e,t,r){if(this.path="/",this.domain=void 0,this.httpOnly=!0,this.sameSite=!1,this.secure=!1,this.overwrite=!1,this.name="",this.value="",!fieldContentRegExp.test(e))throw TypeError("argument name is invalid");if(t&&!fieldContentRegExp.test(t))throw TypeError("argument value is invalid");t||(this.expires=new Date(0)),this.name=e,this.value=t||"",r.expires&&(this.expires=r.expires),r.secure&&(this.secure=r.secure)}return e.prototype.toString=function(){return"".concat(this.name,"=").concat(this.value)},e.prototype.toHeader=function(){var e=this.toString();return this.maxAge&&(this.expires=new Date(Date.now()+this.maxAge)),this.path&&(e+="; path=".concat(this.path)),this.expires&&(e+="; expires=".concat(this.expires.toUTCString())),this.domain&&(e+="; domain=".concat(this.domain)),e+="; SameSite=".concat(!0===this.sameSite?"strict":"None"),this.secure&&(e+="; secure"),this.httpOnly&&(e+="; httponly"),e},e}();function getPattern(e){return new RegExp("(?:^|;) *".concat(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"=([^;]*)"))}function pushCookie(e,t){if(t.overwrite)for(var r=e.length-1;r>=0;r--)0===e[r].indexOf("".concat(t.name,"="))&&e.splice(r,1);e.push(t.toHeader())}function omit(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=Object.assign({},e),i=0,s=t;i<s.length;i++){var o=s[i];delete n[o]}return n}function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function uuid(){return uuidv4().replace(/-/g,"")}function emptyUrl(){return{query:null,port:null,auth:null,hash:null,host:null,hostname:null,href:null,path:null,pathname:null,protocol:null,search:null,slashes:null}}function parse$1(e){var t,r,n=emptyUrl();return""===e||"/"===e[0]?(n.href=(r=new URL(e,"http://0.0.0.0/")).href,n.href=null==(t=n.href)?void 0:t.slice(14)):(n.href=(r=new URL(e)).href,n.port=""===r.port?null:r.port,n.hash=""===r.hash?null:r.hash,n.host=r.host,n.hostname=r.hostname,n.href=r.href,n.pathname=r.pathname,n.protocol=r.protocol,n.slashes="/"===e[r.protocol.length]),n.search=r.search,n.query=r.search.slice(1),n.path="".concat(r.pathname).concat(r.search),n.pathname=r.pathname,n}function toError(e){return e instanceof Error?e:Error(String(e))}var DEFAULT_API_VERSION="v3",SDK_VERSION="6.1.2";function datePlusMinutes(e){return void 0===e&&(e=30),new Date(Date.now()+6e4*e)}var isPositiveNumber=function(e){return"number"==typeof e&&!isNaN(e)&&e>=0},isReactNative="object"==typeof navigator&&"ReactNative"===navigator.product,validEnvList=["production","qa","test","development","dev","cdn-qa","cloud","fast","cdn2","cdn-prod"];function getQueryParam(e,t){for(var r=(e.split("?")[1]||"").split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(decodeURIComponent(i[0])===t)return decodeURIComponent(i[1])}return null}var urlParser={parse:function(e){var t=document.createElement("a");t.href=e;for(var r={},n=["username","password","host","hostname","port","protocol","origin","pathname","search","hash"],i=0,s=n;i<s.length;i++){var o=s[i];r[o]=t[o]}return(r.pathname||""===r.pathname)&&"string"==typeof r.pathname&&0!==r.pathname.indexOf("/")&&(r.pathname="/"+r.pathname),r}},parse=isReactNative?function(){return emptyUrl()}:"object"==typeof window?urlParser.parse:parse$1;function setCookie(e,t,r){try{var n="";r&&(n="; expires="+r.toUTCString());var i=!isBrowser||"https:"===location.protocol;document.cookie=e+"="+(t||"")+n+"; path=/"+(i?"; secure; SameSite=None":"")}catch(e){console.warn("Could not set cookie",e)}}function getCookie(e){try{return decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}catch(e){console.warn("Could not get cookie",e)}}function size(e){return Object.keys(e).length}function find(e,t){for(var r=e,n=r.length>>>0,i=arguments[1],s=0;s<n;s++){var o=r[s];if(t.call(i,o,s,r))return o}}var sessionStorageKey="builderSessionId",localStorageKey="builderVisitorId",isBrowser="undefined"!=typeof window&&!isReactNative,isIframe=isBrowser&&window.top!==window.self;function BuilderComponent(e){return void 0===e&&(e={}),Builder.Component(e)}var Builder=function(){function e(t,r,n,i,s,o){void 0===t&&(t=null),void 0===i&&(i=!1),void 0===s&&(s=null);var a=this;if(this.request=r,this.response=n,this.eventsQueue=[],this.throttledClearEventsQueue=throttle(function(){a.processEventsQueue(),a.setCookie(sessionStorageKey,a.sessionId,datePlusMinutes(30))},5),this.env="production",this.sessionId=this.getSessionId(),this.targetContent=!0,this.contentPerRequest=1,this.allowCustomFonts=!0,this.cookies=null,this.cachebust=!1,this.overrideParams="",this.noCache=!1,this.preview=!1,this.apiEndpoint$=new BehaviorSubject("query"),this.apiVersion$=new BehaviorSubject(void 0),this.canTrack$=new BehaviorSubject(!this.browserTrackingDisabled),this.hasOverriddenCanTrack=!1,this.apiKey$=new BehaviorSubject(null),this.authToken$=new BehaviorSubject(null),this.userAttributesChanged=new BehaviorSubject(null),this.editingMode$=new BehaviorSubject(isIframe),this.editingModel$=new BehaviorSubject(null),this.userAgent="object"==typeof navigator&&navigator.userAgent||"",this.trackingHooks=[],this.visitorId=this.getVisitorId(),this.autoTrack=!!e.isBrowser&&!this.isDevelopmentEnv&&!(e.isBrowser&&-1!==location.search.indexOf("builder.preview=")),this.trackingUserAttributes={},this.blockContentLoading="",this.observersByKey={},this.noEditorUpdates={},this.overrides={},this.queryOptions={},this.getContentQueue=null,this.priorContentQueue=null,this.testCookiePrefix="builder.tests",this.cookieQueue=[],e.isBrowser&&!i&&e.singletonInstance)return e.singletonInstance;if(this.request&&this.response&&(this.setUserAgent(this.request.headers["user-agent"]||""),this.cookies=new Cookies(this.request,this.response)),t&&(this.apiKey=t),o&&(this.apiVersion=o),s&&(this.authToken=s),isBrowser&&e.isEditing&&(this.bindMessageListeners(),parent.postMessage({type:"builder.animatorOptions",data:{options:{version:2}}},"*")),isIframe&&this.messageFrameLoaded(),this.canTrack$.subscribe(function(e){if(e){if("undefined"!=typeof sessionStorage)try{sessionStorage.getItem(sessionStorageKey)||sessionStorage.setItem(sessionStorageKey,a.sessionId)}catch(e){console.debug("Session storage error",e)}a.eventsQueue.length&&a.throttledClearEventsQueue(),a.cookieQueue.length&&(a.cookieQueue.forEach(function(e){a.setCookie(e[0],e[1])}),a.cookieQueue.length=0)}}),isBrowser){this.setTestsFromUrl(),this.getOverridesFromQueryString();var l=this.getCookie(e.attributesCookieName);if(l)try{var u=JSON.parse(l);this.setUserAttributes(u)}catch(e){console.debug("Error parsing user attributes cookie",e)}}}return e.register=function(t,r){"plugin"===t&&(r=this.serializeIncludingFunctions(r,!0));var n=this.registry[t];if(n||(n=this.registry[t]=[]),n.push(r),e.isBrowser){var i={type:"builder.register",data:{type:t,info:r}};try{parent.postMessage(i,"*"),parent!==window&&window.postMessage(i,"*")}catch(e){console.debug("Could not postmessage",e)}}this.registryChange.next(this.registry)},e.registerEditor=function(t){if(e.isBrowser){window.postMessage({type:"builder.registerEditor",data:omit(t,"component")},"*");var r=location.hostname;e.isTrustedHost(r)||console.error("Builder.registerEditor() called in the wrong environment! You cannot load custom editors from your app, they must be loaded through the Builder.io app itself. Follow the readme here for more details: https://github.com/builderio/builder/tree/master/plugins/cloudinary or contact chat us in our Spectrum community for help: https://spectrum.chat/builder")}this.editors.push(t)},e.registerPlugin=function(e){this.plugins.push(e)},e.registerAction=function(t){var r;if(this.actions.push(t),e.isBrowser){var n=JSON.parse(JSON.stringify(t));t.action&&(n.action=t.action.toString()),null==(r=window.parent)||r.postMessage({type:"builder.registerAction",data:n},"*")}},e.registerTrustedHost=function(e){this.trustedHosts.push(e)},e.setServerContext=function(e){this.serverContext=e},e.isTrustedHost=function(e){return this.trustedHosts.findIndex(function(t){return t.startsWith("*.")?e.endsWith(t.slice(1)):t===e})>-1},e.isTrustedHostForEvent=function(t){if("null"===t.origin)return!1;var r=parse(t.origin);return r.hostname&&e.isTrustedHost(r.hostname)},e.runAction=function(e){if(!("string"==typeof e?find(this.actions,function(t){return t.name===e}):e))throw Error("Action not found: ".concat(e))},e.fields=function(e,t){var r;null==(r=window.parent)||r.postMessage({type:"builder.fields",data:{name:e,fields:t}},"*")},e.set=function(t){e.register("editor.settings",t)},e.import=function(t){if(!e.isBrowser)return void console.warn("Builder.import used on the server - this should only be used in the browser");var r=window.System;return r?r.import("https://cdn.builder.io/systemjs/".concat(t)):void console.warn("System.js not available. Please include System.js when using Builder.import")},Object.defineProperty(e,"editingPage",{get:function(){return this._editingPage},set:function(e){this._editingPage=e,isBrowser&&isIframe&&(e?document.body.classList.add("builder-editing-page"):document.body.classList.remove("builder-editing-page"))},enumerable:!1,configurable:!0}),e.serializeIncludingFunctions=function(e,t){var r=function(e){var t=e.toString().trim(),r=/^[a-zA-Z0-9_]+\s*=>/i.test(t),n=!t.startsWith("function")&&!t.startsWith("async")&&!t.startsWith("(")&&!r;return"return (".concat(n?"function ":"").concat(t,").apply(this, arguments)")},n=JSON.parse(JSON.stringify(e,function(e,n){var i=t&&"onSave"===e;return"function"!=typeof n||i?n:r(n)}));return t&&(n.onSave=e.onSave),n},e.prepareComponentSpecToSend=function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},this.serializeIncludingFunctions(e)),{class:void 0})},e.registerBlock=function(e,t){this.registerComponent(e,t)},e.registerComponent=function(e,t){var r,n=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({class:e},e.builderOptions),t);if(this.addComponent(n),t.models&&this.singletonInstance.editingModel?isBrowser&&t.models.includes(this.singletonInstance.editingModel):isBrowser){var i=this.prepareComponentSpecToSend(n);null==(r=window.parent)||r.postMessage({type:"builder.registerComponent",data:i},"*")}},e.addComponent=function(e){var t=find(this.components,function(t){return t.name===e.name});if(t){if(t.class&&!e.class)return;this.components.splice(this.components.indexOf(t),1,e)}else this.components.push(e)},e.component=function(e){var t=this;return void 0===e&&(e={}),function(r){var n,i=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e),{class:r});i.name||(i.name=r.name),t.addComponent(i);var s=t.prepareComponentSpecToSend(i);return isBrowser&&(null==(n=window.parent)||n.postMessage({type:"builder.registerComponent",data:s},"*")),r}},Object.defineProperty(e,"Component",{get:function(){return this.component},enumerable:!1,configurable:!0}),e.prototype.processEventsQueue=function(){if(this.eventsQueue.length){var t=this.eventsQueue;this.eventsQueue=[];for(var r=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e.overrideUserAttributes),this.trackingUserAttributes),n=0,i=t;n<i.length;n++){var s=i[n];s.data.metadata||(s.data.metadata={}),s.data.metadata.user||(s.data.metadata.user={}),Object.assign(s.data.metadata.user,r,s.data.metadata.user)}var o=this.host;getFetch()("".concat(o,"/api/v1/track"),{method:"POST",body:JSON.stringify({events:t}),headers:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({"content-type":"application/json"},this.getSdkHeaders()),mode:"cors"}).catch(function(){})}},Object.defineProperty(e.prototype,"browserTrackingDisabled",{get:function(){return e.isBrowser&&!!(window.builderNoTrack||!navigator.cookieEnabled)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTrack",{get:function(){return this.canTrack$.value},set:function(e){this.hasOverriddenCanTrack=!0,this.canTrack!==e&&this.canTrack$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiVersion",{get:function(){return this.apiVersion$.value},set:function(e){this.apiVersion!==e&&this.apiVersion$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiEndpoint",{get:function(){return this.apiEndpoint$.value},set:function(e){this.apiEndpoint!==e&&this.apiEndpoint$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingMode",{get:function(){return this.editingMode$.value},set:function(e){e!==this.editingMode&&this.editingMode$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingModel",{get:function(){return this.editingModel$.value},set:function(e){e!==this.editingModel&&this.editingModel$.next(e)},enumerable:!1,configurable:!0}),e.prototype.findParentElement=function(e,t,r){if(void 0===r&&(r=!0),!(e instanceof HTMLElement))return null;var n=r?e:e.parentElement;do{if(!n)break;if(t(n))return n}while(n=n.parentElement);return null},e.prototype.findBuilderParent=function(e){return this.findParentElement(e,function(e){var t=e.getAttribute("builder-id")||e.id;return!!(t&&0===t.indexOf("builder-"))})},e.prototype.setUserAgent=function(e){this.userAgent=e||""},e.prototype.setTrackingHook=function(e){this.trackingHooks.push(e)},e.prototype.track=function(t,r,n){if(void 0===r&&(r={}),!isIframe&&isBrowser&&!e.isPreviewing){var i=this.apiKey;if(!i)return void console.error('Builder integration error: Looks like the Builder SDK has not been initialized properly (your API key has not been set). Make sure you are calling `builder.init("\xabYOUR-API-KEY\xbb");` as early as possible in your application\'s code.');for(var s=JSON.parse(JSON.stringify({type:t,data:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},omit(r,"meta")),{metadata:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({sdkVersion:e.VERSION,url:location.href},r.meta),r.metadata),ownerId:i,userAttributes:this.getUserAttributes(),sessionId:this.sessionId,visitorId:this.visitorId})})),o=0,a=this.trackingHooks;o<a.length;o++){var l=(0,a[o])(s,n||{});l&&(s=l)}this.eventsQueue.push(s),this.canTrack&&this.throttledClearEventsQueue()}},e.prototype.getSessionId=function(){var t=this,r=null;try{e.isBrowser&&"undefined"!=typeof sessionStorage&&(r=this.getCookie(sessionStorageKey))}catch(e){console.debug("Session storage error",e)}return r||(r=uuid()),e.isBrowser&&setTimeout(function(){try{t.canTrack&&t.setCookie(sessionStorageKey,r,datePlusMinutes(30))}catch(e){console.debug("Cookie setting error",e)}}),r},e.prototype.getVisitorId=function(){var t=this;if(this.visitorId)return this.visitorId;var r=null;try{e.isBrowser&&"undefined"!=typeof localStorage&&(r=localStorage.getItem(localStorageKey))}catch(e){console.debug("Local storage error",e)}return r||(r=uuid()),this.visitorId=r,e.isBrowser&&setTimeout(function(){try{t.canTrack&&"undefined"!=typeof localStorage&&r&&localStorage.setItem(localStorageKey,r)}catch(e){console.debug("Session storage error",e)}}),r},e.prototype.trackImpression=function(t,r,n,i){isIframe||!isBrowser||e.isPreviewing||this.track("impression",{contentId:t,variationId:r!==t?r:void 0,metadata:n},i)},e.prototype.trackConversion=function(t,r,n,i,s){if(!isIframe&&isBrowser&&!e.isPreviewing){var o="object"==typeof r?r:i,a="string"==typeof r?r:void 0;this.track("conversion",{amount:t,variationId:n,meta:o,contentId:a},s)}},Object.defineProperty(e.prototype,"isDevelopmentEnv",{get:function(){return e.isIframe||e.isBrowser&&("localhost"===location.hostname||""!==location.port)||"production"!==this.env},enumerable:!1,configurable:!0}),e.prototype.trackInteraction=function(t,r,n,i,s){if(void 0===n&&(n=!1),!isIframe&&isBrowser&&!e.isPreviewing){var o=i&&i.target,a=o&&this.findBuilderParent(o),l={};if(i){var u=i.clientX,c=i.clientY;if(o){var d=o.getBoundingClientRect(),h=u-d.left,p=c-d.top,f=v(h/d.width),m=v(p/d.height);l.targetOffset={x:f,y:m}}if(a){var d=a.getBoundingClientRect(),h=u-d.left,p=c-d.top,f=v(h/d.width),m=v(p/d.height);l.builderTargetOffset={x:f,y:m}}}var g=a&&(a.getAttribute("builder-id")||a.id);g&&a&&(l.builderElementIndex=[].slice.call(document.getElementsByClassName(g)).indexOf(a)),this.track("click",{contentId:t,metadata:l,variationId:r!==t?r:void 0,unique:!n,targetBuilderElement:g||void 0},s)}function v(e){return Math.round(1e3*e)/1e3}},e.prototype.component=function(t){return void 0===t&&(t={}),e.component(t)},Object.defineProperty(e.prototype,"apiKey",{get:function(){return this.apiKey$.value},set:function(e){this.apiKey$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this.authToken$.value},set:function(e){this.authToken$.next(e)},enumerable:!1,configurable:!0}),e.prototype.modifySearch=function(e){return e.replace(/(^|&|\?)(builder_.*?)=/gi,function(e,t,r){return t+r.replace(/_/g,".")+"="})},e.prototype.setTestsFromUrl=function(){var e=this.getLocation().search;try{var t=QueryString.parseDeep(this.modifySearch(e||"").substr(1)),r=t.builder&&t.builder.tests;if(r&&"object"==typeof r)for(var n in r)r.hasOwnProperty(n)&&this.setTestCookie(n,r[n])}catch(e){console.debug("Error parsing tests from URL",e)}},e.prototype.resetOverrides=function(){e.overrideUserAttributes={},this.cachebust=!1,this.noCache=!1,this.preview=!1,this.editingModel=null,this.overrides={},this.env="production",this.userAgent="",this.request=void 0,this.response=void 0},e.prototype.getOverridesFromQueryString=function(){var t=this.getLocation();try{var r=QueryString.parseDeep(this.modifySearch(t.search||"").substr(1)),n=r.builder;if(n){var i=n.userAttributes,s=n.overrides,o=n.env,a=(n.host,n.api),l=n.cachebust,u=n.noCache,c=n.preview,d=n.editing,h=n.frameEditing,p=n.options,f=n.params;if(i&&this.setUserAttributes(i),p&&(this.queryOptions=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},p.locale&&{locale:p.locale}),p.includeRefs&&{includeRefs:p.includeRefs}),p.enrich&&{enrich:p.enrich})),s&&(this.overrides=s),validEnvList.indexOf(o||a)>-1&&(this.env=o||a),e.isEditing){var m=h||d||c;m&&"true"!==m&&(this.editingModel=m)}l&&(this.cachebust=!0),u&&(this.noCache=!0),c&&(this.preview=!0),r&&(this.overrideParams=f)}}catch(e){console.debug("Error parsing overrides from URL",e)}},e.prototype.messageFrameLoaded=function(){var e;null==(e=window.parent)||e.postMessage({type:"builder.loaded",data:{value:!0}},"*")},e.prototype.bindMessageListeners=function(){var t=this;addEventListener("message",function(r){var n,i,s,o;if(e.isTrustedHostForEvent(r)){var a=r.data;if(a)switch(a.type){case"builder.ping":null==(n=window.parent)||n.postMessage({type:"builder.pong",data:{}},"*");break;case"builder.register":if(r.source===window)break;var l=a.data;if(!l)break;var u=l.type,c=l.info,d=e.registry[u];d||(d=e.registry[u]=[]),d.push(c),e.registryChange.next(e.registry);break;case"builder.settingsChange":if(r.source===window)break;var h=a.data;if(!h)break;Object.assign(e.settings,h),e.settingsChange.next(e.settings);break;case"builder.registerEditor":if(r.source===window)break;var p=a.data;if(!p)break;var f=!!p.component;e.editors.every(function(t,r){return p.name!==t.name||(t.component&&!f||(e.editors[r]=t),!1)});break;case"builder.triggerAnimation":e.animator.triggerAnimation(a.data);break;case"builder.contentUpdate":var m=a.data.key||a.data.alias||a.data.entry||a.data.modelName,g=a.data.data,v=t.observersByKey[m];v&&!t.noEditorUpdates[m]&&v.next([g]);break;case"builder.getComponents":null==(i=window.parent)||i.postMessage({type:"builder.components",data:e.components.map(function(t){return e.prepareComponentSpecToSend(t)})},"*");break;case"builder.editingModel":t.editingModel=a.data.model;break;case"builder.registerComponent":var y=a.data;e.addComponent(y);break;case"builder.blockContentLoading":"string"==typeof a.data.model&&(t.blockContentLoading=a.data.model);break;case"builder.editingMode":a.data?(t.editingMode=!0,document.body.classList.add("builder-editing")):(t.editingMode=!1,document.body.classList.remove("builder-editing"));break;case"builder.editingPageMode":e.editingPage=a.data;break;case"builder.overrideUserAttributes":var b=a.data;assign(e.overrideUserAttributes,b),t.flushGetContentQueue(!0);break;case"builder.overrideTestGroup":var w=a.data,k=w.variationId,S=w.contentId;k&&S&&(t.setTestCookie(S,k),t.flushGetContentQueue(!0));break;case"builder.evaluate":var x=a.data.text,_=a.data.arguments||[],E=a.data.id,C=Function(x),T=void 0,j=null;try{T=C.apply(t,_)}catch(e){j=toError(e)}j?null==(s=window.parent)||s.postMessage({type:"builder.evaluateError",data:{id:E,error:j.message}},"*"):T&&"function"==typeof T.then?T.then(function(e){var t;null==(t=window.parent)||t.postMessage({type:"builder.evaluateResult",data:{id:E,result:e}},"*")}).catch(console.error):null==(o=window.parent)||o.postMessage({type:"builder.evaluateResult",data:{result:T,id:E}},"*")}}})},Object.defineProperty(e.prototype,"defaultCanTrack",{get:function(){return!!(e.isBrowser&&navigator.userAgent.trim()&&!navigator.userAgent.match(/bot|crawler|spider|robot|crawling|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantom|headless|selenium|puppeteer/i)&&!this.browserTrackingDisabled)},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,r,n,i,s){return void 0===t&&(t=this.defaultCanTrack),r&&(this.request=r),n&&(this.response=n),this.hasOverriddenCanTrack||(this.canTrack=t),this.apiKey=e,i&&(this.authToken=i),s&&(this.apiVersion=s),this},Object.defineProperty(e.prototype,"previewingModel",{get:function(){var e=this.getLocation().search;return QueryString.parse((e||"").substr(1))["builder.preview"]},enumerable:!1,configurable:!0}),e.prototype.getLocation=function(){var e,t={};return this.request?t=parse(null!=(e=this.request.url)?e:""):"object"==typeof location&&(t=parse(location.href)),""===t.pathname&&(t.pathname="/"),t},e.prototype.getUserAttributes=function(t){void 0===t&&(t=this.userAgent||"");var r={Android:function(){return t.match(/Android/i)},BlackBerry:function(){return t.match(/BlackBerry/i)},iOS:function(){return t.match(/iPhone|iPod/i)},Opera:function(){return t.match(/Opera Mini/i)},Windows:function(){return t.match(/IEMobile/i)||t.match(/WPDesktop/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows()}},n=t.match(/Tablet|iPad/i),i=this.getLocation();return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({urlPath:i.pathname,host:i.host||i.hostname,device:n?"tablet":r.any()?"mobile":"desktop"},e.overrideUserAttributes)},e.prototype.setUserAttributes=function(t){assign(e.overrideUserAttributes,t),this.canTrack&&this.setCookie(e.attributesCookieName,JSON.stringify(this.getUserAttributes())),this.userAttributesChanged.next(t)},e.prototype.setTrackingUserAttributes=function(e){assign(this.trackingUserAttributes,e)},e.prototype.get=function(t,r){void 0===r&&(r={});var n,i=this,s=r.locale||(null==(n=r.userAttributes)?void 0:n.locale)||this.getUserAttributes().locale;"noTraverse"in r||(r.noTraverse=!1);var o=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},r),s&&{locale:String(s),userAttributes:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({locale:String(s)},r.userAttributes)});return e.isBrowser?(r.apiKey&&!this.apiKey&&(this.apiKey=r.apiKey),r.authToken&&!this.authToken&&(this.authToken=r.authToken),r.apiVersion&&!this.apiVersion&&(this.apiVersion=r.apiVersion)):((i=new e(r.apiKey||this.apiKey,r.req,r.res,void 0,r.authToken||this.authToken,r.apiVersion||this.apiVersion)).apiEndpoint=this.apiEndpoint,i.setUserAttributes(this.getUserAttributes())),i.queueGetContent(t,o).map(function(t){var r=t&&t[0];if(e.isStatic)return r;var n=r&&r.data;return n?(void 0!==n.blocksString&&(n.blocks=JSON.parse(n.blocksString),delete n.blocksString),{data:n,id:r.id,variationId:r.testVariationId||r.variationId||null,testVariationId:r.testVariationId||r.variationId||null,testVariationName:r.testVariationName||null,lastUpdated:r.lastUpdated||null}):null})},e.prototype.queueGetContent=function(t,r){var n=this;void 0===r&&(r={});var i=r.key||r.alias||t,s=this.editingModel===t,o=this.observersByKey[i];"DEMO"!==this.apiKey||this.overrides[i]||r.initialContent||(r.initialContent=[]);var a=r.initialContent;if(o&&(!o.value||r.cache))return o.value&&nextTick(function(){o.next(o.value)}),o;if(s&&e.isBrowser&&parent.postMessage({type:"builder.updateContent",data:{options:r}},"*"),!a)if(this.getContentQueue||(this.getContentQueue=[]),this.getContentQueue.push((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},r),{model:t,key:i})),this.getContentQueue&&this.getContentQueue.length>=this.contentPerRequest){var l=this.getContentQueue.slice();this.getContentQueue=[],nextTick(function(){n.flushGetContentQueue(!1,l)})}else nextTick(function(){n.flushGetContentQueue()});var u=new BehaviorSubject(null);return this.observersByKey[i]=u,r.noEditorUpdates&&(this.noEditorUpdates[i]=!0),a&&nextTick(function(){u.next(a)}),u},e.prototype.requestUrl=function(e,t){return getFetch()(e,this.addSdkHeaders(t)).then(function(e){return e.json()})},Object.defineProperty(e.prototype,"host",{get:function(){switch(this.env){case"qa":return"https://qa.builder.io";case"test":return"https://builder-io-test.web.app";case"fast":return"https://fast.builder.io";case"cloud":return"https://cloud.builder.io";case"cdn2":return"https://cdn2.builder.io";case"cdn-qa":return"https://cdn-qa.builder.io";case"development":case"dev":return"http://localhost:5000";case"cdn-prod":return"https://cdn.builder.io";default:return e.overrideHost||"https://cdn.builder.io"}},enumerable:!1,configurable:!0}),e.prototype.getSdkHeaders=function(){return e.sdkInfo?{"X-Builder-SDK":e.sdkInfo.name,"X-Builder-SDK-GEN":"1","X-Builder-SDK-Version":e.sdkInfo.version}:{}},e.prototype.addSdkHeaders=function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e),{headers:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e.headers),this.getSdkHeaders())})},e.prototype.makeFetchApiCall=function(e,t){return getFetch()(e,this.addSdkHeaders(t))},e.prototype.flattenMongoQuery=function(e,t,r){for(var n in void 0===r&&(r={}),e){var i=e[n],s=t?t+"."+n:n;!i||"object"!=typeof i||Array.isArray(i)||Object.keys(i).find(function(e){return e.startsWith("$")})?r[s]=i:this.flattenMongoQuery(i,s,r)}return r},e.prototype.flushGetContentQueue=function(t,r){var n,i,s,o=this;if(void 0===t&&(t=!1),!this.apiKey)throw Error("Fetching content failed, expected apiKey to be defined instead got: ".concat(this.apiKey));if(this.apiVersion){if(!["v1","v3"].includes(this.apiVersion))throw Error("Invalid apiVersion: expected 'v1' or 'v3', received '".concat(this.apiVersion,"'"))}else this.apiVersion=DEFAULT_API_VERSION;if(t||this.getContentQueue){var a=r||(t?this.priorContentQueue:this.getContentQueue)||[];this.getOverridesFromQueryString();var l=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({omit:null!=(n=a[0].omit)?n:"meta.componentsUsed",apiKey:this.apiKey},a[0].options),this.queryOptions);a[0].locale&&(l.locale=a[0].locale),a[0].fields&&(l.fields=a[0].fields),a[0].format&&(l.format=a[0].format),"noTraverse"in a[0]&&(l.noTraverse=a[0].noTraverse),"includeUnpublished"in a[0]&&(l.includeUnpublished=a[0].includeUnpublished),a[0].sort&&(l.sort=a[0].sort);var u=("undefined"!=typeof location?QueryString.parseDeep(location.search.substr(1)):void 0)||{},c=a&&a[0].userAttributes?a[0].userAttributes:this.targetContent?this.getUserAttributes():{urlPath:this.getLocation().pathname},d=a.find(function(e){return!!e.includeUrl});if(d){var h=this.getLocation();h.origin&&(l.url="".concat(h.origin).concat(h.pathname).concat(h.search))}var p=null==r?void 0:r.find(function(e){return e.url});(null==p?void 0:p.url)&&(c.urlPath=p.url.split("?")[0]),l.userAttributes=JSON.stringify(c),t||r||(this.priorContentQueue=a,this.getContentQueue=null);var f=this.cachebust||isIframe||u.cachebust||u["builder.cachebust"];if((f||"production"!==this.env)&&(l.cachebust=!0),e.isEditing&&(l.isEditing=!0),(this.noCache||"production"!==this.env)&&(l.noCache=!0),size(this.overrides))for(var m in this.overrides)this.overrides.hasOwnProperty(m)&&(l["overrides.".concat(m)]=this.overrides[m]);for(var g=0,v=a;g<v.length;g++){var y=v[g],b=y.format;b&&(l.format=b),y.static&&(l.static=y.static),y.cachebust&&(l.cachebust=y.cachebust),isPositiveNumber(y.cacheSeconds)&&(l.cacheSeconds=y.cacheSeconds),isPositiveNumber(y.staleCacheSeconds)&&(l.staleCacheSeconds=y.staleCacheSeconds),"content"===this.apiEndpoint&&(l.includeRefs=!0);for(var w=["prerender","extractCss","limit","offset","query","preview","model","entry","rev","static","includeRefs"],k=0,S=w;k<S.length;k++){var m=S[k],x=y[m];void 0!==x&&("query"===this.apiEndpoint?(l.options=l.options||{},l.options[y.key]=l.options[y.key]||{},l.options[y.key][m]=JSON.stringify(x)):l[m]=JSON.stringify(x))}}this.preview&&this.previewingModel===(null==(i=null==a?void 0:a[0])?void 0:i.model)&&(l.preview="true");var _=Object.keys(l).length>0,E=this.host,C=a.map(function(e){return encodeURIComponent(e.key)}).join(",");this.overrideParams&&assign(l,omit(QueryString.parse(this.overrideParams),"apiKey"));var T=l.format,j="solid"===T||"react"===T,O=j||"query"===this.apiEndpoint;if("content"===this.apiEndpoint&&a[0].query){delete l.query;var A={query:a[0].query},I=this.flattenMongoQuery(A);for(var m in I)l[m]=JSON.stringify(I[m])}var P=QueryString.stringifyDeep(l),R=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({headers:{}},a[0].fetchOptions);this.authToken&&(R.headers=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},R.headers),{Authorization:"Bearer ".concat(this.authToken)})),s=j?"".concat(E,"/api/v1/codegen/").concat(this.apiKey,"/").concat(C):"query"===this.apiEndpoint?"".concat(E,"/api/v3/query/").concat(this.apiKey,"/").concat(C):"".concat(E,"/api/v3/content/").concat(a[0].model),s+=l&&_?"?".concat(P):"";var $=this.makeFetchApiCall(s,R).then(function(e){return e.json()}).then(function(t){for(var r=0,n=a;r<n.length;r++){var i=n[r],s=i.key;if(i.model!==o.blockContentLoading||i.noEditorUpdates){var l=o.editingModel===i.model;l&&e.isEditing&&parent.postMessage({type:"builder.updateContent",data:{options:i}},"*");var u=o.observersByKey[s];if(!u)return;var c=O?t[s]:t.results,d=c;if(c){var h=e.isServer?d:o.processResultsForTests(d);u.next(h)}else{if((o.getLocation().search||"").includes("builder.preview="+i.model)){var p={id:"preview",name:"Preview",data:{}};u.next([p])}u.next([])}}}},function(e){for(var t=0,r=a;t<r.length;t++){var n=r[t],i=o.observersByKey[n.key];if(!i)return;i.error(e)}});return $}},e.prototype.processResultsForTests=function(e){var t,r=this,n=e.map(function(e){if(!e.variations)return e;var t=r.getTestCookie(e.id),n=t===e.id?e:e.variations[t];if(n)return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e),{data:n.data,variationId:t,testVariationId:t,testVariationName:n.name});if(r.canTrack&&e.variations&&size(e.variations)){var i=0,s=Math.random();for(var o in e.variations){var a=e.variations[o];if(s<(i+=a.testRatio)){r.setTestCookie(e.id,a.id);var l=a.name||(a.id===e.id?"Default variation":"");return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e),{data:a.data,variationId:a.id,testVariationId:a.id,variationName:l,testVariationName:l})}}r.setTestCookie(e.id,e.id)}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},e),{variationId:e.id}),e.variations&&size(e.variations)&&{testVariationId:e.id,testVariationName:"Default variation"})});return isIframe&&(null==(t=window.parent)||t.postMessage({type:"builder.contentResults",data:{results:n}},"*")),n},e.prototype.getTestCookie=function(e){return this.getCookie("".concat(this.testCookiePrefix,".").concat(e))},e.prototype.setTestCookie=function(e,t){if(!this.canTrack)return void this.cookieQueue.push([e,t]);var r=new Date;return r.setDate(r.getDate()+30),this.setCookie("".concat(this.testCookiePrefix,".").concat(e),t,r)},e.prototype.getCookie=function(t){return this.cookies?this.cookies.get(t):e.isBrowser&&getCookie(t)},e.prototype.setCookie=function(t,r,n){return this.cookies&&!(e.isServer&&e.isStatic)?this.cookies.set(t,r,{expires:n,secure:"https:"===this.getLocation().protocol}):e.isBrowser&&setCookie(t,r,n)},e.prototype.getContent=function(e,t){if(void 0===t&&(t={}),!this.apiKey)throw Error("Fetching content from model ".concat(e," failed, expected apiKey to be defined instead got: ").concat(this.apiKey));return this.queueGetContent(e,t)},e.prototype.getAll=function(t,r){void 0===r&&(r={});var n=this;return e.isBrowser?(r.apiKey&&!this.apiKey&&(this.apiKey=r.apiKey),r.authToken&&!this.authToken&&(this.authToken=r.authToken),r.apiVersion&&!this.apiVersion&&(this.apiVersion=r.apiVersion)):(n=new e(r.apiKey||this.apiKey,r.req,r.res,!1,r.authToken||this.authToken,r.apiVersion||this.apiVersion)).setUserAttributes(this.getUserAttributes()),"noTraverse"in r||(r.noTraverse=!0),n.getContent(t,(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({limit:30},r),{key:r.key||e.isBrowser?"".concat(t,":").concat(hash_sum__WEBPACK_IMPORTED_MODULE_0___default()(omit(r,"initialContent","req","res"))):void 0})).promise()},e.VERSION=SDK_VERSION,e.components=[],e.isStatic=!0,e.animator=new Animator,e.nextTick=nextTick,e.throttle=throttle,e.editors=[],e.trustedHosts=["*.beta.builder.io","beta.builder.io","builder.io","localhost","qa.builder.io"],e.plugins=[],e.actions=[],e.registry={},e.attributesCookieName="builder.userAttributes",e.registryChange=new BehaviorSubject({}),e._editingPage=!1,e.isIframe=isIframe,e.isBrowser=isBrowser,e.isReactNative=isReactNative,e.isServer=!isBrowser&&!isReactNative,e.previewingModel=e.isBrowser&&getQueryParam(location.href,"builder.preview"),e.settings={},e.settingsChange=new BehaviorSubject({}),e.isEditing=!!(isIframe&&(document.referrer&&document.referrer.match(/builder\.io|localhost:1234/)||-1!==location.search.indexOf("builder.frameEditing="))),e.isPreviewing=!!(isBrowser&&(-1!==location.search.indexOf("builder.preview=")||-1!==location.search.indexOf("builder.frameEditing="))),e.isReact=!1,e.sdkInfo=void 0,e.overrideUserAttributes={},e}(),builder=new Builder(null,void 0,void 0,!0);Builder.singletonInstance=builder},9341:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(377));class s extends i.default{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let i=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!=(o=this.headers.get("Accept"))?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}t.default=s},9503:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;let i=n(r(4761));t.PostgrestClient=i.default;let s=n(r(5997));t.PostgrestQueryBuilder=s.default;let o=n(r(7711));t.PostgrestFilterBuilder=o.default;let a=n(r(9341));t.PostgrestTransformBuilder=a.default;let l=n(r(377));t.PostgrestBuilder=l.default;let u=n(r(1528));t.PostgrestError=u.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default}}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(92),t(6296))),_N_E=e.O()}]);