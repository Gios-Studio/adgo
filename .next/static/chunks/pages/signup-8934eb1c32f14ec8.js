(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{45708:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(48877)}])},48877:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(37876),s=a(14232),u=a(89099),l=a(4613);function n(){let e=(0,u.useRouter)(),[t,a]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[o,p]=(0,s.useState)("advertiser"),[d,c]=(0,s.useState)(!1);async function h(a){a.preventDefault(),c(!0);let{data:r,error:s}=await l.N.auth.signUp({email:t,password:n});if(s){alert(s.message),c(!1);return}let u=r.user;if(!u){alert("No user returned from Supabase"),c(!1);return}await l.N.from("users").insert([{id:u.id,email:t,role:o}]).select(),e.push("/dashboard/".concat(o))}return(0,r.jsxs)("form",{onSubmit:h,className:"max-w-sm mx-auto mt-20 space-y-4",children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",value:t,onChange:e=>a(e.target.value),className:"w-full border p-2"}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>i(e.target.value),className:"w-full border p-2"}),(0,r.jsxs)("select",{value:o,onChange:e=>p(e.target.value),className:"w-full border p-2",children:[(0,r.jsx)("option",{value:"advertiser",children:"Advertiser"}),(0,r.jsx)("option",{value:"driver",children:"Driver"}),(0,r.jsx)("option",{value:"partner",children:"Partner"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2",disabled:d,children:d?"Signing upâ€¦":"Sign Up"})]})}},89099:(e,t,a)=>{e.exports=a(16296)}},e=>{e.O(0,[636,593,792],()=>e(e.s=45708)),_N_E=e.O()}]);